'use strict';var q;function aa(a,b,c){this.h=a;this.v=c;this.u=[104,111,115,116,57,112];this.G=this.u.length;this.D="9P2000.L";this.j=this.o=8192;this.i=new Uint8Array(2*this.j);this.C=0;this.g=[];this.ja=new ba(b,{name:"virtio-9p",Ga:48,le:4169,Sf:9,je:{zb:43008,ha:[{cb:32,Bb:0}],features:[0,32,29,28],zi:()=>{}},notification:{zb:43264,bh:!1,tg:[e=>{if(0===e){for(;ca(this.l);)e=ia(this.l),ja(this,e);e=this.l;const d=e.s.Pa(e.g+2)+0&65535;e.s.Re(e.h+4+8*e.size,d)}}]},Sb:{zb:42752},zf:{zb:42496,cd:[{bytes:2,name:"mount tag length",
read:()=>this.G,write:()=>{}}].concat(Array.from(Array(254).keys()).map(e=>({bytes:1,name:"mount tag name "+e,read:()=>this.u[e]||0,write:()=>{}})))}});this.l=this.ja.ha[0]}aa.prototype.ca=function(){var a=[];a[0]=this.u;a[1]=this.G;a[2]=this.ja;a[3]=this.D;a[4]=this.o;a[5]=this.j;a[6]=this.i;a[7]=this.C;a[8]=this.g.map(function(b){return[b.ba,b.type,b.uid,b.pc]});a[9]=this.h;return a};
aa.prototype.H=function(a){this.u=a[0];this.G=a[1];this.ja.H(a[2]);this.l=this.ja.ha[0];this.D=a[3];this.o=a[4];this.j=a[5];this.i=a[6];this.C=a[7];this.g=a[8].map(function(b){return{ba:b[0],type:b[1],uid:b[2],pc:b[3]}});this.h.H(a[9])};function v(a,b,c,e){w(["w","b","h"],[e+7,b+1,c],a.i,0);a.C=e+7}function ka(a,b,c){c=w(["w"],[c],a.i,7);v(a,6,b,c)}function D(a,b){la(b,a.i.subarray(0,a.C));ma(a.l,b);qa(a.l)}
async function ja(a,b){var c=new Uint8Array(b.ze);ra(b,c);var e={offset:0},d=E(["w","b","h"],c,e),g=d[0],f=d[1],h=d[2];switch(f){case 8:g=ua(a.h);var k=va(a.h);d=[16914839];d[1]=a.o;d[2]=Math.floor(k/d[1]);d[3]=d[2]-Math.floor(g/d[1]);d[4]=d[2]-Math.floor(g/d[1]);d[5]=wa(a.h);d[6]=xa(a.h);d[7]=0;d[8]=256;g=w("wwddddddw".split(""),d,a.i,7);v(a,f,h,g);D(a,b);break;case 112:case 12:d=E(["w","w"],c,e);g=d[0];e=d[1];c=a.g[g].ba;var l=J(a.h,c);k=ya(a.h,c,e);za(a.h,a.g[g].ba,function(){var n=[];n[0]=l.Ca;
n[1]=this.j-24;w(["Q","w"],n,this.i,7);v(this,f,h,17);D(this,b)}.bind(a));break;case 70:d=E(["w","w","s"],c,e);c=d[0];g=d[1];k=d[2];k=Ba(a.h,a.g[c].ba,a.g[g].ba,k);if(0>k){ka(a,h,-k);D(a,b);break}v(a,f,h,0);D(a,b);break;case 16:d=E(["w","s","s","w"],c,e);g=d[0];k=d[1];var m=d[3];c=Ca(a.h,k,a.g[g].ba,d[2]);l=J(a.h,c);l.uid=a.g[g].uid;l.Ma=m;w(["Q"],[l.Ca],a.i,7);v(a,f,h,13);D(a,b);break;case 18:d=E("wswwww".split(""),c,e);g=d[0];k=d[1];e=d[2];c=d[3];var t=d[4];m=d[5];c=Da(a.h,k,a.g[g].ba,c,t);l=J(a.h,
c);l.mode=e;l.uid=a.g[g].uid;l.Ma=m;w(["Q"],[l.Ca],a.i,7);v(a,f,h,13);D(a,b);break;case 22:d=E(["w"],c,e);g=d[0];l=J(a.h,a.g[g].ba);g=w(["s"],[l.Me],a.i,7);v(a,f,h,g);D(a,b);break;case 72:d=E(["w","s","w","w"],c,e);g=d[0];k=d[1];e=d[2];m=d[3];c=Ea(a.h,k,a.g[g].ba);l=J(a.h,c);l.mode=e|Ga;l.uid=a.g[g].uid;l.Ma=m;w(["Q"],[l.Ca],a.i,7);v(a,f,h,13);D(a,b);break;case 14:d=E(["w","s","w","w","w"],c,e);g=d[0];k=d[1];c=d[2];e=d[3];m=d[4];a.v.send("9p-create",[k,a.g[g].ba]);c=Ha(a.h,k,a.g[g].ba);a.g[g].ba=
c;a.g[g].type=1;a.g[g].pc=k;l=J(a.h,c);l.uid=a.g[g].uid;l.Ma=m;l.mode=e|Ia;w(["Q","w"],[l.Ca,a.j-24],a.i,7);v(a,f,h,17);D(a,b);break;case 52:d=E("wbwddws".split(""),c,e);g=d[0];c=d[2];k=0===d[4]?Infinity:d[4];d=Ja(d[1],d[3],k,d[5],d[6]);k=Ka(a.h,a.g[g].ba,d,c);w(["b"],[k],a.i,7);v(a,f,h,1);D(a,b);break;case 54:d=E("wbddws".split(""),c,e);g=d[0];k=0===d[3]?Infinity:d[3];d=Ja(d[1],d[2],k,d[4],d[5]);k=La(a.h,a.g[g].ba,d);k||(k=d,k.type=2);g=w(["b","d","d","w","s"],[k.type,k.start,Infinity===k.length?
0:k.length,k.h,k.g],a.i,7);v(a,f,h,g);D(a,b);break;case 24:d=E(["w","d"],c,e);g=d[0];l=J(a.h,a.g[g].ba);if(!l||l.status===Na){ka(a,h,2);D(a,b);break}d[0]|=4096;d[0]=d[1];d[1]=l.Ca;d[2]=l.mode;d[3]=l.uid;d[4]=l.Ma;d[5]=l.ab;d[6]=l.af<<8|l.bf;d[7]=l.size;d[8]=a.o;d[9]=Math.floor(l.size/512+1);d[10]=l.fd;d[11]=0;d[12]=l.wc;d[13]=0;d[14]=l.Rd;d[15]=0;d[16]=0;d[17]=0;d[18]=0;d[19]=0;w("dQwwwddddddddddddddd".split(""),d,a.i,7);v(a,f,h,153);D(a,b);break;case 26:d=E("wwwwwddddd".split(""),c,e);g=d[0];l=J(a.h,
a.g[g].ba);d[1]&1&&(l.mode=d[2]);d[1]&2&&(l.uid=d[3]);d[1]&4&&(l.Ma=d[4]);d[1]&16&&(l.fd=Math.floor((new Date).getTime()/1E3));d[1]&32&&(l.wc=Math.floor((new Date).getTime()/1E3));d[1]&64&&(l.Rd=Math.floor((new Date).getTime()/1E3));d[1]&128&&(l.fd=d[6]);d[1]&256&&(l.wc=d[8]);d[1]&8&&await Oa(a.h,a.g[g].ba,d[5]);v(a,f,h,0);D(a,b);break;case 50:d=E(["w","d"],c,e);g=d[0];v(a,f,h,0);D(a,b);break;case 40:case 116:d=E(["w","d","w"],c,e);g=d[0];k=d[1];m=d[2];l=J(a.h,a.g[g].ba);if(!l||l.status===Na){ka(a,
h,2);D(a,b);break}if(2==a.g[g].type){(void 0).length<k+m&&(m=(void 0).length-k);for(d=0;d<m;d++)a.i[11+d]=(void 0)[k+d];w(["w"],[m],a.i,7);v(a,f,h,4+m)}else ya(a.h,a.g[g].ba,void 0),d=a.g[g].ba,m=Math.min(m,a.i.length-11),l.size<k+m?m=l.size-k:40==f&&(m=Pa(a.h,d,k+m)-k),k>l.size&&(m=0),a.v.send("9p-read-start",[a.g[g].pc]),d=await Qa(a.h,d,k,m),a.v.send("9p-read-end",[a.g[g].pc,m]),d&&a.i.set(d,11),w(["w"],[m],a.i,7),v(a,f,h,4+m);D(a,b);break;case 118:d=E(["w","d","w"],c,e);g=d[0];k=d[1];m=d[2];d=
a.g[g].pc;if(2===a.g[g].type){ka(a,h,95);D(a,b);break}else await Ra(a.h,a.g[g].ba,k,m,c.subarray(e.offset));a.v.send("9p-write-end",[d,m]);w(["w"],[m],a.i,7);v(a,f,h,4);D(a,b);break;case 74:d=E(["w","s","w","s"],c,e);k=await Sa(a.h,a.g[d[0]].ba,d[1],a.g[d[2]].ba,d[3]);if(0>k){ka(a,h,-k);D(a,b);break}v(a,f,h,0);D(a,b);break;case 76:d=E(["w","s","w"],c,e);e=d[0];k=d[1];c=d[2];g=Ta(a.h,a.g[e].ba,k);if(-1==g){ka(a,h,2);D(a,b);break}k=Ua(a.h,a.g[e].ba,k);if(0>k){ka(a,h,-k);D(a,b);break}v(a,f,h,0);D(a,
b);break;case 100:g=E(["w","s"],c,e);a.j!==g[0]&&(a.j=g[0],a.i=new Uint8Array(Math.min(16777216,2*a.j)));g=w(["w","s"],[a.j,a.D],a.i,7);v(a,f,h,g);D(a,b);break;case 104:d=E(["w","w","s","s","w"],c,e);g=d[0];a.g[g]={ba:0,type:1,uid:d[4],pc:""};l=J(a.h,a.g[g].ba);w(["Q"],[l.Ca],a.i,7);v(a,f,h,13);D(a,b);a.v.send("9p-attach");break;case 108:d=E(["h"],c,e);v(a,f,h,0);D(a,b);break;case 110:d=E(["w","w","h"],c,e);g=d[0];m=d[1];t=d[2];if(0==t){a.g[m]={ba:a.g[g].ba,type:1,uid:a.g[g].uid,pc:a.g[g].pc};w(["h"],
[0],a.i,7);v(a,f,h,2);D(a,b);break}k=[];for(d=0;d<t;d++)k.push("s");e=E(k,c,e);c=a.g[g].ba;k=9;var r=0;for(d=0;d<t;d++){c=Ta(a.h,c,e[d]);if(-1==c)break;k+=w(["Q"],[J(a.h,c).Ca],a.i,k);r++;a.g[m]={ba:c,type:1,uid:a.g[g].uid,pc:e[d]}}w(["h"],[r],a.i,7);v(a,f,h,k-7);D(a,b);break;case 120:d=E(["w"],c,e);a.g[d[0]]&&0<=a.g[d[0]].ba&&(await Va(a.h,a.g[d[0]].ba),a.g[d[0]].ba=-1,a.g[d[0]].type=-1);v(a,f,h,0);D(a,b);break;case 32:d=E(["w","s","d","w"],c,e);g=d[0];k=d[1];c=d[3];a.g[g].type=2;v(a,f,h,0);D(a,
b);break;case 30:d=E(["w","w","s"],c,e),g=d[0],k=d[2],ka(a,h,95),D(a,b)}};function Wa(a,b){function c(y){y=y.toString(16);return"#"+"0".repeat(6-y.length)+y}function e(y,B,V,Q){y.style.width="";y.style.height="";Q&&(y.style.transform="");var Y=y.getBoundingClientRect();Q?y.style.transform=(1===B?"":" scaleX("+B+")")+(1===V?"":" scaleY("+V+")"):(0===B%1&&0===V%1?(d.style.imageRendering="crisp-edges",d.style.imageRendering="pixelated",d.style["-ms-interpolation-mode"]="nearest-neighbor"):(d.style.imageRendering="",d.style["-ms-interpolation-mode"]=""),Q=window.devicePixelRatio||
1,0!==Q%1&&(B/=Q,V/=Q));1!==B&&(y.style.width=Y.width*B+"px");1!==V&&(y.style.height=Y.height*V+"px")}console.assert(a,"1st argument must be a DOM container");var d=a.getElementsByTagName("canvas")[0],g=d.getContext("2d",{alpha:!1}),f=a.getElementsByTagName("div")[0],h=document.createElement("div"),k,l,m=1,t=1,r=1,n,u=!1,x,p,C,G=!1,T=this;a=new Uint16Array([8962,199,252,233,226,228,224,229,231,234,235,232,239,238,236,196,197,201,230,198,244,246,242,251,249,255,214,220,162,163,165,8359,402,225,237,
243,250,241,209,170,186,191,8976,172,189,188,161,171,187,9617,9618,9619,9474,9508,9569,9570,9558,9557,9571,9553,9559,9565,9564,9563,9488,9492,9524,9516,9500,9472,9532,9566,9567,9562,9556,9577,9574,9568,9552,9580,9575,9576,9572,9573,9561,9560,9554,9555,9579,9578,9496,9484,9608,9604,9612,9616,9600,945,223,915,960,931,963,181,964,934,920,937,948,8734,966,949,8745,8801,177,8805,8804,8992,8993,247,8776,176,8729,183,8730,8319,178,9632,160]);for(var ha=new Uint16Array([32,9786,9787,9829,9830,9827,9824,8226,
9688,9675,9689,9794,9792,9834,9835,9788,9658,9668,8597,8252,182,167,9644,8616,8593,8595,8594,8592,8735,8596,9650,9660]),A=[],F,H=0;256>H;H++)F=126<H?a[H-127]:32>H?ha[H]:H,A[H]=String.fromCharCode(F);g.imageSmoothingEnabled=!1;h.style.position="absolute";h.style.backgroundColor="#ccc";h.style.width="7px";h.style.display="inline-block";f.style.display="block";d.style.display="none";this.v=b;b.register("screen-set-mode",function(y){this.Qf(y)},this);b.register("screen-fill-buffer-end",function(y){this.Yf(y)},
this);b.register("screen-put-char",function(y){this.Kf(y[0],y[1],y[2],y[3],y[4])},this);b.register("screen-update-cursor",function(y){this.Jd(y[0],y[1])},this);b.register("screen-update-cursor-scanline",function(y){this.Kd(y[0],y[1])},this);b.register("screen-clear",function(){this.eg()},this);b.register("screen-set-size-text",function(y){this.Gd(y[0],y[1])},this);b.register("screen-set-size-graphical",function(y){this.Fd(y[0],y[1],y[2],y[3])},this);this.nb=function(){this.Gd(80,25);this.Fb()};this.wi=
function(){const y=new Image;if(u)y.src=d.toDataURL("image/png");else{const B=[9,16],V=document.createElement("canvas");V.width=p*B[0];V.height=C*B[1];const Q=V.getContext("2d");Q.imageSmoothingEnabled=!1;Q.font=window.getComputedStyle(f).font;Q.textBaseline="top";for(let Y=0;Y<p;Y++)for(let da=0;da<C;da++){const na=3*(da*p+Y);Q.fillStyle=c(x[na+1]);Q.fillRect(Y*B[0],da*B[1],B[0],B[1]);Q.fillStyle=c(x[na+2]);Q.fillText(A[x[na]],Y*B[0],da*B[1])}"none"!==h.style.display&&(Q.fillStyle=h.style.backgroundColor,
Q.fillRect(l*B[0],k*B[1]+parseInt(h.style.marginTop,10)-1,parseInt(h.style.width,10),parseInt(h.style.height,10)));y.src=V.toDataURL("image/png")}return y};this.Kf=function(y,B,V,Q,Y){y<C&&B<p&&(B=3*(y*p+B),x[B]=V,x[B+1]=Q,x[B+2]=Y,n[y]=1)};this.Fb=function(){G||requestAnimationFrame(u?ea:I)};var I=function(){for(var y=0;y<C;y++)n[y]&&(T.g(y),n[y]=0);this.Fb()}.bind(this),ea=function(){this.v.send("screen-fill-buffer");this.Fb()}.bind(this);this.ra=function(){G=!0};this.Qf=function(y){(u=y)?(f.style.display=
"none",d.style.display="block"):(f.style.display="block",d.style.display="none")};this.eg=function(){g.fillStyle="#000";g.fillRect(0,0,d.width,d.height)};this.Gd=function(y,B){if(y!==p||B!==C){n=new Int8Array(B);x=new Int32Array(y*B*3);p=y;for(C=B;f.childNodes.length>B;)f.removeChild(f.firstChild);for(;f.childNodes.length<B;)f.appendChild(document.createElement("div"));for(y=0;y<B;y++)this.g(y);e(f,m,t,!0)}};this.Fd=function(y,B){d.style.display="block";d.width=y;d.height=B;r=640>=y&&2*y<window.innerWidth*
window.devicePixelRatio&&2*B<window.innerHeight*window.devicePixelRatio?2:1;e(d,m*r,t*r,!1)};this.Rf=function(y,B){m=y;t=B;e(f,m,t,!0);e(d,m*r,t*r,!1)};this.Rf(m,t);this.Kd=function(y,B){y&32?h.style.display="none":(h.style.display="inline",h.style.height=Math.min(15,B-y)+"px",h.style.marginTop=Math.min(15,y)+"px")};this.Jd=function(y,B){if(y!==k||B!==l)n[y]=1,n[k]=1,k=y,l=B};this.g=function(y){var B=3*y*p,V;var Q=f.childNodes[y];var Y=document.createElement("div");for(var da=0;da<p;){var na=document.createElement("span");
var Fa=x[B+1];var Ma=x[B+2];na.style.backgroundColor=c(Fa);na.style.color=c(Ma);for(V="";da<p&&x[B+1]===Fa&&x[B+2]===Ma;)if(V+=A[x[B]],da++,B+=3,y===k)if(da===l)break;else if(da===l+1){Y.appendChild(h);break}na.textContent=V;Y.appendChild(na)}Q.parentNode.replaceChild(Y,Q)};this.Yf=function(y){y.forEach(B=>{g.putImageData(B.Qb,B.Of-B.Se,B.Pf-B.Te,B.Se,B.Te,B.xf,B.wf)})};this.nb()};(function(){function a(){for(var r=location.search.substr(1).split("&"),n={},u=0;u<r.length;u++){var x=r[u].split("=");n[x[0]]=decodeURIComponent(x.slice(1).join("="))}return n}function b(r){document.title=r+" - Virtual x86";const n=document.querySelector("meta[name=description]");n&&(n.content="Running "+r)}function c(r){return document.getElementById(r)}function e(){function r(A){c("boot_options").style.display="none";b(A.name);u.filesystem=A.filesystem;A.state&&(c("reset").style.display="none",
u.Rb=A.state);u.aa=A.aa;u.X=A.X;u.I=A.I;u.Ab=A.Ab;u.eb=A.eb;u.ob=A.ob;u.Sa=A.Sa;u.Gb=A.Gb;u.pb=A.pb;u.Fc=A.Fc;u.ua=A.state||void 0===u.ua?A.ua:u.ua;u.F=!A.state&&u.F?u.F:A.F;u.Y=!A.state&&u.Y?u.Y:A.Y;u.Af=A.Af;u.id=A.id;void 0!==A.lc&&(u.lc=A.lc);var F=parseInt(x.chunk_size,10);0<=F&&(F?(F=Math.min(4194304,Math.max(512,F)),F=1<<Math.ceil(Math.log2(F))):F=void 0,u.I&&(u.I.J=F),u.X&&(u.X.J=F));A.Z&&(c("description").style.display="block",F=document.createElement("a"),F.href=A.Z,F.textContent=A.name,
F.target="_blank",c("description").appendChild(document.createTextNode("Running ")),c("description").appendChild(F));d(u,n)}function n(A){x.c&&setTimeout(function(){Xa(A,x.c+"\n")},25)}if(window.WebAssembly){var u={};c("start_emulation").onclick=function(){for(var A of t){const H=c(A);H&&("SELECT"===H.tagName||"checkbox"!==H.type?window.localStorage.setItem(A,H.value):window.localStorage.setItem(A,H.checked))}c("boot_options").style.display="none";k("custom");if(A=c("floppy_image").files[0]){var F=
A;u.aa={buffer:A}}if(A=c("cd_image").files[0])F=A,u.X={buffer:A};if(A=c("hda_image").files[0])F=A,u.I={buffer:A};if(A=c("hdb_image")&&c("hdb_image").files[0])F=A,u.tc={buffer:A};c("multiboot_image")&&(A=c("multiboot_image").files[0])&&(F=A,u.Ab={buffer:A});F&&b(F.name);d(u)};var x=a(),p=x.cdn||(l?"//localhost:8080/images/":"//people.igalia.com/jmichaud/js-ctf-data/images/");p=[{id:"debian",name:"debian",F:536870912,Y:8388608,zc:document.getElementById("screen_container"),Ra:{url:"../bios/seabios.bin"},
Bc:{url:"../bios/vgabios.bin"},filesystem:{Cc:p+"debian-9p-rootfs-flat",Pd:p+"debian-base-fs.json",async:!1},gd:!0,Gb:!0,Sa:"rw init=/bin/systemd root=host9p console=ttyS0 spectre_v2=off pti=off",state:{url:p+"debian-state-base.bin"}},{id:"ctf0",name:"ctf0",F:536870912,Y:8388608,zc:document.getElementById("screen_container"),Ra:{url:"../bios/seabios.bin"},Bc:{url:"../bios/vgabios.bin"},filesystem:{Cc:p+"debian-9p-rootfs-flat",Pd:p+"debian-base-fs.json",async:!1},gd:!0,Gb:!0,Sa:"rw init=/bin/systemd root=host9p console=ttyS0 spectre_v2=off pti=off",
state:{url:p+"ctf0.bin"}},{id:"ctf1",name:"ctf1",F:536870912,Y:8388608,zc:document.getElementById("screen_container"),Ra:{url:"../bios/seabios.bin"},Bc:{url:"../bios/vgabios.bin"},filesystem:{Cc:p+"debian-9p-rootfs-flat",Pd:p+"debian-base-fs.json",async:!1},gd:!0,Gb:!0,Sa:"rw init=/bin/systemd root=host9p console=ttyS0 spectre_v2=off pti=off",state:{url:p+"ctf1.bin"}},{id:"ctf2",name:"ctf2",F:536870912,Y:8388608,zc:document.getElementById("screen_container"),Ra:{url:"../bios/seabios.bin"},Bc:{url:"../bios/vgabios.bin"},
filesystem:{Cc:p+"debian-9p-rootfs-flat",Pd:p+"debian-base-fs.json",async:!1},gd:!0,Gb:!0,Sa:"rw init=/bin/systemd root=host9p console=ttyS0 spectre_v2=off pti=off",state:{url:p+"ctf2.bin"}},{id:"soln",name:"soln",F:536870912,Y:8388608,zc:document.getElementById("screen_container"),Ra:{url:"../bios/seabios.bin"},Bc:{url:"../bios/vgabios.bin"},filesystem:{Cc:p+"debian-9p-rootfs-flat",Pd:p+"debian-base-fs.json",async:!1},gd:!0,Gb:!0,Sa:"rw init=/bin/systemd root=host9p console=ttyS0 spectre_v2=off pti=off",
state:{url:p+"soln.bin"}},{id:"debian-boot",name:"Debian Linux",F:536870912,Y:8388608,zc:document.getElementById("screen_container"),Ra:{url:"../bios/seabios.bin"},Bc:{url:"../bios/vgabios.bin"},filesystem:{Cc:p+"debian-rootfs-flat",Pd:p+"debian-fs.json",async:!1},gd:!0,Gb:!0,Sa:"rw init=/bin/systemd root=host9p console=ttyS0 spectre_v2=off pti=off"},{id:"copy/skiffos",name:"SkiffOS",X:{url:p+"skiffos.iso",size:124672E3,async:!1,J:1048576,fa:!l},F:536870912},{id:"serenity",name:"SerenityOS",I:{url:p+
"serenity-v3/.img.zst",size:734003200,async:!1,J:1048576,fa:!0},F:536870912,state:{url:p+"serenity_state-v4.bin.zst"},Z:"https://serenityos.org/",pb:!0},{id:"serenity-boot",name:"SerenityOS",I:{url:p+"serenity-v3/.img.zst",size:734003200,async:!1,J:1048576,fa:!0},F:536870912,Z:"https://serenityos.org/"},{id:"redox",name:"Redox",I:{url:p+"redox_demo_i686_2022-11-26_643_harddrive.img",size:536870912,async:!1,J:1048576,fa:!l},F:536870912,state:{url:p+"redox_state.bin.zst"},Z:"https://www.redox-os.org/",
ua:!0},{id:"redox-boot",name:"Redox",I:{url:p+"redox_demo_i686_2022-11-26_643_harddrive.img",size:536870912,async:!1,J:1048576,fa:!l},F:536870912,Z:"https://www.redox-os.org/",ua:!0},{id:"helenos",F:268435456,X:{url:p+"HelenOS-0.11.2-ia32.iso",size:25765888,async:!1},name:"HelenOS",Z:"http://www.helenos.org/"},{id:"fiwix",F:268435456,I:{url:p+"FiwixOS-3.3-i386.img",size:1073741824,async:!1,J:1048576,fa:!l},name:"FiwixOS",Z:"https://www.fiwix.org/"},{id:"haiku",F:536870912,I:{url:p+"haiku-v3.img",
size:1073741824,async:!1,J:1048576,fa:!l},state:{url:p+"haiku_state-v3.bin.zst"},name:"Haiku",Z:"https://www.haiku-os.org/"},{id:"haiku-boot",F:536870912,I:{url:p+"haiku-v3.img",size:1073741824,async:!1,J:1048576,fa:!l},name:"Haiku",Z:"https://www.haiku-os.org/"},{id:"msdos",I:{url:p+"msdos.img",size:8388608,async:!1},name:"MS-DOS"},{id:"freedos",aa:{url:p+"freedos722.img",size:737280,async:!1},name:"FreeDOS"},{id:"freegem",I:{url:p+"freegem.bin",size:209715200,async:!1},name:"Freedos with FreeGEM"},
{id:"psychdos",I:{url:p+"psychdos.img",size:549453824,async:!1,J:262144,fa:!l},name:"PsychDOS",Z:"https://psychoslinux.gitlab.io/DOS/INDEX.HTM"},{id:"oberon",I:{url:p+"oberon.img",size:25165824,async:!1},name:"Oberon"},{id:"windows1",aa:{url:p+"windows101.img",size:1474560,async:!1},name:"Windows"},{id:"linux26",X:{url:p+"linux.iso",size:6547456,async:!1},name:"Linux"},{id:"linux3",X:{url:p+"linux3.iso",size:8624128,async:!1},name:"Linux"},{id:"linux4",X:{url:p+"linux4.iso",size:7731200,async:!1},
name:"Linux",filesystem:{}},{id:"buildroot",eb:{url:p+"buildroot-bzimage.bin",size:5166352,async:!1},name:"buildroot"},{id:"basiclinux",I:{url:p+"bl3-5.img",size:104857600,async:!1},name:"BasicLinux"},{id:"xpud",X:{url:p+"xpud-0.9.2.iso",size:67108864,async:!1},name:"xPUD",F:268435456},{id:"elks",I:{url:p+"elks-hd32-fat.img",size:32514048,async:!1},name:"ELKS"},{id:"nodeos",eb:{url:p+"nodeos-kernel.bin",size:14452E3,async:!1},name:"NodeOS",Sa:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"dsl",
F:268435456,X:{url:p+"dsl.iso",size:52824064,async:!1},name:"Damn Small Linux",Z:"http://www.damnsmalllinux.org/"},{id:"xwoaf",F:268435456,X:{url:p+"xwoaf_rebuild4.iso",size:2205696,async:!1},name:"xwoaf",Z:"https://pupngo.dk/xwinflpy/xwoaf_rebuild.html"},{id:"minix",name:"Minix",F:268435456,X:{url:p+"minix-3.3.0.iso",size:605581312,async:!1,J:1048576,fa:!l},Z:"https://www.minix3.org/"},{id:"kolibrios",aa:{url:l?p+"kolibri.img":"//builds.kolibrios.org/eng/data/data/kolibri.img",size:1474560,async:!1},
name:"KolibriOS",Z:"https://kolibrios.org/en/"},{id:"kolibrios-fallback",aa:{url:p+"kolibri.img",size:1474560,async:!1},name:"KolibriOS"},{id:"mu",I:{url:p+"mu-shell.img"},F:268435456,name:"Mu",Z:"https://github.com/akkartik/mu"},{id:"openbsd",I:{url:p+"openbsd.img",size:1073741824,async:!1,J:1048576,fa:!l},state:{url:p+"openbsd_state.bin.zst"},F:268435456,name:"OpenBSD"},{id:"sortix",X:{url:p+"sortix-1.0-i686.iso",size:71075840,async:!1},F:536870912,name:"Sortix"},{id:"openbsd-boot",I:{url:p+"openbsd.img",
size:1073741824,async:!1,J:1048576,fa:!l},F:268435456,name:"OpenBSD"},{id:"netbsd",I:{url:p+"netbsd.img",size:511000064,async:!1,J:1048576,fa:!l},F:268435456,name:"NetBSD"},{id:"crazierl",Ab:{url:p+"crazierl-elf.img",size:896592,async:!1},ob:{url:p+"crazierl-initrd.img",size:18448316,async:!1},ua:!0,Sa:"kernel /libexec/ld-elf32.so.1",F:134217728,name:"Crazierl"},{id:"solos",aa:{url:p+"os8.img",async:!1,size:1474560},name:"Sol OS",Z:"http://oby.ro/os/"},{id:"bootchess",aa:{url:p+"bootchess.img",async:!1,
size:1474560},name:"BootChess",Z:"http://www.pouet.net/prod.php?which=64962"},{id:"bootbasic",aa:{url:p+"bootbasic.img",async:!1,size:1474560},name:"bootBASIC",Z:"https://github.com/nanochess/bootBASIC"},{id:"sectorlisp",aa:{url:p+"sectorlisp-friendly.bin",async:!1,size:512},name:"SectorLISP",Z:"https://justine.lol/sectorlisp2/"},{id:"sectorforth",aa:{url:p+"sectorforth.img",async:!1,size:512},name:"sectorforth",Z:"https://github.com/cesarblum/sectorforth"},{id:"floppybird",aa:{url:p+"floppybird.img",
async:!1,size:1474560},name:"Floppy Bird",Z:"http://mihail.co/floppybird"},{id:"stillalive",aa:{url:p+"stillalive-os.img",async:!1,size:368640},name:"Still Alive",Z:"https://github.com/maniekx86/stillalive-os"},{id:"hello-v86",aa:{url:p+"hello-v86.img",async:!1,size:512},name:"Hello v86"},{id:"duskos",I:{url:p+"duskos.img",async:!1,size:8388608},name:"Dusk OS",Z:"http://duskos.org/"},{id:"windows2000",F:536870912,I:{url:p+"windows2k.img",size:2147483648,async:!1,J:262144,fa:!l},name:"Windows 2000",
state:{url:p+"windows2k_state-v2.bin.zst"},pb:!0},{id:"windows2000-boot",F:536870912,I:{url:p+"windows2k.img",size:2147483648,async:!1,J:262144,fa:!l},name:"Windows 2000"},{id:"windowsnt4",F:536870912,I:{url:p+"winnt4_noacpi.img",size:523837440,async:!1,J:262144,fa:!l},name:"Windows NT 4.0",Fc:2},{id:"windowsnt3",F:268435456,I:{url:p+"winnt31.img",size:91226112,async:!1,J:262144,fa:!l},name:"Windows NT 3.1"},{id:"windows98",F:134217728,I:{url:p+"windows98.img",size:314572800,async:!1,J:262144,fa:!l},
name:"Windows 98",state:{url:p+"windows98_state.bin.zst"},pb:!0},{id:"windows98-boot",F:134217728,I:{url:p+"windows98.img",size:314572800,async:!1,J:262144,fa:!l},name:"Windows 98"},{id:"windows95",F:33554432,I:{url:p+"w95.img",size:242049024,async:!1,J:262144,fa:!l},name:"Windows 95",state:{url:p+"windows95_state.bin.zst"}},{id:"windows95-boot",F:33554432,I:{url:p+"w95.img",size:242049024,async:!1,J:262144,fa:!l},name:"Windows 95"},{id:"windows30",F:67108864,X:{url:p+"Win30.iso",async:!1},name:"Windows 3.0"},
{id:"windows31",F:67108864,I:{url:p+"win31.img",async:!1,size:34463744},name:"Windows 3.1"},{id:"tilck",F:134217728,I:{url:p+"tilck.img",async:!1,size:37748736},name:"Tilck",Z:"https://github.com/vvaltchev/tilck"},{id:"sanos",F:134217728,I:{url:p+"sanos-flp.img",async:!1,size:1474560},name:"sanos",Z:"http://www.jbox.dk/sanos/"},{id:"freebsd",F:268435456,I:{url:p+"freebsd.img",size:2147483648,async:!1,J:1048576,fa:!l},state:{url:p+"freebsd_state.bin.zst"},name:"FreeBSD"},{id:"freebsd-boot",F:268435456,
I:{url:p+"freebsd.img",size:2147483648,async:!1,J:1048576,fa:!l},name:"FreeBSD"},{id:"reactos-livecd",F:268435456,I:{url:p+"reactos-livecd-0.4.15-dev-73-g03c09c9-x86-gcc-lin-dbg.iso",size:250609664,async:!1,J:1048576,fa:!l},name:"ReactOS",Z:"https://reactos.org/"},{id:"reactos",F:536870912,I:{url:p+"reactos.img",size:524288E3,async:!1,J:1048576,fa:!l},state:{url:p+"reactos_state.bin.zst"},pb:!0,name:"ReactOS",Z:"https://reactos.org/"},{id:"reactos-boot",F:536870912,I:{url:p+"reactos.img",size:524288E3,
async:!1,J:1048576,fa:!l},name:"ReactOS",Z:"https://reactos.org/"},{id:"skift",X:{url:p+"skift-20200910.iso",size:64452608,async:!1},name:"Skift",Z:"https://skiftos.org/"},{id:"snowdrop",aa:{url:p+"snowdrop.img",size:1474560,async:!1},name:"Snowdrop",Z:"http://www.sebastianmihai.com/snowdrop/"},{id:"openwrt",I:{url:p+"openwrt-18.06.1-x86-legacy-combined-squashfs.img",size:19846474,async:!1},name:"OpenWrt"},{id:"qnx",aa:{url:p+"qnx-demo-network-4.05.img",size:1474560,async:!1},name:"QNX 4.05"},{id:"9front",
F:134217728,I:{url:p+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386.iso",size:477452288,async:!1,J:1048576,fa:!l},state:{url:p+"9front_state-v2.bin.zst"},ua:!0,name:"9front",Z:"https://9front.org/"},{id:"9front-boot",F:134217728,I:{url:p+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386.iso",size:477452288,async:!1,J:1048576,fa:!l},ua:!0,name:"9front",Z:"https://9front.org/"},{id:"mobius",aa:{url:p+"mobius-fd-release5.img",size:1474560,async:!1},name:"Mobius"},{id:"android",F:536870912,
X:{url:p+"android-x86-1.6-r2.iso",size:54661120,async:!1,J:1048576,fa:!l},name:"Android"},{id:"android4",F:536870912,X:{url:p+"android_x86_nonsse3_4.4r1_20140904.iso",size:247463936,async:!1,J:1048576,fa:!l},name:"Android"},{id:"tinycore",F:268435456,I:{url:p+"TinyCore-11.0.iso",async:!1},name:"Tinycore",Z:"http://www.tinycorelinux.net/"},{id:"freenos",F:268435456,X:{url:p+"FreeNOS-1.0.3.iso",async:!1,size:11014144},name:"FreeNOS",ua:!0,Z:"http://www.freenos.org/"},{id:"syllable",F:536870912,I:{url:p+
"syllable-destop-0.6.7/.img",async:!1,size:524288E3,J:524288,fa:!0},name:"Syllable",Z:"http://syllable.metaproject.frl/"}];var C=x.profile;if(!C){var G=document.createElement("link");G.rel="prefetch";G.href="build/v86.wasm";document.head.appendChild(G)}G=document.createElement("link");G.rel="prefetch";G.href="build/xterm.js";document.head.appendChild(G);x.disable_jit&&(u.qe=!0);x.use_bochs_bios&&(u.gk=!0);G=parseInt(x.m,10);0<G&&(u.F=1048576*Math.max(16,G));G=parseInt(x.vram,10);0<G&&(u.Y=1048576*
G);u.yg=x.networking_proxy;u.audio="0"!==x.audio;u.ua=x.acpi;for(G=0;G<p.length;G++){var T=p[G];if(C===T.id){r(T);return}var ha=c("start_"+T.id);ha&&(ha.onclick=function(A,F,H){H.preventDefault();k(A.id);F.blur();r(A)}.bind(this,T,ha))}if("custom"===C){if(x["hda.url"]&&(u.I={size:parseInt(x["hda.size"],10)||void 0,url:x["hda.url"],async:!1}),x["cdrom.url"]&&(u.X={size:parseInt(x["cdrom.size"],10)||void 0,url:x["cdrom.url"],async:!1}),x["fda.url"]&&(u.aa={size:parseInt(x["fda.size"],10)||void 0,url:x["fda.url"],
async:!1}),u.aa||u.X||u.I){c("boot_options").style.display="none";d(u,n);return}}else if(/^[a-zA-Z0-9\-_]+\/[a-zA-Z0-9\-_]+$/g.test(C)){const A="https://v86-user-images.b-cdn.net/"+C;fetch(A+"/profile.json").catch(()=>alert("Profile not found: "+C)).then(F=>F.json()).then(F=>{function H(I){return I&&{url:A+"/"+I.url,async:I.async,size:I.size}}r({id:F.id,name:F.name,F:F.memory_size,Y:F.vga_memory_size,ua:F.acpi,lc:F.boot_order,I:H(F.hda),X:H(F.cdrom),aa:H(F.fda),Ab:H(F.multiboot),eb:H(F.bzimage),ob:H(F.initrd)})});
return}for(const A of t)if(p=window.localStorage.getItem(A))if(G=c(A))"checkbox"===G.type?G.checked="true"===p?!0:!1:G.value=p}else alert("Your browser is not supported because it doesn't support WebAssembly")}function d(r,n){var u=r.F;u||(u=1048576*parseInt(c("memory_size").value,10),u||(alert("Invalid memory size - reset to 128MB"),u=134217728));var x=r.Y;x||(x=1048576*parseInt(c("video_memory_size").value,10),x||(alert("Invalid video memory size - reset to 8MB"),x=8388608));if(!r.aa){var p=c("floppy_image").files[0];
p&&(r.aa={buffer:p})}!r.eb&&(p=c("bzimage").files[0])&&(r.eb={buffer:p});!r.ob&&(p=c("initrd").files[0])&&(r.ob={buffer:p});p=void 0===r.yg?c("networking_proxy").value:r.yg;const C=c("disable_audio").checked||!r.audio,G=r.Rb||void 0!==r.ua?r.ua:c("enable_acpi").checked;if(r.gk)var T="bochs-bios.bin",ha="bochs-vgabios.bin";else T="seabios.bin",ha="vgabios.bin";if(!r.Rb){var A={url:"bios/"+T};var F={url:"bios/"+ha}}var H=new Ya({F:u,Y:x,zc:r.Af?null:c("screen_container"),lc:r.lc||parseInt(c("boot_order").value,
16)||0,xg:l?"ws://localhost:8080/":p,Ra:A,Bc:F,aa:r.aa,I:r.I,tc:r.tc,X:r.X,Ab:r.Ab,eb:r.eb,ob:r.ob,Sa:r.Sa,Gb:r.Gb,ua:G,qe:r.qe,Rb:r.Rb,filesystem:r.filesystem||{},Xh:C,pb:r.pb,Fc:r.Fc,gd:!0});K(H,"emulator-ready",function(){if(H.g.s.za.exports.profiler_is_enabled()){var I=document.createElement("pre");document.body.appendChild(I);setInterval(function(){if(H.qd()){var ea=Za.dk(H.g.s);I.textContent=ea}},1E3)}"dsl"!==r.id&&"helenos"!==r.id||setTimeout(()=>{Xa(H,"\n")},3E3);g(r,H);n&&n(H)});K(H,"download-progress",
function(I){var ea=c("loading");ea.style.display="block";if(I.xe.endsWith(".wasm")){var y=I.xe.split("/");ea.textContent="Fetching "+y[y.length-1]+" ..."}else if(I.we===I.ve-1&&I.loaded>=I.total-2048)ea.textContent="Done downloading. Starting now ...";else{y="Downloading images ";"number"===typeof I.we&&I.ve&&(y+="["+(I.we+1)+"/"+I.ve+"] ");if(I.total&&"number"===typeof I.loaded){I=Math.floor(I.loaded/I.total*100);I=Math.min(100,Math.max(0,I));var B=Math.floor(I/2);y=y+(I+"% [")+"#".repeat(B);y+=
" ".repeat(50-B)+"]"}else y+=".".repeat(m++%50);ea.textContent=y}});K(H,"download-error",function(I){var ea=c("loading");ea.style.display="block";ea.textContent="Loading "+I.xe+" failed. Check your connection and reload the page to try again."})}function g(r,n){function u(){var z=Date.now(),L=n.g?n.g.s.ri[0]>>>0:0;L<ha&&(ha-=4294967296);var R=L-ha;ha=L;H+=R;if(L=z-G)T+=L,G=z,c("speed").textContent=(R/1E3/L).toFixed(1),c("avg_speed").textContent=(H/1E3/T).toFixed(1),z=c("running_time"),R=T/1E3|0,z.textContent=
60>R?R+"s":3600>R?(R/60|0)+"m "+$a(R%60,2)+"s":(R/3600|0)+"h "+$a((R/60|0)%60,2)+"m "+$a(R%60,2)+"s"}function x(z,L,R){var fa=c("get_"+R+"_image");!z||104857600<z.size?fa.style.display="none":fa.onclick=function(){let oa=L.file&&L.file.name||r.id+("cdrom"===R?".iso":".img");if(L.sg){var hb=L.sg(oa);ab(hb,oa)}else L.yb(function(Lb){Lb?bb(Lb,oa):alert("The file could not be loaded. Maybe it's too big?")});fa.blur()}}function p(z){z.ctrlKey?window.onbeforeunload=function(){window.onbeforeunload=null;
return"CTRL-W cannot be sent to the emulator."}:window.onbeforeunload=null}c("boot_options").style.display="none";c("loading").style.display="none";c("runtime_options").style.display="block";c("runtime_infos").style.display="block";r.Af||(c("screen_container").style.display="block");r.filesystem?f(n):K(n,"9p-attach",function(){f(n)});c("run").onclick=function(){n.qd()?(c("run").value="Run",n.stop()):(c("run").value="Pause",n.pf());c("run").blur()};c("exit").onclick=function(){n.stop();location.href=
location.pathname};c("lock_mouse").onclick=function(){if(!C)c("toggle_mouse").onclick();cb();c("lock_mouse").blur()};var C=!0;c("toggle_mouse").onclick=function(){C=!C;n.l&&(n.l.We=C);c("toggle_mouse").value=(C?"Dis":"En")+"able mouse";c("toggle_mouse").blur()};var G=0,T=0,ha=0,A=null,F=!1,H=0;K(n,"emulator-started",function(){G=Date.now();A=setInterval(u,1E3)});K(n,"emulator-stopped",function(){u();null!==A&&clearInterval(A)});var I=0,ea=0,y=[];K(n,"9p-read-start",function(z){z=z[0];y.push(z);c("info_filesystem").style.display=
"block";c("info_filesystem_status").textContent="Loading ...";c("info_filesystem_last_file").textContent=z});K(n,"9p-read-end",function(z){I+=z[1];c("info_filesystem_bytes_read").textContent=I;const L=z[0];y=y.filter(R=>R!==L);y[0]?c("info_filesystem_last_file").textContent=y[0]:c("info_filesystem_status").textContent="Idle"});K(n,"9p-write-end",function(z){ea+=z[1];c("info_filesystem_bytes_written").textContent=ea;y[0]||(c("info_filesystem_last_file").textContent=z[0])});var B=0,V=0,Q=0,Y=0;c("ide_type").textContent=
n.$a.X?" (CD-ROM)":" (hard disk)";K(n,"ide-read-start",function(){c("info_storage").style.display="block";c("info_storage_status").textContent="Loading ..."});K(n,"ide-read-end",function(z){B+=z[1];V+=z[2];c("info_storage_status").textContent="Idle";c("info_storage_bytes_read").textContent=B;c("info_storage_sectors_read").textContent=V});K(n,"ide-write-end",function(z){Q+=z[1];Y+=z[2];c("info_storage_bytes_written").textContent=Q;c("info_storage_sectors_written").textContent=Y});var da=0,na=0;K(n,
"eth-receive-end",function(z){na+=z[0];c("info_network").style.display="block";c("info_network_bytes_received").textContent=na});K(n,"eth-transmit-end",function(z){da+=z[0];c("info_network").style.display="block";c("info_network_bytes_transmitted").textContent=da});K(n,"mouse-enable",function(z){F=z;c("info_mouse_enabled").textContent=z?"Yes":"No"});K(n,"screen-set-mode",function(z){z?c("info_vga_mode").textContent="Graphical":(c("info_vga_mode").textContent="Text",c("info_res").textContent="-",c("info_bpp").textContent=
"-")});K(n,"screen-set-size-graphical",function(z){c("info_res").textContent=z[0]+"x"+z[1];c("info_bpp").textContent=z[4]});c("reset").onclick=function(){n.Mf();c("reset").blur()};x(r.I,n.$a.I,"hda");x(r.tc,n.$a.tc,"hdb");x(r.aa,n.$a.aa,"fda");x(r.Td,n.$a.Td,"fdb");x(r.X,n.$a.X,"cdrom");c("change_fda_image").value=r.aa?"Eject floppy image":"Insert floppy image";c("change_fda_image").onclick=function(){if(n.g.s.A.od.Lc)n.Ve(),c("change_fda_image").value="Insert floppy image";else{const z=document.createElement("input");
z.type="file";z.onchange=async function(){const L=z.files[0];L&&(await n.Le({buffer:L}),c("change_fda_image").value="Eject floppy image")};z.click()}c("change_fda_image").blur()};c("memory_dump").onclick=function(){const z=n.g.s.Ua;bb(new Uint8Array(z.buffer,z.byteOffset,z.length),"v86memory.bin");c("memory_dump").blur()};c("capture_network_traffic").onclick=function(){function z(R,fa){var oa=L,hb=oa.push,Lb=performance.now()/1E3;const qc=[];let pa=0;for(;pa+15<fa.length;pa+=16){var sa=$a(pa.toString(16).toUpperCase(),
5)+"   ";for(var ta=0;16>ta;ta++)sa+=$a(fa[pa+ta].toString(16).toUpperCase(),2)+" ";sa+="  ";for(ta=0;16>ta;ta++){var Aa=fa[pa+ta];sa+=33<=Aa&&34!==Aa&&92!==Aa&&126>=Aa?String.fromCharCode(Aa):"."}qc.push(sa)}for(sa=$a(pa.toString(16).toUpperCase(),5)+"   ";pa<fa.length;pa++)sa+=$a(fa[pa].toString(16).toUpperCase(),2)+" ";ta=pa&15;sa+="   ".repeat(16-ta);sa+="  ";for(Aa=0;Aa<ta;Aa++){const jb=fa[pa+Aa];sa+=33<=jb&&34!==jb&&92!==jb&&126>=jb?String.fromCharCode(jb):"."}qc.push(sa);hb.call(oa,{direction:R,
time:Lb,oi:"\n"+qc.join("\n")+"\n"});c("capture_network_traffic").value=L.length+" packets"}this.value="0 packets";let L=[];n.nd.register("net0-receive",z.bind(this,"I"));K(n,"net0-send",z.bind(this,"O"));this.onclick=function(){const R=L.map(({direction:fa,time:oa,oi:hb})=>fa+" "+oa.toFixed(6)+hb+"\n").join("");bb(R,"traffic.hex");L=[];this.value="0 packets"}};c("save_state").onclick=async function(){const z=await n.Ke();bb(z,"v86state.bin");c("save_state").blur()};c("load_state").onclick=function(){c("load_state_input").click();
c("load_state").blur()};c("load_state_input").onchange=async function(){var z=this.files[0];if(z){var L=n.qd();L&&await n.stop();var R=new FileReader;R.onload=async function(fa){try{await n.$d(fa.target.result)}catch(oa){throw alert("Something bad happened while restoring the state:\n"+oa+"\n\nNote that the current configuration must be the same as the original"),oa;}L&&n.pf()};R.readAsArrayBuffer(z);this.value=""}};c("ctrlaltdel").onclick=function(){db(n,[29,56,83,157,184,211]);c("ctrlaltdel").blur()};
c("alttab").onclick=function(){db(n,[56,15]);setTimeout(function(){db(n,[184,143])},100);c("alttab").blur()};c("scale").onchange=function(){var z=parseFloat(this.value);(z||0<z)&&n.h&&n.h.Rf(z,z)};c("fullscreen").onclick=function(){if(n.h){var z=document.getElementById("screen_container");if(z){var L=z.requestFullScreen||z.webkitRequestFullscreen||z.mozRequestFullScreen||z.msRequestFullScreen;L&&(L.call(z),(z=document.getElementsByClassName("phone_keyboard")[0])&&z.focus());try{navigator.keyboard.lock()}catch(R){}cb()}}};
c("screen_container").onclick=function(){if(C&&F)cb();else if(window.getSelection().isCollapsed){let z=document.getElementsByClassName("phone_keyboard")[0];z.style.top=document.body.scrollTop+100+"px";z.style.left=document.body.scrollLeft+100+"px";z.focus()}};const Fa=document.getElementsByClassName("phone_keyboard")[0];Fa.setAttribute("autocorrect","off");Fa.setAttribute("autocapitalize","off");Fa.setAttribute("spellcheck","false");Fa.tabIndex=0;c("screen_container").addEventListener("mousedown",
()=>{Fa.focus()},!1);c("take_screenshot").onclick=function(){const z=n.h?n.h.wi():null;try{window.open("").document.write(z.outerHTML)}catch(L){}c("take_screenshot").blur()};if(n.j){let z=!1;c("mute").onclick=function(){z?(n.j.cf.rf(1,void 0),z=!1,c("mute").value="Mute"):(n.j.cf.rf(0,void 0),z=!0,c("mute").value="Unmute");c("mute").blur()}}else c("mute").remove();window.addEventListener("keydown",p,!1);window.addEventListener("keyup",p,!1);window.addEventListener("blur",p,!1);const Ma=document.createElement("script");
Ma.src="build/xterm.js";Ma.async=!0;Ma.onload=function(){var z=c("terminal");n.Eb&&n.Eb.ra&&n.Eb.ra();n.Eb=new eb(z,n.v);n.Eb.show()};document.body.appendChild(Ma)}function f(r){c("filesystem_panel").style.display="block";c("filesystem_send_file").onchange=function(){Array.prototype.forEach.call(this.files,function(n){var u=new fb(n);u.onload=function(){u.yb(async function(x){await r.Sh("/"+n.name,new Uint8Array(x))})};u.load()},this);this.value="";this.blur()};c("filesystem_get_file").onkeypress=
async function(n){if(13===n.which){this.disabled=!0;try{var u=await r.Je(this.value)}catch(x){console.log(x)}this.disabled=!1;u?(n=this.value.replace(/\/$/,"").split("/"),n=n[n.length-1]||"root",bb(u,n),this.value=""):alert("Can't read file")}}}function h(){location.reload()}function k(r){window.history.pushState&&window.history.pushState({profile:r},"","?profile="+r)}var l=!location.hostname.endsWith("justinmichaud.com"),m=0;const t="memory_size video_memory_size networking_proxy disable_audio enable_acpi boot_order".split(" ");
window.addEventListener("load",e,!1);window.addEventListener("load",function(){setTimeout(function(){window.addEventListener("popstate",h)},0)});"complete"===document.readyState&&e()})();function gb(a){this.ports=[];this.s=a;for(var b=0;65536>b;b++)this.ports[b]=ib(this);var c=a.F[0];for(b=0;b<<17<c;b++)a.g[b]=a.j[b]=void 0,a.$[b]=a.i[b]=void 0;kb(this,c,4294967296-c,function(){return 255},function(){},function(){return-1},function(){})}function ib(a){return{Dd:a.gi,Pa:a.ei,Ie:a.fi,uf:a.Bf,Re:a.Bf,pa:a.Bf,oa:void 0}}q=gb.prototype;q.gi=function(){return 255};q.ei=function(){return 65535};q.fi=function(){return-1};q.Bf=function(){};
function M(a,b,c,e,d,g){e&&(a.ports[b].Dd=e);d&&(a.ports[b].Pa=d);g&&(a.ports[b].Ie=g);a.ports[b].oa=c}function N(a,b,c,e,d,g){e&&(a.ports[b].uf=e);d&&(a.ports[b].Re=d);g&&(a.ports[b].pa=g);a.ports[b].oa=c}
q.Ed=function(a,b,c,e,d,g){function f(){return c.call(this)|e.call(this)<<8}function h(){return d.call(this)|g.call(this)<<8}function k(){return c.call(this)|e.call(this)<<8|d.call(this)<<16|g.call(this)<<24}d&&g?(M(this,a,b,c,f,k),M(this,a+1,b,e),M(this,a+2,b,d,h),M(this,a+3,b,g)):(M(this,a,b,c,f),M(this,a+1,b,e))};
q.Xb=function(a,b,c,e,d,g){function f(l){c.call(this,l&255);e.call(this,l>>8&255)}function h(l){d.call(this,l&255);g.call(this,l>>8&255)}function k(l){c.call(this,l&255);e.call(this,l>>8&255);d.call(this,l>>16&255);g.call(this,l>>>24)}d&&g?(N(this,a,b,c,f,k),N(this,a+1,b,e),N(this,a+2,b,d,h),N(this,a+3,b,g)):(N(this,a,b,c,f),N(this,a+1,b,e))};q.xi=function(a){var b=this.s.g[a>>>17];return b(a)|b(a+1)<<8|b(a+2)<<16|b(a+3)<<24};
q.yi=function(a,b){var c=this.s.j[a>>>17];c(a,b&255);c(a+1,b>>8&255);c(a+2,b>>16&255);c(a+3,b>>>24)};function kb(a,b,c,e,d,g,f){g||(g=a.xi.bind(a));f||(f=a.yi.bind(a));for(b>>>=17;0<c;b++)a.s.g[b]=e,a.s.j[b]=d,a.s.$[b]=g,a.s.i[b]=f,c-=131072}function lb(a,b){a=a.ports[b];return a.Ie.call(a.oa)};function mb(a,b){this.i=this.h=!1;this.l=!0;this.j=0;this.g=null;this.s=new nb(a,b,()=>{this.l&&ob(this,0)});this.v=a;a.register("cpu-init",this.nb,this);a.register("cpu-run",this.pf,this);a.register("cpu-stop",this.stop,this);a.register("cpu-restart",this.Mf,this);this.o()}q=mb.prototype;q.pf=function(){this.i=!1;this.h||(this.h=!0,this.v.send("emulator-started"));ob(this,0)};function pb(a){if(a.i||!a.h)a.i=a.h=!1,a.v.send("emulator-stopped");else{a.l=!1;var b=a.s.lh();ob(a,b)}}
function ob(a,b){const c=++a.j;a.l=!0;a.C(b,c)}q.stop=function(){this.h&&(this.i=!0)};q.ra=function(){this.u()};q.Mf=function(){this.s.ma();qb(this.s)};q.nb=function(a){this.s.nb(a,this.v);this.v.send("emulator-ready")};
if("undefined"!==typeof process)mb.prototype.C=function(a,b){1>a?global.setImmediate(c=>{c===this.j&&pb(this)},b):setTimeout(c=>{c===this.j&&pb(this)},a,b)},mb.prototype.o=function(){},mb.prototype.u=function(){};else if("undefined"!==typeof Worker){function a(){let b;globalThis.onmessage=function(c){const e=c.data.t;b=b&&clearTimeout(b);1>e?postMessage(c.data.dh):b=setTimeout(()=>postMessage(c.data.dh),e)}}mb.prototype.o=function(){const b=URL.createObjectURL(new Blob(["("+a.toString()+")()"],{type:"text/javascript"}));
this.g=new Worker(b);this.g.onmessage=c=>{c.data===this.j&&pb(this)};URL.revokeObjectURL(b)};mb.prototype.C=function(b,c){this.g.postMessage({t:b,dh:c})};mb.prototype.u=function(){this.g&&this.g.terminate();this.g=null}}else mb.prototype.C=function(a){setTimeout(()=>{pb(this)},a)},mb.prototype.o=function(){},mb.prototype.u=function(){};mb.prototype.Ke=function(){return this.s.Ke()};mb.prototype.$d=function(a){return this.s.$d(a)};
if("object"===typeof performance&&performance.now)var rb=performance.now.bind(performance);else if("function"===typeof require){const {performance:a}=require("perf_hooks");rb=a.now.bind(a)}else"object"===typeof process&&process.hrtime?rb=function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:rb=Date.now;var fb,sb,tb,ub,vb,wb,xb;function yb(a,b){return(a||0===a?a+"":"").padEnd(b," ")}function $a(a,b){return(a||0===a?a+"":"").padStart(b,"0")}function O(a,b,c,e){return new Proxy({},{get:function(d,g){d=new a(b.buffer,c,e);g=d[g];return"function"===typeof g?g.bind(d):g},set:function(d,g,f){(new a(b.buffer,c,e))[g]=f;return!0}})}function zb(a,b){return"0x"+$a((a?a.toString(16):"").toUpperCase(),b||1)}
if("undefined"!==typeof crypto&&crypto.getRandomValues){let a=new Int32Array(1);var Ab=function(){crypto.getRandomValues(a);return a[0]}}else if("undefined"!==typeof require){const a=require("crypto");Ab=function(){return a.Sk(4).readInt32LE(0)}}
(function(){if("function"===typeof Math.clz32)sb=function(e){return 31-Math.clz32(e)};else{for(var a=new Int8Array(256),b=0,c=-2;256>b;b++)b&b-1||c++,a[b]=c;sb=function(e){e>>>=0;var d=e>>>16;if(d){var g=d>>>8;return g?24+a[g]:16+a[d]}return(g=e>>>8)?8+a[g]:a[e]}}})();
function Bb(a){var b=new Uint8Array(a),c,e;this.length=0;this.push=function(d){this.length!==a&&this.length++;b[e]=d;e=e+1&a-1};this.shift=function(){if(this.length){var d=b[c];c=c+1&a-1;this.length--;return d}return-1};this.clear=function(){this.length=e=c=0};this.clear()}function Cb(){this.size=65536;this.data=new Float32Array(65536);this.length=this.end=this.start=0}
Cb.prototype.push=function(a){this.length===this.size?this.start=this.start+1&this.size-1:this.length++;this.data[this.end]=a;this.end=this.end+1&this.size-1};Cb.prototype.shift=function(){if(this.length){var a=this.data[this.start];this.start=this.start+1&this.size-1;this.length--;return a}};
function Db(a,b){var c=new Float32Array(b);b>a.length&&(b=a.length);var e=a.start+b,d=a.data.subarray(a.start,e);c.set(d);e>=a.size&&(e-=a.size,c.set(a.data.subarray(0,e),d.length));a.start=e;a.length-=b;return c}Cb.prototype.clear=function(){this.length=this.end=this.start=0};function bb(a,b){a instanceof Array||(a=[a]);ab(new Blob(a),b)}
function ab(a,b){var c=document.createElement("a");c.download=b;c.href=window.URL.createObjectURL(a);c.dataset.downloadurl=["application/octet-stream",c.download,c.href].join(":");document.createEvent?(a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(a)):c.click();window.URL.revokeObjectURL(c.href)}function Eb(a){"number"===typeof a?this.view=new Uint8Array(a+7>>3):a instanceof ArrayBuffer&&(this.view=new Uint8Array(a))}
Eb.prototype.set=function(a,b){const c=a>>3;a=1<<(a&7);this.view[c]=b?this.view[c]|a:this.view[c]&~a};Eb.prototype.get=function(a){return this.view[a>>3]>>(a&7)&1};Eb.prototype.yb=function(){return this.view.buffer};var Hb="undefined"===typeof XMLHttpRequest?Fb:Gb;
function Gb(a,b,c){function e(){const k=c||0;setTimeout(()=>{Gb(a,b,k+1)},1E3*([1,1,2,3,5,8,13,21][k]||34))}var d=new XMLHttpRequest;d.open(b.method||"get",a,!0);d.responseType=b.Nd?"json":"arraybuffer";if(b.headers)for(var g=Object.keys(b.headers),f=0;f<g.length;f++){var h=g[f];d.setRequestHeader(h,b.headers[h])}b.Cd&&(g=b.Cd.start,d.setRequestHeader("Range","bytes="+g+"-"+(g+b.Cd.length-1)),d.setRequestHeader("X-Accept-Encoding","identity"),d.onreadystatechange=function(){200===d.status&&d.abort()});
d.onload=function(){if(4===d.readyState)if(200!==d.status&&206!==d.status)console.error("Loading the image "+a+" failed (status %d)",d.status),500<=d.status&&600>d.status&&e();else if(d.response){if(b.Cd){let k=d.getResponseHeader("Content-Encoding");k&&"identity"!==k&&console.error("Server sent Content-Encoding in response to ranged request",{filename:a,Ik:k})}b.done&&b.done(d.response,d)}};d.onerror=function(k){console.error("Loading the image "+a+" failed",k);e()};b.progress&&(d.onprogress=function(k){b.progress(k)});
d.send(null)}function Fb(a,b){let c=require("fs");b.Cd?c.open(a,"r",(e,d)=>{if(e)throw e;e=b.Cd.length;var g=Buffer.allocUnsafe(e);c.read(d,g,0,e,b.Cd.start,f=>{if(f)throw f;b.done&&b.done(new Uint8Array(g));c.close(d,h=>{if(h)throw h;})})}):c.readFile(a,{encoding:b.Nd?"utf-8":null},function(e,d){e?console.log("Could not read file:",a,e):(e=d,b.Nd?e=JSON.parse(e):e=(new Uint8Array(e)).buffer,b.done(e))})};(function(){function a(f){this.buffer=f;this.byteLength=f.byteLength;this.onload=void 0}function b(f,h,k){this.filename=f;this.byteLength=h;this.g=new Map;this.i=new Set;this.J=k;this.u=!!k;this.onload=void 0}function c(f,h,k,l,m){const t=f.match(/\.[^\.]+(\.zst)?$/);this.j=t?t[0]:"";this.h=f.substring(0,f.length-this.j.length);this.D=this.j.endsWith(".zst");this.h.endsWith("/")||(this.h+="-");this.g=new Map;this.i=new Set;this.byteLength=h;this.J=k;this.G=!!l;this.C=m;this.u=!!k;this.onload=void 0}
function e(f){this.file=f;this.byteLength=f.size;1073741824<f.size&&console.warn("SyncFileBuffer: Allocating buffer of "+(f.size>>20)+" MB ...");this.buffer=new ArrayBuffer(f.size);this.onload=void 0}function d(f){this.file=f;this.byteLength=f.size;this.g=new Map;this.i=new Set;this.onload=void 0}tb=a;wb=b;vb=c;ub=d;fb=e;xb=function(f,h){if(f.buffer instanceof ArrayBuffer)return new tb(f.buffer);if("undefined"!==typeof File&&f.buffer instanceof File)return h=f.async,void 0===h&&(h=268435456<=f.buffer.size),
h?new ub(f.buffer):new fb(f.buffer);if(f.url)return f.fa?new vb(f.url,f.size,f.J,!1,h):new wb(f.url,f.size,f.J)};a.prototype.load=function(){this.onload&&this.onload({buffer:this.buffer})};a.prototype.get=function(f,h,k){k(new Uint8Array(this.buffer,f,h))};a.prototype.set=function(f,h,k){(new Uint8Array(this.buffer,f,h.byteLength)).set(h);k()};a.prototype.yb=function(f){f(this.buffer)};a.prototype.ca=function(){const f=[];f[0]=this.byteLength;f[1]=new Uint8Array(this.buffer);return f};a.prototype.H=
function(f){this.byteLength=f[0];this.buffer=f[1].slice().buffer};b.prototype.load=function(){void 0!==this.byteLength?this.onload&&this.onload(Object.create(null)):g(this.filename,(f,h)=>{if(f)throw Error("Cannot use: "+this.filename+". "+f);this.byteLength=h;this.onload&&this.onload(Object.create(null))})};b.prototype.h=function(f,h){var k=h/256;f/=256;for(var l=0;l<k;l++)if(!this.g.get(f+l))return;if(1===k)return this.g.get(f);h=new Uint8Array(h);for(l=0;l<k;l++)h.set(this.g.get(f+l),256*l);return h};
b.prototype.get=function(f,h,k){var l=this.h(f,h);if(l)k(l);else{var m=f,t=h;this.J&&(m=f-f%this.J,t=Math.ceil((f-m+h)/this.J)*this.J);Hb(this.filename,{done:function(r){r=new Uint8Array(r);this.j(m,t,r);m===f&&t===h?k(r):k(r.subarray(f-m,f-m+h))}.bind(this),Cd:{start:m,length:t}})}};b.prototype.set=function(f,h,k){f/=256;for(var l=h.length/256,m=0;m<l;m++){var t=this.g.get(f+m);void 0===t?this.g.set(f+m,h.slice(256*m,256*(m+1))):t.set(h.subarray(256*m,256*(m+1)));this.i.add(f+m)}k()};b.prototype.j=
function(f,h,k){f/=256;h/=256;for(var l=0;l<h;l++){const m=this.g.get(f+l);m?k.set(m,256*l):this.u&&this.g.set(f+l,k.slice(256*l,256*(l+1)))}};b.prototype.yb=function(f){f()};b.prototype.ca=function(){const f=[],h=[];for(let [k,l]of this.g)this.i.has(k)&&h.push([k,l]);f[0]=h;return f};b.prototype.H=function(f){f=f[0];this.g.clear();this.i.clear();for(let [h,k]of f)this.g.set(h,k),this.i.add(h)};c.prototype.load=function(){this.onload&&this.onload(Object.create(null))};c.prototype.get=function(f,h,
k){var l=this.l(f,h);if(l)k(l);else if(this.J){const t=Math.floor(f/this.J),r=f-t*this.J,n=Math.ceil((r+h)/this.J),u=new Uint8Array(n*this.J);let x=0;for(let p=0;p<n;p++){var m=(t+p)*this.J;l=this.G?this.h+(t+p+"").padStart(8,"0")+this.j:this.h+m+"-"+(m+this.J)+this.j;(m=this.l(m,this.J))?(u.set(m,p*this.J),x++,x===n&&k(u.subarray(r,r+h))):Hb(l,{done:async function(C){C=new Uint8Array(C);this.D&&(C=await this.C(this.J,C),C=new Uint8Array(C));u.set(C,p*this.J);this.o((t+p)*this.J,this.J|0,C);x++;x===
n&&k(u.subarray(r,r+h))}.bind(this)})}}else Hb(this.h+f+"-"+(f+h)+this.j,{done:function(t){t=new Uint8Array(t);this.o(f,h,t);k(t)}.bind(this)})};c.prototype.l=b.prototype.h;c.prototype.set=b.prototype.set;c.prototype.o=b.prototype.j;c.prototype.ca=b.prototype.ca;c.prototype.H=b.prototype.H;e.prototype.load=function(){this.g(0)};e.prototype.g=function(f){var h=new FileReader;h.onload=function(k){k=new Uint8Array(k.target.result);(new Uint8Array(this.buffer,f)).set(k);this.g(f+4194304)}.bind(this);
f<this.byteLength?h.readAsArrayBuffer(this.file.slice(f,Math.min(f+4194304,this.byteLength))):(this.file=void 0,this.onload&&this.onload({buffer:this.buffer}))};e.prototype.get=a.prototype.get;e.prototype.set=a.prototype.set;e.prototype.yb=a.prototype.yb;e.prototype.ca=a.prototype.ca;e.prototype.H=a.prototype.H;d.prototype.load=function(){this.onload&&this.onload(Object.create(null))};d.prototype.get=function(f,h,k){var l=this.h(f,h);l?k(l):(l=new FileReader,l.onload=function(m){m=new Uint8Array(m.target.result);
this.j(f,h,m);k(m)}.bind(this),l.readAsArrayBuffer(this.file.slice(f,f+h)))};d.prototype.h=b.prototype.h;d.prototype.set=b.prototype.set;d.prototype.j=b.prototype.j;d.prototype.ca=b.prototype.ca;d.prototype.H=b.prototype.H;d.prototype.yb=function(f){f()};d.prototype.sg=function(f){for(var h=[],k=Array.from(this.g.keys()).sort(function(n,u){return n-u}),l=0,m=0;m<k.length;m++){var t=k[m],r=this.g.get(t);t*=256;t!==l&&(h.push(this.file.slice(l,t)),l=t);h.push(r);l+=r.length}l!==this.file.size&&h.push(this.file.slice(l));
return new File(h,f)};var g="undefined"===typeof XMLHttpRequest?function(f,h){require("fs").stat(f,(k,l)=>{k?h(k):h(null,l.size)})}:function(f,h){Hb(f,{done:(k,l)=>{k=l.getResponseHeader("Content-Range")||"";(l=k.match(/\/(\d+)\s*$/))?h(null,+l[1]):h("`Range: bytes=...` header not supported (Got `"+k+"`)")},headers:{Range:"bytes=0-0","X-Accept-Encoding":"identity"}})}})();function Ib(a,b,c,e,d,g){this.Aa=new Jb(this,a,b,e,d,g);this.Ia=new Jb(this,a,c,!1,d,g);this.va=this.Aa;this.s=a;0===d?(this.g=496,this.ea=14,this.Ga=240):1===d&&(this.g=368,this.ea=15,this.Ga=248);this.i=this.g|516;this.h=46080;this.K=[134,128,16,112,5,0,160,2,0,128,1,1,0,0,0,0,this.g&255|1,this.g>>8,0,0,this.i&255|1,this.i>>8,0,0,0,0,0,0,0,0,0,0,this.h&255|1,this.h>>8,0,0,0,0,0,0,0,0,0,0,67,16,212,130,0,0,0,0,0,0,0,0,0,0,0,0,this.ea,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.qb=[{size:8},{size:4},void 0,void 0,{size:16}];this.name="ide"+d;this.l=2;M(a.B,this.g|7,this,function(){P(this.s,this.ea);return this.Wg()});M(a.B,this.i|2,this,this.Wg);N(a.B,this.i|2,this,this.mk);M(a.B,this.g|0,this,function(){return Kb(this.va,1)},function(){return Kb(this.va,2)},function(){return Kb(this.va,4)});M(a.B,this.g|1,this,function(){return this.va.error&
255});M(a.B,this.g|2,this,function(){return this.va.ga&255});M(a.B,this.g|3,this,function(){return this.va.Ba&255});M(a.B,this.g|4,this,function(){return this.va.na&255});M(a.B,this.g|5,this,function(){return this.va.qa&255});M(a.B,this.g|6,this,function(){return this.va.Hc&255});N(a.B,this.g|0,this,function(f){Mb(this.va,f,1)},function(f){Mb(this.va,f,2)},function(f){Mb(this.va,f,4)});N(a.B,this.g|1,this,function(f){this.Aa.sd=(this.Aa.sd<<8|f)&65535;this.Ia.sd=(this.Ia.sd<<8|f)&65535});N(a.B,this.g|
2,this,function(f){this.Aa.ga=(this.Aa.ga<<8|f)&65535;this.Ia.ga=(this.Ia.ga<<8|f)&65535});N(a.B,this.g|3,this,function(f){this.Aa.Ba=(this.Aa.Ba<<8|f)&65535;this.Ia.Ba=(this.Ia.Ba<<8|f)&65535});N(a.B,this.g|4,this,function(f){this.Aa.na=(this.Aa.na<<8|f)&65535;this.Ia.na=(this.Ia.na<<8|f)&65535});N(a.B,this.g|5,this,function(f){this.Aa.qa=(this.Aa.qa<<8|f)&65535;this.Ia.qa=(this.Ia.qa<<8|f)&65535});N(a.B,this.g|6,this,function(f){this.va=f&16?this.Ia:this.Aa;this.Aa.Hc=f;this.Ia.Hc=f;this.Aa.Ud=
this.Ia.Ud=f>>6&1;this.Aa.head=this.Ia.head=f&15});this.j=this.sa=this.Bd=0;N(a.B,this.g|7,this,function(f){P(this.s,this.ea);var h=this.va;if(h.buffer)switch(h.u=f,h.error=0,f){case 8:h.i=0;h.g=0;h.h=0;Nb(h);h.T();break;case 16:h.status=80;h.na=0;h.T();break;case 248:h.status=80;var k=h.j-1;h.Ba=k&255;h.na=k>>8&255;h.qa=k>>16&255;h.Hc=h.Hc&240|k>>24&15;h.T();break;case 39:h.status=80;k=h.j-1;h.Ba=k&255;h.na=k>>8&255;h.qa=k>>16&255;h.Ba|=k>>24<<8&65280;h.T();break;case 32:case 36:case 41:case 196:Ob(h,
f);break;case 48:case 52:case 57:case 197:var l=52===f||57===f;k=Pb(h,l);l=Qb(h,l);f=48===f||52===f;k*=h.l;l*=h.l;l+k>h.buffer.byteLength?(h.status=255,h.T()):(h.status=88,Rb(h,k),h.g=f?512:Math.min(k,512*h.N),h.W=l);break;case 144:h.T();h.error=257;h.status=80;break;case 145:h.status=80;h.T();break;case 160:h.L&&(h.status=88,Sb(h,12),h.g=12,h.ga=1,h.T());break;case 161:h.L?(Tb(h),h.status=88,h.na=20,h.qa=235):h.status=65;h.T();break;case 198:h.N=h.ga&255;h.status=80;h.T();break;case 37:case 200:k=
37===f;l=Pb(h,k);Qb(h,k)*h.l+l*h.l>h.buffer.byteLength?(h.status=255,h.T()):(h.status=88,h.oa.sa|=1);break;case 53:case 202:k=53===f;l=Pb(h,k);Qb(h,k)*h.l+l*h.l>h.buffer.byteLength?(h.status=255,h.T()):(h.status=88,h.oa.sa|=1);break;case 64:h.status=80;h.T();break;case 218:h.status=65;h.error=4;h.T();break;case 224:h.status=80;h.T();break;case 225:h.status=80;h.T();break;case 231:h.status=80;h.T();break;case 236:if(h.L){h.status=65;h.error=4;h.T();break}Tb(h);h.status=88;h.T();break;case 234:h.status=
80;h.T();break;case 239:h.status=80;h.T();break;case 222:h.status=80;h.T();break;case 245:h.status=80;h.T();break;case 249:h.status=65;h.error=4;break;default:h.status=65,h.error=4}else h.error=4,h.status=65,h.T()});M(a.B,this.h|4,this,void 0,void 0,this.Yh);N(a.B,this.h|4,this,void 0,void 0,this.bi);M(a.B,this.h,this,this.$h,void 0,this.Zh);N(a.B,this.h,this,this.hg,void 0,this.ci);M(a.B,this.h|2,this,this.ai);N(a.B,this.h|2,this,this.ig);M(a.B,this.h|8,this,function(){return 0});M(a.B,this.h|10,
this,function(){return 0});Ub(a.A.Oa,this)}q=Ib.prototype;q.Wg=function(){return this.va.buffer?this.va.status:0};q.mk=function(a){a&4&&(P(this.s,this.ea),Nb(this.Aa),Nb(this.Ia));this.l=a};q.Yh=function(){return this.Bd};q.bi=function(a){this.Bd=a};q.ai=function(){return this.sa};q.ig=function(a){this.sa&=~(a&6)};q.Zh=function(){return this.j|this.sa<<16};q.$h=function(){return this.j};q.ci=function(a){this.hg(a&255);this.ig(a>>16&255)};
q.hg=function(a){let b=this.j;this.j=a&9;if((b&1)!==(a&1))if(0===(a&1))this.sa&=-2;else switch(this.sa|=1,this.va.u){case 37:case 200:Vb(this.va);break;case 202:case 53:Wb(this.va);break;case 160:Xb(this.va)}};q.T=function(){0===(this.l&2)&&(this.sa|=4,this.s.La(this.ea))};q.ca=function(){var a=[];a[0]=this.Aa;a[1]=this.Ia;a[2]=this.g;a[3]=this.ea;a[4]=this.Ga;a[5]=this.i;a[6]=this.h;a[7]=this.name;a[8]=this.l;a[9]=this.Bd;a[10]=this.sa;a[11]=this.va===this.Aa;a[12]=this.j;return a};
q.H=function(a){this.Aa.H(a[0]);this.Ia.H(a[1]);this.g=a[2];this.ea=a[3];this.Ga=a[4];this.i=a[5];this.h=a[6];this.name=a[7];this.l=a[8];this.Bd=a[9];this.sa=a[10];this.va=a[11]?this.Aa:this.Ia;this.j=a[12]};
function Jb(a,b,c,e,d,g){this.oa=a;this.v=g;this.$=d;this.s=b;this.buffer=c;this.l=e?2048:512;this.L=e;this.D=this.o=this.C=this.j=0;this.buffer&&(this.j=this.buffer.byteLength/this.l,this.j!==(this.j|0)&&(this.j=Math.ceil(this.j)),e?(this.C=1,this.o=0):(this.C=16,this.o=63),this.D=this.j/this.C/this.o,this.D!==(this.D|0)&&(this.D=Math.floor(this.D)),a=b.A.ad,a.V[57]|=1<<4*this.$,a.V[18]=a.V[18]&15|240,a.V[27]=this.D&255,a.V[28]=this.D>>8&255,a.V[29]=this.C&255,a.V[30]=255,a.V[31]=255,a.V[32]=200,
a.V[33]=this.D&255,a.V[34]=this.D>>8&255,a.V[35]=this.o&255);this.G={Yg:0,Zg:0,cg:0,dg:0,wg:!1};this.buffer=c;this.Hc=this.head=this.qa=this.na=this.sd=this.Ba=this.ga=this.Ud=0;this.status=80;this.N=128;this.i=this.error=0;this.data=new Uint8Array(65536);this.U=new Uint16Array(this.data.buffer);this.O=new Int32Array(this.data.buffer);this.g=this.h=0;this.R=this.u=-1;this.ma=this.W=0;this.P=new Set;this.da=new Set;Object.seal(this)}
function Nb(a){a.L?(a.status=0,a.ga=1,a.error=1,a.Ba=1,a.na=20,a.qa=235):(a.status=81,a.ga=1,a.error=1,a.Ba=1,a.na=0,a.qa=0);for(const b of a.P)a.da.add(b);a.P.clear()}q=Jb.prototype;q.T=function(){this.oa.T()};q.re=function(){this.status=80;var a=this.data.subarray(0,this.h);Yb(this,this.u,this.h/512);this.T();this.buffer.set(this.W,a,function(){});Zb(this,this.h)};
function $b(a,b){var c=(b[7]<<8|b[8])*a.l;b=(b[2]<<24|b[3]<<16|b[4]<<8|b[5])*a.l;a.h=0;var e=a.qa<<8&65280|a.na&255;a.na=a.qa=0;65535===e&&e--;e>c&&(e=c);b>=a.buffer.byteLength?(a.status=255,a.T()):0===c?(a.status=80,a.i=0):(c=Math.min(c,a.buffer.byteLength-b),a.status=208,ac(a),a.ia(b,c,d=>{bc(a,d);a.status=88;a.ga=a.ga&-8|2;a.T();e&=-4;a.g=e;a.g>a.h&&(a.g=a.h);a.na=a.g&255;a.qa=a.g>>8&255;cc(a,c)}))}
function dc(a,b){var c=(b[7]<<8|b[8])*a.l;b=(b[2]<<24|b[3]<<16|b[4]<<8|b[5])*a.l;b>=a.buffer.byteLength?(a.status=255,a.T()):(a.status=208,ac(a),a.ia(b,c,e=>{cc(a,c);a.status=88;a.ga=a.ga&-8|2;bc(a,e);Xb(a)}))}function Xb(a){if(0!==(a.oa.sa&1)&&0!==(a.status&8)){var b=a.oa.Bd,c=0,e=a.data;do{var d=a.s.h(b),g=a.s.Pa(b+4),f=a.s.Dd(b+7)&128;g||(g=65536);ec(a.s,e.subarray(c,Math.min(c+g,a.h)),d);c+=g;b+=8;if(c>=a.h&&!f)break}while(!f);a.status=80;a.oa.sa&=-2;a.ga=a.ga&-8|3;a.T()}}
function Kb(a,b){if(a.i<a.g){var c=1===b?a.data[a.i]:2===b?a.U[a.i>>>1]:a.O[a.i>>>2];a.i+=b;a.i>=a.g&&(160===a.u?a.g===a.h?(a.status=80,a.ga=a.ga&-8|3,a.T()):(a.status=88,a.ga=a.ga&-8|2,a.T(),b=a.qa<<8&65280|a.na&255,a.g+b>a.h?(a.na=a.h-a.g&255,a.qa=a.h-a.g>>8&255,a.g=a.h):a.g+=b):(a.error=0,a.i>=a.h?a.status=80:(b=196===a.u||41===a.u?Math.min(a.N,(a.h-a.g)/512):1,Yb(a,a.u,b),a.g+=512*b,a.status=88,a.T())));return c}a.i+=b;return 0}
function Mb(a,b,c){if(!(a.i>=a.g)&&(1===c?a.data[a.i++]=b:2===c?(a.U[a.i>>>1]=b,a.i+=2):(a.O[a.i>>>2]=b,a.i+=4),a.i===a.g))if(160===a.u){a.i=0;a.R=a.data[0];switch(a.R){case 0:Sb(a,0);a.g=a.h;a.status=80;break;case 3:Sb(a,a.data[4]);a.g=a.h;a.status=88;a.data[0]=240;a.data[2]=5;a.data[7]=8;break;case 18:b=a.data[4];a.status=88;a.data.set([5,128,1,49,31,0,0,0,83,79,78,89,32,32,32,32,67,68,45,82,79,77,32,67,68,85,45,49,48,48,48,32,49,46,49,97]);a.g=a.h=Math.min(36,b);break;case 26:Sb(a,a.data[4]);a.g=
a.h;a.status=88;break;case 30:Sb(a,0);a.g=a.h;a.status=80;break;case 37:b=a.j-1;bc(a,new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255,0,0,a.l>>8&255,a.l&255]));a.g=a.h;a.status=88;break;case 40:a.sd&1?dc(a,a.data):$b(a,a.data);break;case 66:b=a.data[8];Sb(a,Math.min(8,b));a.g=a.h;a.status=88;break;case 67:b=a.data[8]|a.data[7]<<8;c=a.data[9]>>6;Sb(a,b);a.g=a.h;0===c?(b=a.j,a.data.set(new Uint8Array([0,18,1,1,0,20,1,0,0,0,0,0,0,22,170,0,b>>24,b>>16&255,b>>8&255,b&255]))):1===c&&a.data.set(new Uint8Array([0,
10,1,1,0,0,0,0,0,0,0,0]));a.status=88;break;case 70:b=a.data[8]|a.data[7]<<8;b=Math.min(b,32);Sb(a,b);a.g=a.h;a.data[0]=b-4>>24&255;a.data[1]=b-4>>16&255;a.data[2]=b-4>>8&255;a.data[3]=b-4&255;a.data[6]=8;a.data[10]=3;a.status=88;break;case 81:Sb(a,0);a.g=a.h;a.status=80;break;case 82:a.status=81;a.h=0;a.error=80;break;case 90:b=a.data[8]|a.data[7]<<8;42===a.data[2]&&Sb(a,Math.min(30,b));a.g=a.h;a.status=88;break;case 189:Sb(a,a.data[9]|a.data[8]<<8);a.g=a.h;a.data[5]=1;a.status=88;break;case 74:a.status=
81;a.h=0;a.error=80;break;case 190:Sb(a,0);a.g=a.h;a.status=80;break;default:a.status=81,a.h=0,a.error=80}a.ga=a.ga&-8|2;0===(a.status&128)&&a.T();0===(a.status&128)&&0===a.h&&(a.ga|=1,a.status&=-9)}else a.i>=a.h?a.re():(a.status=88,a.g+=512,a.T())}
function Yb(a,b,c){a.ga-=c;36===b||41===b||52===b||57===b||37===b||53===b?(b=c+fc(a),a.Ba=b&255|b>>16&65280,a.na=b>>8&255,a.qa=b>>16&255):a.Ud?(b=c+gc(a),a.Ba=b&255,a.na=b>>8&255,a.qa=b>>16&255,a.head=a.head&-16|b&15):(b=c+hc(a),c=b/(a.C*a.o)|0,a.na=c&255,a.qa=c>>8&255,a.head=(b/a.o|0)%a.C&15,a.Ba=b%a.o+1&255,hc(a))}
function Ob(a,b){var c=36===b||41===b,e=Pb(a,c);c=Qb(a,c);var d=32===b||36===b,g=e*a.l;c*=a.l;c+g>a.buffer.byteLength?(a.status=255,a.T()):(a.status=192,ac(a),a.ia(c,g,f=>{bc(a,f);a.status=88;a.g=d?512:Math.min(g,512*a.N);Yb(a,b,d?1:Math.min(e,a.o));a.T();cc(a,g)}))}
function Vb(a){var b=37===a.u,c=Pb(a,b);b=Qb(a,b);var e=c*a.l;b*=a.l;ac(a);a.ia(b,e,d=>{var g=a.oa.Bd,f=0;do{var h=a.s.h(g),k=a.s.Pa(g+4),l=a.s.Dd(g+7)&128;k||(k=65536);ec(a.s,d.subarray(f,f+k),h);f+=k;g+=8}while(!l);Yb(a,a.u,c);a.status=80;a.oa.sa&=-2;a.u=-1;a.T();cc(a,e)})}
function Wb(a){var b=53===a.u,c=Pb(a,b),e=Qb(a,b);b=c*a.l;e*=a.l;var d=a.oa.Bd,g=0;const f=new Uint8Array(b);do{var h=a.s.h(d),k=a.s.Pa(d+4),l=a.s.Dd(d+7)&128;k||(k=65536);f.set(a.s.Ua.subarray(h,h+k),g);g+=k;d+=8}while(!l);a.buffer.set(e,f,()=>{Yb(a,a.u,c);a.status=80;a.T();a.oa.sa&=-2;a.u=-1});Zb(a,b)}function hc(a){return((a.na&255|a.qa<<8&65280)*a.C+a.head)*a.o+(a.Ba&255)-1}function gc(a){return a.Ba&255|a.na<<8&65280|a.qa<<16&16711680|(a.head&15)<<24}
function fc(a){return(a.Ba&255|a.na<<8&65280|a.qa<<16&16711680|a.Ba>>8<<24&4278190080)>>>0}function Qb(a,b){return b?fc(a):a.Ud?gc(a):hc(a)}function Pb(a,b){b?(a=a.ga,0===a&&(a=65536)):(a=a.ga&255,0===a&&(a=256));return a}
function Tb(a){if(a.Hc&16)Sb(a,0);else{for(var b=0;512>b;b++)a.data[b]=0;b=Math.min(16383,a.D);bc(a,[64,a.L?133:0,b,b>>8,0,0,a.C,a.C>>8,a.o/512,a.o/512>>8,0,2,a.o,a.o>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,2,4,0,0,0,0,0,0,0,0,0,56,118,32,54,68,72,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,128,0,1,0,0,2,0,0,0,2,0,2,7,0,b,b>>8,a.C,a.C>>8,a.o,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255,0,0,a.j&255,a.j>>8&255,a.j>>16&255,
a.j>>24&255,0,0,160===a.u?0:7,160===a.u?0:4,0,0,30,0,30,0,30,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,126,0,0,0,0,0,0,116,0,64,0,64,0,116,0,64,0,0,0,0,0,0,0,0,0,0,1,96,0,0,0,0,0,0,0,0,0,0,0,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255]);a.h=512;a.g=512}}function Sb(a,b){Rb(a,b);for(var c=0;c<b+3>>2;c++)a.O[c]=0}function Rb(a,b){a.data.length<b&&(a.data=new Uint8Array(b+3&-4),a.U=new Uint16Array(a.data.buffer),a.O=new Int32Array(a.data.buffer));a.h=b;a.i=0}
function bc(a,b){Rb(a,b.length);a.data.set(b)}function ac(a){a.G.wg=!0;a.v.send("ide-read-start")}function cc(a,b){a.G.wg=!1;var c=b/a.l|0;a.G.Yg+=c;a.G.cg+=b;a.v.send("ide-read-end",[a.$,b,c])}function Zb(a,b){var c=b/a.l|0;a.G.Zg+=c;a.G.dg+=b;a.v.send("ide-write-end",[a.$,b,c])}q.ia=function(a,b,c){const e=this.ma++;this.P.add(e);this.buffer.get(a,b,d=>{this.da.delete(e)?this.P.has(e):(this.P.delete(e),c(d))})};
q.ca=function(){var a=[];a[0]=this.ga;a[1]=this.D;a[2]=this.qa;a[3]=this.na;a[4]=this.i;a[5]=0;a[6]=0;a[7]=0;a[8]=0;a[9]=this.Hc;a[10]=this.error;a[11]=this.head;a[12]=this.C;a[13]=this.L;a[14]=this.Ud;a[15]=this.sd;a[16]=this.data;a[17]=this.h;a[18]=this.Ba;a[19]=this.j;a[20]=this.l;a[21]=this.N;a[22]=this.o;a[23]=this.status;a[24]=this.W;a[25]=this.u;a[26]=this.g;a[27]=this.R;a[28]=this.buffer;return a};
q.H=function(a){this.ga=a[0];this.D=a[1];this.qa=a[2];this.na=a[3];this.i=a[4];this.Hc=a[9];this.error=a[10];this.head=a[11];this.C=a[12];this.L=a[13];this.Ud=a[14];this.sd=a[15];this.data=a[16];this.h=a[17];this.Ba=a[18];this.j=a[19];this.l=a[20];this.N=a[21];this.o=a[22];this.status=a[23];this.W=a[24];this.u=a[25];this.g=a[26];this.R=a[27];this.U=new Uint16Array(this.data.buffer);this.O=new Int32Array(this.data.buffer);this.buffer&&this.buffer.H(a[28])};function ic(a){this.Cb=new Uint8Array(4);this.g=new Uint8Array(4);this.wd=new Uint8Array(4);this.xd=new Uint8Array(4);this.vd=new Int32Array(this.Cb.buffer);new Int32Array(this.g.buffer);this.Cg=new Int32Array(this.wd.buffer);this.Eg=new Int32Array(this.xd.buffer);this.Jb=[];this.A=[];this.s=a;for(var b=0;256>b;b++)this.Jb[b]=void 0,this.A[b]=void 0;this.B=a.B;N(a.B,3324,this,function(c){jc(this,this.vd[0],c)},function(c){kc(this,this.vd[0],c)},function(c){var e=this.vd[0],d=e>>8&65535,g=e&255;e=
this.Jb[d];d=this.A[d];if(e)if(16<=g&&40>g)if(d=d.qb[g-16>>2]){g>>=2;var f=e[g]&1;-1===(c|3|d.size-1)?(c=~(d.size-1)|f,0===f&&(e[g]=c)):0===f&&(e[g]=d.Ag);1===f&&(lc(this,d,e[g]&65534,c&65534),e[g]=c|1)}else e[g>>2]=0;else 48===g?e[g>>2]=d.Dg?-1===(c|2047)?-d.Dg|0:d.Bi|0:0:4!==g&&(e[g>>>2]=c)});N(a.B,3325,this,function(c){jc(this,this.vd[0]+1|0,c)});N(a.B,3326,this,function(c){jc(this,this.vd[0]+2|0,c)},function(c){kc(this,this.vd[0]+2|0,c)});N(a.B,3327,this,function(c){jc(this,this.vd[0]+3|0,c)});
a.B.Ed(3324,this,function(){return this.wd[0]},function(){return this.wd[1]},function(){return this.wd[2]},function(){return this.wd[3]});a.B.Ed(3320,this,function(){return this.xd[0]},function(){return this.xd[1]},function(){return this.xd[2]},function(){return this.xd[3]});a.B.Xb(3320,this,function(c){this.Cb[0]=c&252},function(c){2===(this.Cb[1]&6)&&6===(c&6)?mc(a):this.Cb[1]=c},function(c){this.Cb[2]=c},function(c){this.Cb[3]=c;c=this.Cb[0]&252;var e=this.Jb[this.Cb[2]<<8|this.Cb[1]];void 0!==
e?(this.Eg[0]=-2147483648,this.Cg[0]=c<e.byteLength?e[c>>2]:0):(this.Cg[0]=-1,this.Eg[0]=0)});Ub(this,{Ga:0,K:[134,128,55,18,0,0,0,0,2,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0],qb:[],name:"82441FX PMC"});this.i={Ga:8,K:[134,128,0,112,7,0,0,2,0,0,1,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],qb:[],name:"82371SB PIIX3 ISA"};
this.j=Ub(this,this.i);this.h=new Uint8Array(this.j.buffer)}ic.prototype.ca=function(){for(var a=[],b=0;256>b;b++)a[b]=this.Jb[b];a[256]=this.Cb;a[257]=this.g;a[258]=this.wd;a[259]=this.xd;return a};ic.prototype.H=function(a){for(var b=0;256>b;b++){var c=this.A[b],e=a[b];if(c&&e){for(var d=0;d<c.qb.length;d++){var g=e[4+d];if(g&1){var f=c.qb[d];lc(this,f,f.Ag&65534,g&65534)}}this.Jb[b].set(e)}}this.Cb.set(a[256]);this.g.set(a[257]);this.wd.set(a[258]);this.xd.set(a[259])};
function jc(a,b,c){var e=b&255;(new Uint8Array(a.Jb[b>>8&65535].buffer))[e]=c}function kc(a,b,c){var e=b&255;a=new Uint16Array(a.Jb[b>>8&65535].buffer);!a||16<=e&&44>e||(a[e>>>1]=c)}function Ub(a,b){var c=b.Ga,e=new Int32Array(64);e.set(new Int32Array((new Uint8Array(b.K)).buffer));a.Jb[c]=e;a.A[c]=b;c=e.slice(4,10);for(var d=0;d<b.qb.length;d++){var g=b.qb[d];if(g){var f=c[d],h=f&1;g.Ag=f;g.entries=[];if(0!==h)for(f&=-2,h=0;h<g.size;h++)g.entries[h]=a.B.ports[f+h]}}return e}
function lc(a,b,c,e){for(var d=b.size,g=a.B.ports,f=0;f<d;f++){4096<=c+f&&(g[c+f]=ib(a.B));var h=b.entries[f];4096<=e+f&&(g[e+f]=h)}}ic.prototype.Ha=function(a){this.s.La(this.h[96+((this.Jb[a][15]>>8&255)-1+((a>>3)-1&255)&3)])};function nc(a,b){P(a.s,a.h[96+((a.Jb[b][15]>>8&255)+(b>>3&255)-2&3)])};function oc(a,b){this.B=a.B;this.s=a;this.kb=a.A.kb;this.h=0;this.P=new Uint8Array(10);this.R=0;this.i=null;this.g=new Uint8Array(10);this.O=this.D=this.$=this.da=this.G=this.u=this.l=this.j=0;this.U=1;this.L=this.C=0;this.Lc=null;b?this.Le(b):(this.Ve(),this.s.A.ad.V[16]=64);M(this.B,1008,this,this.Ej);M(this.B,1010,this,this.Fj);M(this.B,1012,this,this.Hj);M(this.B,1013,this,this.Jj);M(this.B,1015,this,this.Lj);N(this.B,1010,this,this.Gj);N(this.B,1012,this,this.Ij);N(this.B,1013,this,this.Kj)}
q=oc.prototype;q.Ve=function(){this.Lc=null;this.W=this.N=this.o=0;this.L=128};
q.Le=function(a){var b={[163840]:{type:1,sb:40,rb:8,mb:1},[184320]:{type:1,sb:40,rb:9,mb:1},[204800]:{type:1,sb:40,rb:10,mb:1},[327680]:{type:1,sb:40,rb:8,mb:2},[368640]:{type:1,sb:40,rb:9,mb:2},[409600]:{type:1,sb:40,rb:10,mb:2},[737280]:{type:3,sb:80,rb:9,mb:2},[1228800]:{type:2,sb:80,rb:15,mb:2},[1474560]:{type:4,sb:80,rb:18,mb:2},[1763328]:{type:5,sb:82,rb:21,mb:2},[2949120]:{type:5,sb:80,rb:36,mb:2},512:{type:1,sb:1,rb:1,mb:1}};let c=a.byteLength,e=b[c];e||(c=1474560<a.byteLength?2949120:1474560,
e=b[c],b=new Uint8Array(c),b.set(new Uint8Array(a.buffer)),a=new tb(b.buffer));this.o=e.rb;this.N=e.mb;this.W=e.sb;this.Lc=a;this.L=128;this.s.A.ad.V[16]=e.type<<4};q.ca=function(){var a=[];a[0]=this.h;a[1]=this.P;a[2]=this.R;a[4]=this.g;a[5]=this.j;a[6]=this.l;a[8]=this.u;a[9]=this.G;a[10]=this.da;a[11]=this.$;a[12]=this.D;a[13]=this.O;a[14]=this.U;a[15]=this.C;a[16]=this.o;a[17]=this.N;a[18]=this.W;return a};
q.H=function(a){this.h=a[0];this.P=a[1];this.R=a[2];this.i=a[3];this.g=a[4];this.j=a[5];this.l=a[6];this.u=a[8];this.G=a[9];this.da=a[10];this.$=a[11];this.D=a[12];this.O=a[13];this.U=a[14];this.C=a[15];this.o=a[16];this.N=a[17];this.W=a[18]};q.Ej=function(){return 0};q.Hj=function(){var a=128;this.j<this.l&&(a|=80);0===(this.C&8)&&(a|=32);return a};q.Lj=function(){return this.L};q.Jj=function(){return this.j<this.l?(P(this.s,6),this.g[this.j++]):255};q.Ij=function(a){a&128&&(this.u=192,this.s.La(6))};
q.Kj=function(a){if(0<this.h)this.P[this.R++]=a,this.h--,0===this.h&&this.i.call(this,this.P);else{switch(a){case 3:this.i=this.ii;this.h=2;break;case 19:this.i=this.Rh;this.h=3;break;case 4:this.i=this.Nh;this.h=1;break;case 5:case 69:case 197:this.i=function(b){pc(this,!0,b)};this.h=8;break;case 6:case 70:case 230:this.i=function(b){pc(this,!1,b)};this.h=8;break;case 7:this.i=this.Mh;this.h=1;break;case 8:this.j=0;this.l=2;this.g[0]=this.u;this.g[1]=this.D;break;case 74:this.i=this.Wj;this.h=1;
break;case 15:this.h=2;this.i=this.ag;break;case 14:case 16:this.u=128,this.g[0]=this.u,this.j=0,this.l=1,this.h=0}this.R=0}};q.Fj=function(){return this.C};q.Gj=function(a){4===(a&4)&&0===(this.C&4)&&(this.u=192,this.s.La(6));this.C=a};q.Nh=function(){this.G=this.Lc?0:5;this.j=0;this.l=1;this.g[0]=0};q.ag=function(a){if(0===(a[0]&3)){var b=a[1];a=a[0]>>2&1;b!==this.D&&(this.L=0);this.G=this.Lc?0:5;this.u=32;this.D=b;this.O=a}this.Ha()};q.Mh=function(a){this.ag([a[0],0])};
function pc(a,b,c){var e=c[2],d=c[1],g=c[3],f=128<<c[4],h=c[5]-c[3]+1,k=((e+a.N*d)*a.o+g-1)*f;a.Lc?(a.G=0,b?a.kb.re(a.Lc,k,h*f,2,a.done.bind(a,c,d,e,g)):rc(a.kb,a.Lc,k,a.done.bind(a,c,d,e,g))):a.G=5}q.done=function(a,b,c,e,d){d||(e++,e>this.o&&(e=1,c++,c>=this.N&&(c=0,b++)),b!==this.D&&(this.L=0),this.u=32,this.D=b,this.O=c,this.U=e,this.j=0,this.l=7,this.g[0]=c<<2|32,this.g[1]=0,this.g[2]=0,this.g[3]=b,this.g[4]=c,this.g[5]=e,this.g[6]=a[4],this.Ha())};q.ii=function(){};q.Rh=function(){};
q.Wj=function(){this.j=0;this.l=7;this.g[0]=0;this.g[1]=0;this.g[2]=0;this.g[3]=0;this.g[4]=0;this.g[5]=0;this.g[6]=0;this.Ha()};q.Ha=function(){this.C&8&&this.s.La(6)};function ec(a,b,c){b.length&&(a.Ze(c),a.Ze(c+b.length-1),a.si(c,c+b.length),a.Ua.set(b,c))};function sc(a){this.s=a;this.o=new Uint8Array(8);this.u=new Uint8Array(8);this.g=new Uint16Array(8);this.j=new Uint16Array(8);this.h=new Uint16Array(8);this.l=new Uint16Array(8);this.nc=new Uint8Array(8);this.C=new Uint8Array(8);this.tf=[];this.i=0;a=a.B;N(a,0,this,this.Wc.bind(this,0));N(a,2,this,this.Wc.bind(this,1));N(a,4,this,this.Wc.bind(this,2));N(a,6,this,this.Wc.bind(this,3));N(a,1,this,this.Yc.bind(this,0));N(a,3,this,this.Yc.bind(this,1));N(a,5,this,this.Yc.bind(this,2));N(a,7,this,this.Yc.bind(this,
3));M(a,0,this,this.Vc.bind(this,0));M(a,2,this,this.Vc.bind(this,1));M(a,4,this,this.Vc.bind(this,2));M(a,6,this,this.Vc.bind(this,3));M(a,1,this,this.Xc.bind(this,0));M(a,3,this,this.Xc.bind(this,1));M(a,5,this,this.Xc.bind(this,2));M(a,7,this,this.Xc.bind(this,3));N(a,192,this,this.Wc.bind(this,4));N(a,196,this,this.Wc.bind(this,5));N(a,200,this,this.Wc.bind(this,6));N(a,204,this,this.Wc.bind(this,7));N(a,194,this,this.Yc.bind(this,4));N(a,198,this,this.Yc.bind(this,5));N(a,202,this,this.Yc.bind(this,
6));N(a,206,this,this.Yc.bind(this,7));M(a,192,this,this.Vc.bind(this,4));M(a,196,this,this.Vc.bind(this,5));M(a,200,this,this.Vc.bind(this,6));M(a,204,this,this.Vc.bind(this,7));M(a,194,this,this.Xc.bind(this,4));M(a,198,this,this.Xc.bind(this,5));M(a,202,this,this.Xc.bind(this,6));M(a,206,this,this.Xc.bind(this,7));N(a,135,this,this.$c.bind(this,0));N(a,131,this,this.$c.bind(this,1));N(a,129,this,this.$c.bind(this,2));N(a,130,this,this.$c.bind(this,3));N(a,143,this,this.$c.bind(this,4));N(a,139,
this,this.$c.bind(this,5));N(a,137,this,this.$c.bind(this,6));N(a,138,this,this.$c.bind(this,7));M(a,135,this,this.Zc.bind(this,0));M(a,131,this,this.Zc.bind(this,1));M(a,129,this,this.Zc.bind(this,2));M(a,130,this,this.Zc.bind(this,3));M(a,143,this,this.Zc.bind(this,4));M(a,139,this,this.Zc.bind(this,5));M(a,137,this,this.Zc.bind(this,6));M(a,138,this,this.Zc.bind(this,7));N(a,1159,this,this.Ad.bind(this,0));N(a,1155,this,this.Ad.bind(this,1));N(a,1153,this,this.Ad.bind(this,2));N(a,1154,this,this.Ad.bind(this,
3));N(a,1163,this,this.Ad.bind(this,5));N(a,1161,this,this.Ad.bind(this,6));N(a,1162,this,this.Ad.bind(this,7));M(a,1159,this,this.zd.bind(this,0));M(a,1155,this,this.zd.bind(this,1));M(a,1153,this,this.zd.bind(this,2));M(a,1154,this,this.zd.bind(this,3));M(a,1163,this,this.zd.bind(this,5));M(a,1161,this,this.zd.bind(this,6));M(a,1162,this,this.zd.bind(this,7));N(a,10,this,this.Tg.bind(this,0));N(a,212,this,this.Tg.bind(this,4));N(a,15,this,this.Sg.bind(this,0));N(a,222,this,this.Sg.bind(this,4));
M(a,15,this,this.Rg.bind(this,0));M(a,222,this,this.Rg.bind(this,4));N(a,11,this,this.Qg.bind(this,0));N(a,214,this,this.Qg.bind(this,4));N(a,12,this,this.Pg);N(a,216,this,this.Pg)}q=sc.prototype;q.ca=function(){return[this.o,this.u,this.g,this.j,this.h,this.l,this.nc,this.C,this.i]};q.H=function(a){this.o=a[0];this.u=a[1];this.g=a[2];this.j=a[3];this.h=a[4];this.l=a[5];this.nc=a[6];this.C=a[7];this.i=a[8]};q.Yc=function(a,b){this.h[a]=tc(this,this.h[a],b,!1);this.l[a]=tc(this,this.l[a],b,!0)};
q.Xc=function(a){return uc(this,this.h[a])};q.Wc=function(a,b){this.g[a]=tc(this,this.g[a],b,!1);this.j[a]=tc(this,this.j[a],b,!0)};q.Vc=function(a){return uc(this,this.g[a])};q.Ad=function(a,b){this.u[a]=b};q.zd=function(a){return this.u[a]};q.$c=function(a,b){this.o[a]=b};q.Zc=function(a){return this.o[a]};q.Tg=function(a,b){vc(this,(b&3)+a,b&4?1:0)};q.Sg=function(a,b){for(var c=0;4>c;c++)vc(this,a+c,b&1<<c)};
q.Rg=function(a){var b=0|this.nc[a+0];b|=this.nc[a+1]<<1;b|=this.nc[a+2]<<2;return b|=this.nc[a+3]<<3};q.Qg=function(a,b){this.C[(b&3)+a]=b};q.Pg=function(){this.i=0};function vc(a,b,c){if(a.nc[b]!==c&&(a.nc[b]=c,!c))for(c=0;c<a.tf.length;c++)a.tf[c].Xe.call(a.tf[c].Uf,b)}function rc(a,b,c,e){var d=a.h[2]+1,g=wc(a,2);if(c+d>b.byteLength)e(!0);else{var f=a.s;a.g[2]+=d;b.get(c,d,function(h){ec(f,h,g);e(!1)})}}
q.re=function(a,b,c,e,d){var g=this.h[e]+1&65535,f=5<=e?2:1,h=g*f,k=wc(this,e),l=!1,m=!1,t=this.C[e]&16;c<h?(g=Math.floor(c/f),h=g*f,l=!0):c>h&&(m=!0);b+h>a.byteLength?d(!0):(this.g[e]+=g,this.h[e]-=g,!l&&t&&(this.g[e]=this.j[e],this.h[e]=this.l[e]),a.set(b,this.s.Ua.subarray(k,k+h),()=>{m&&t?this.re(a,b+h,c-h,e,d):d(!1)}))};function wc(a,b){var c=a.g[b];5<=b&&(c<<=1);c=c&65535|a.o[b]<<16;return c|=a.u[b]<<24}function tc(a,b,c,e){e||(a.i^=1);return a.i?b&-256|c:b&-65281|c<<8}
function uc(a,b){a.i^=1;return a.i?b&255:b>>8&255};function xc(a,b){this.s=a;this.v=b;this.i=new Float64Array(3);this.j=new Uint16Array(3);this.g=new Uint8Array(4);this.h=new Uint8Array(4);this.kd=new Uint8Array(4);this.u=new Uint8Array(4);this.l=new Uint8Array(4);this.o=new Uint16Array(3);this.vb=new Uint16Array(3);M(a.B,97,this,function(){var c=rb(),e=66.66666666666667*c&1;c=yc(this,2,c);return e<<4|c<<5});N(a.B,97,this,function(c){c&1?this.v.send("pcspeaker-enable"):this.v.send("pcspeaker-disable")});M(a.B,64,this,function(){return zc(this,0)});
M(a.B,65,this,function(){return zc(this,1)});M(a.B,66,this,function(){return zc(this,2)});N(a.B,64,this,function(c){Ac(this,0,c)});N(a.B,65,this,function(c){Ac(this,1,c)});N(a.B,66,this,function(c){Ac(this,2,c);this.v.send("pcspeaker-update",[this.kd[2],this.vb[2]])});N(a.B,67,this,this.C)}xc.prototype.ca=function(){var a=[];a[0]=this.g;a[1]=this.h;a[2]=this.kd;a[3]=this.u;a[4]=this.l;a[5]=this.o;a[6]=this.vb;a[7]=this.i;a[8]=this.j;return a};
xc.prototype.H=function(a){this.g=a[0];this.h=a[1];this.kd=a[2];this.u=a[3];this.l=a[4];this.o=a[5];this.vb=a[6];this.i=a[7];this.j=a[8]};xc.prototype.Fb=function(a,b){var c=100;b||(this.h[0]&&yc(this,0,a)?(this.j[0]=Bc(this,0,a),this.i[0]=a,P(this.s,0),this.s.La(0),0===this.kd[0]&&(this.h[0]=0)):P(this.s,0),this.h[0]&&(c=(this.j[0]-Math.floor(1193.1816666*(a-this.i[0])))/1193.1816666));return c};
function Bc(a,b,c){if(!a.h[b])return 0;c=a.j[b]-Math.floor(1193.1816666*(c-a.i[b]));a=a.vb[b];c>=a?c%=a:0>c&&(c=c%a+a);return c}function yc(a,b,c){c-=a.i[b];return 0>c?!0:a.j[b]<Math.floor(1193.1816666*c)}function zc(a,b){var c=a.l[b];if(c)return a.l[b]--,2===c?a.o[b]&255:a.o[b]>>8;c=a.g[b];3===a.kd[b]&&(a.g[b]^=1);a=Bc(a,b,rb());return c?a&255:a>>8}
function Ac(a,b,c){a.vb[b]=a.g[b]?a.vb[b]&-256|c:a.vb[b]&255|c<<8;3===a.u[b]&&a.g[b]||(a.vb[b]||(a.vb[b]=65535),a.j[b]=a.vb[b],a.h[b]=!0,a.i[b]=rb());3===a.u[b]&&(a.g[b]^=1)}xc.prototype.C=function(a){var b=a>>1&7,c=a>>6&3;a=a>>4&3;3!==c&&(0===a?(this.l[c]=2,b=Bc(this,c,rb()),this.o[c]=b?b-1:0):(6<=b&&(b&=-5),this.g[c]=1===a?0:1,0===c&&P(this.s,0),this.kd[c]=b,this.u[c]=a,2===c&&this.v.send("pcspeaker-update",[this.kd[2],this.vb[2]])))};var Cc=Uint32Array.from([655360,655360,720896,753664]),Dc=Uint32Array.from([131072,65536,32768,32768]);
function Ec(a,b,c){this.s=a;this.v=b;this.Y=c;this.u=0;this.Ic=14;this.Gc=15;this.L=80;this.ma=25;this.Qe=this.Ja=this.be=this.Ac=0;this.Vd=[];this.Rc=this.xa=0;this.ac=new Uint8Array(25);this.j=this.C=this.Qc=this.O=this.g=this.i=this.ec=this.fc=this.Ka=0;this.Kc=!0;this.Ea=!1;setTimeout(()=>{b.send("screen-set-mode",this.Ea)},0);this.ib=new Int32Array(256);this.h=0;this.De=45253;this.hb=this.Va=0;this.Qa=!1;this.Yb=32;this.Wd=this.ce=this.Ya=0;this.K=[52,18,17,17,3,1,0,0,0,0,0,3,0,0,0,0,8,14680064,
57344,224,0,0,0,0,0,0,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,190,254,0,0,0,0,0,0,0,0,0,0,0,0];this.Ga=144;this.qb=[{size:c}];this.Dg=65536;this.Bi=4272947200;this.name="vga";this.jb={ug:!1,Xj:0,Yj:0,bg:0};this.da=this.bc=this.$=this.G=0;this.U=255;this.oc=new Uint8Array(16);this.o=-1;this.ic=32;this.jd=this.hc=this.Qd=this.Za=0;this.kc=-1;this.jc=15;this.tb=this.mc=0;this.dc=-1;this.Xa=this.xc=this.Oc=0;this.Mc=255;this.W=this.R=this.P=this.Wa=this.Nc=this.$b=0;this.l=this.rd=255;
c=a.B;N(c,960,this,this.ij);M(c,960,this,this.Lg,this.hj);M(c,961,this,this.Mg);N(c,962,this,this.jj);c.Xb(964,this,this.lj,this.nj);M(c,964,this,this.kj);M(c,965,this,this.mj);c.Xb(974,this,this.yj,this.Aj);M(c,974,this,this.xj);M(c,975,this,this.zj);M(c,966,this,this.oj);N(c,966,this,this.pj);N(c,967,this,this.rj);M(c,967,this,this.qj);N(c,968,this,this.tj);M(c,968,this,this.sj);N(c,969,this,this.vj);M(c,969,this,this.uj);M(c,972,this,this.wj);c.Xb(980,this,this.Cj,this.Dj);M(c,980,this,this.Bj);
M(c,981,this,this.Ng,()=>this.Ng());M(c,970,this,function(){return 0});M(c,986,this,this.Og);M(c,954,this,this.Og);this.cc=-1;this.N=0;N(c,462,this,void 0,this.Di);N(c,463,this,void 0,this.Fi);M(c,463,this,void 0,this.Ei);void 0===this.Y||262144>this.Y?this.Y=262144:268435456<this.Y?this.Y=268435456:this.Y&65535&&(this.Y|=65535,this.Y++);const e=a.Fh(this.Y)>>>0;this.Tf=O(Uint8Array,a.ya,e,this.Y);this.ne=this.Y;this.me=0;this.pe=this.Y;this.oe=0;this.Qb=null;b.register("screen-fill-buffer",function(){if(this.Ea){if(0===
this.Qb.data.byteLength){var g=new Uint8ClampedArray(this.s.ya.buffer,this.yf,4*this.Ja*this.Qe);this.Qb=new ImageData(g,this.Ja,this.Qe);Fc(this)}if(this.Qa){g=0;var f=this.hb;if(8===this.Yb)for(var h=new Int32Array(this.s.ya.buffer,this.yf,this.Ac*this.be),k=new Uint8Array(this.s.ya.buffer,this.Tf.byteOffset,this.Y),l=0;l<h.length;l++){var m=this.ib[k[l]];h[l]=m&65280|m<<16|m>>16|4278190080}else this.s.Ih(this.Yb,this.ce),l=15===this.Yb?2:this.Yb/8,g=((this.s.Hh[0]/l|0)-this.ce)/this.Va|0,f=(((this.s.Gh[0]/
l|0)-this.ce)/this.Va|0)+1;g<f&&(g=Math.max(g,0),f=Math.min(f,this.hb),this.v.send("screen-fill-buffer-end",[{Qb:this.Qb,Of:0,Pf:g,Se:0,Te:g,xf:this.Va,wf:f-g}]))}else{g=Math.min(this.oe|15,524287);l=Gc(this);m=~this.Ka&3;f=this.xc&96;h=this.Za&64;for(k=this.pe&-16;k<=g;){var t=k>>>l;if(m){var r=k/this.Ja|0,n=k-this.Ja*r;switch(m){case 1:t=(r&1)<<13;r>>>=1;break;case 2:t=(r&1)<<14;r>>>=1;break;case 3:t=(r&3)<<13,r>>>=2}t|=(r*this.Ja+n>>>l)+this.xa}r=this.jf[t];n=this.kf[t];var u=this.lf[t],x=this.mf[t];
t=new Uint8Array(8);switch(f){case 0:r<<=0;n<<=1;u<<=2;x<<=3;for(var p=7;0<=p;p--)t[7-p]=r>>p&1|n>>p&2|u>>p&4|x>>p&8;break;case 32:t[0]=r>>6&3|u>>4&12;t[1]=r>>4&3|u>>2&12;t[2]=r>>2&3|u>>0&12;t[3]=r>>0&3|u<<2&12;t[4]=n>>6&3|x>>4&12;t[5]=n>>4&3|x>>2&12;t[6]=n>>2&3|x>>0&12;t[7]=n>>0&3|x<<2&12;break;case 64:case 96:t[0]=r>>4&15,t[1]=r>>0&15,t[2]=n>>4&15,t[3]=n>>0&15,t[4]=u>>4&15,t[5]=u>>0&15,t[6]=x>>4&15,t[7]=x>>0&15}if(h)for(r=p=0;4>p;p++,k++,r+=2)this.Yd[k]=t[r]<<4|t[r+1];else for(p=0;8>p;p++,k++)this.Yd[k]=
t[p]}h=this.ne;g=Math.min(this.me,524287);f=new Int32Array(this.s.ya.buffer,this.yf,this.Ja*this.Qe);l=255;m=0;this.Za&128&&(l&=207,m|=this.jd<<4&48);if(this.Za&64)for(;h<=g;h++)k=this.Yd[h]&l|m,k=this.ib[k],f[h]=k&65280|k<<16|k>>16|4278190080;else for(l&=63,m|=this.jd<<4&192;h<=g;h++)k=this.oc[this.Yd[h]&this.Qd]&l|m,k=this.ib[k],f[h]=k&65280|k<<16|k>>16|4278190080;this.v.send("screen-fill-buffer-end",this.Vd)}this.ne=this.Y;this.me=0;this.pe=this.Y;this.oe=0}Hc(this)},this);this.D=new Uint8Array(262144);
this.jf=new Uint8Array(this.D.buffer,0,65536);this.kf=new Uint8Array(this.D.buffer,65536,65536);this.lf=new Uint8Array(this.D.buffer,131072,65536);this.mf=new Uint8Array(this.D.buffer,196608,65536);this.Yd=new Uint8Array(524288);var d=this;kb(c,655360,131072,function(g){return Ic(d,g)},function(g,f){if(d.Qa&&d.Ea&&d.Kc)d.s.uf((g-655360|d.Ya)+3758096384|0,f);else{var h=d.Wa>>2&3;g-=Cc[h];if(!(0>g||g>=Dc[h]))if(d.Ea){var k=f;f=Jc(d.Mc);var l=Kc(d.$b);h=Kc(d.Nc);switch(d.xc&3){case 0:k=(k|k<<8)>>>(d.Xa&
7)&255;var m=Jc(k);k=Kc(d.$b);m=Lc(d,(m|h&k)&(~h|k),d.h);m=f&m|~f&d.h;break;case 1:m=d.h;break;case 2:m=Kc(k);m=Lc(d,m,d.h);m=f&m|~f&d.h;break;case 3:k=(k|k<<8)>>>(d.Xa&7)&255,f&=Jc(k),m=f&l|~f&d.h}f=15;switch(d.mc&12){case 0:f=5<<(g&1);g&=-2;break;case 8:case 12:f=1<<(g&3),g&=-4}f&=d.jc;f&1&&(d.jf[g]=m>>0&255);f&2&&(d.kf[g]=m>>8&255);f&4&&(d.lf[g]=m>>16&255);f&8&&(d.mf[g]=m>>24&255);f=Mc(d,g);m=f+7;f<d.pe&&(d.pe=f);m>d.oe&&(d.oe=m);f<d.ne&&(d.ne=f);m>d.me&&(d.me=m)}else d.jc&3&&(m=g,d.D[m]=f,h=Math.max(d.L,
2*d.C),m>>1>=d.xa?(k=(m>>1)-d.xa,g=k/h|0,h=k%h):(k=m>>1,g=(k/h|0)+Nc(d,d.j),h=k%h),h>=d.L||g>=d.ma||(m&1?(k=f,f=d.D[m&-2]):k=d.D[m|1],d.v.send("screen-put-char",[g,h,f,d.ib[d.U&d.oc[k>>4&15]],d.ib[d.U&d.oc[k&15]]])))}});Ub(a.A.Oa,this)}q=Ec.prototype;
q.ca=function(){var a=[];a[0]=this.Y;a[1]=this.u;a[2]=this.Ic;a[3]=this.Gc;a[4]=this.L;a[5]=this.ma;a[6]=this.D;a[7]=this.da;a[8]=this.xa;a[9]=this.Ea;a[10]=this.ib;a[11]=this.h;a[12]=this.P;a[13]=this.R;a[14]=this.Wa;a[15]=this.Va;a[16]=this.hb;a[17]=this.Ka;a[18]=this.Qa;a[19]=this.Yb;a[20]=this.Ya;a[21]=this.ce;a[22]=this.G;a[23]=this.$;a[24]=this.bc;a[25]=this.oc;a[26]=this.kc;a[27]=this.jc;a[28]=this.mc;a[29]=this.dc;a[30]=this.Oc;a[31]=this.xc;a[32]=this.Xa;a[33]=this.Mc;a[34]=this.W;a[35]=
this.rd;a[36]=this.l;a[37]=this.cc;a[38]=this.N;a[39]=this.Tf;a[40]=this.Kc;a[41]=this.o;a[42]=this.C;a[43]=this.$b;a[44]=this.Nc;a[45]=this.Rc;a[46]=this.ac;a[47]=this.fc;a[48]=this.ec;a[49]=this.i;a[50]=this.g;a[51]=this.O;a[52]=this.Qc;a[53]=this.C;a[54]=this.ic;a[55]=this.Za;a[56]=this.Qd;a[57]=this.hc;a[58]=this.jd;a[59]=this.tb;a[60]=this.j;a[61]=this.Yd;a[62]=this.U;return a};
q.H=function(a){this.Y=a[0];this.u=a[1];this.Ic=a[2];this.Gc=a[3];this.L=a[4];this.ma=a[5];a[6]&&this.D.set(a[6]);this.da=a[7];this.xa=a[8];this.Ea=a[9];this.ib=a[10];this.h=a[11];this.P=a[12];this.R=a[13];this.Wa=a[14];this.Va=a[15];this.hb=a[16];this.Ka=a[17];this.Qa=a[18];this.Yb=a[19];this.Ya=a[20];this.ce=a[21];this.G=a[22];this.$=a[23];this.bc=a[24];this.oc=a[25];this.kc=a[26];this.jc=a[27];this.mc=a[28];this.dc=a[29];this.Oc=a[30];this.xc=a[31];this.Xa=a[32];this.Mc=a[33];this.W=a[34];this.rd=
a[35];this.l=a[36];this.cc=a[37];this.N=a[38];this.Tf.set(a[39]);this.Kc=a[40];this.o=a[41];this.C=a[42];this.$b=a[43];this.Nc=a[44];this.Rc=a[45];this.ac.set(a[46]);this.fc=a[47];this.ec=a[48];this.i=a[49];this.g=a[50];this.O=a[51];this.Qc=a[52];this.C=a[53];this.ic=a[54];this.Za=a[55];this.Qd=a[56];this.hc=a[57];this.jd=a[58];this.tb=a[59];this.j=a[60];a[61]&&this.Yd.set(a[61]);this.U=void 0===a[62]?255:a[62];this.v.send("screen-set-mode",this.Ea);this.Ea?(this.be=this.Ac=0,this.Qa?(this.Fd(this.Va,
this.hb,this.Yb,this.Va,this.hb),Fc(this)):(Oc(this),Fc(this),Pc(this))):(this.Gd(this.L,this.ma),this.Kd(),this.Jd());Qc(this)};
function Ic(a,b){if(a.Qa&&a.Kc)return a.s.Dd((b-655360|a.Ya)+3758096384|0);var c=a.Wa>>2&3;b-=Cc[c];if(0>b||b>=Dc[c])return 0;a.h=a.jf[b];a.h|=a.kf[b]<<8;a.h|=a.lf[b]<<16;a.h|=a.mf[b]<<24;if(a.xc&8)return c=255,a.R&1&&(c&=a.jf[b]^~(a.P&1?255:0)),a.R&2&&(c&=a.kf[b]^~(a.P&2?255:0)),a.R&4&&(c&=a.lf[b]^~(a.P&4?255:0)),a.R&8&&(c&=a.mf[b]^~(a.P&8?255:0)),c;c=a.Oc;a.Ea?a.mc&8?(c=b&3,b&=-4):a.xc&16&&(c=b&1,b&=-2):c=0;return a.D[c<<16|b]}function Jc(a){return a|a<<8|a<<16|a<<24}
function Kc(a){return(a&1?255:0)|(a&2?255:0)<<8|(a&4?255:0)<<16|(a&8?255:0)<<24}function Lc(a,b,c){switch(a.Xa&24){case 8:return b&c;case 16:return b|c;case 24:return b^c}return b}function Rc(a){var b=a.xa<<1;const c=Nc(a,a.j),e=Math.max(0,2*(2*a.C-a.L));for(var d=0;d<a.ma;d++){d===c&&(b=0);for(var g=0;g<a.L;g++){var f=a.D[b];var h=a.D[b|1];a.v.send("screen-put-char",[d,g,f,a.ib[a.U&a.oc[h>>4&15]],a.ib[a.U&a.oc[h&15]]]);b+=2}b+=e}}
q.Jd=function(){var a=Math.max(this.L,2*this.C);let b;this.u>=this.xa?(b=(this.u-this.xa)/a|0,a=(this.u-this.xa)%a):(b=(this.u/a|0)+Nc(this,this.j),a=this.u%a);b=Math.min(this.ma-1,b);a=Math.min(this.L-1,a);this.v.send("screen-update-cursor",[b,a])};function Qc(a){a.Ea?a.Qa?a.s.De():(a.ne=0,a.me=524288):Rc(a)}function Pc(a){a.Ea&&!a.Qa&&(a.pe=0,a.oe=524288,Qc(a))}q.ra=function(){};function Gc(a){var b=128+(~a.O&a.Ka&64);b-=a.O&64;b-=a.Za&64;return b>>>6}
function Mc(a,b){var c=Gc(a);if(~a.Ka&3){var e=b-a.xa;e&=a.Ka<<13|-24577;e<<=c;var d=e/a.Ja|0;e%=a.Ja;switch(a.Ka&3){case 2:d=d<<1|b>>13&1;break;case 1:d=d<<1|b>>14&1;break;case 0:d=d<<2|b>>13&3}return d*a.Ja+e+(a.xa<<c)}return b<<c}function Nc(a,b){a.W&128&&(b>>>=1);b=Math.ceil(b/(1+(a.W&31)));a.Ka&1||(b<<=1);a.Ka&2||(b<<=1);return b}q.Gd=function(a,b){this.L=a;this.ma=b;this.v.send("screen-set-size-text",[a,b])};
q.Fd=function(a,b,c,e,d){e=Math.max(e,1);d=Math.max(d,1);if(!this.jb.ug||this.jb.bg!==c||this.Ac!==a||this.be!==b||this.Ja!==e||this.Qe!==d){this.Ac=a;this.be=b;this.Ja=e;this.Qe=d;this.jb.bg=c;this.jb.ug=!0;this.jb.Xj=a;this.jb.Yj=b;if("undefined"!==typeof ImageData){const g=e*d,f=this.s.Eh(g)>>>0;this.yf=f;this.Qb=new ImageData(new Uint8ClampedArray(this.s.ya.buffer,f,4*g),e,d);this.s.De()}this.v.send("screen-set-size-graphical",[a,b,e,d,c])}};
function Oc(a){if(!a.Qa){var b=Math.min(1+a.fc,a.ec),c=Math.min(1+a.i,a.g);if(b&&c)if(a.Ea){b<<=3;var e=a.C<<4;a.Za&64&&(b>>>=1,e>>>=1);c=Nc(a,c);var d=Dc[0];var g=a.C<<2;a.O&64?g<<=1:a.Ka&64&&(g>>>=1);a.Fd(b,c,8,e,g?Math.ceil(d/g):c);Hc(a);Fc(a)}else a.W&128&&(c>>>=1),e=c/(1+(a.W&31))|0,b&&e&&a.Gd(b,e)}}
function Fc(a){a.Ea||Rc(a);if(a.Qa)a.Vd=[];else if(a.Ja&&a.Ac)if(!a.ic||a.tb&32)a.Vd=[],a.v.send("screen-clear");else{var b=a.Rc,c=a.hc;a.Za&64&&(c>>>=1);var e=a.Qc>>5&3,d=Mc(a,b+e);b=d/a.Ja|0;var g=d%a.Ja+c;d=Nc(a,1+a.j);d=Math.min(d,a.be);var f=a.be-d;a.Vd=[];g=-g;for(var h=0;g<a.Ac;g+=a.Ja,h++)a.Vd.push({Qb:a.Qb,Of:g,Pf:0,Se:0,Te:b+h,xf:a.Ja,wf:d});b=0;a.Za&32||(b=Mc(a,e)+c);g=-b;for(h=0;g<a.Ac;g+=a.Ja,h++)a.Vd.push({Qb:a.Qb,Of:g,Pf:d,Se:0,Te:h,xf:a.Ja,wf:f})}}
function Hc(a){a.l|=8;a.Rc!==a.xa&&(a.Rc=a.xa,Fc(a))}q.Kd=function(){this.v.send("screen-update-cursor-scanline",[this.Ic,this.Gc])};
q.ij=function(a){if(-1===this.o)this.o=a&31,this.ic!==(a&32)&&(this.ic=a&32,Fc(this));else{if(16>this.o)this.oc[this.o]=a,this.Za&64||Qc(this);else switch(this.o){case 16:if(this.Za!==a){var b=this.Za;this.Za=a;var c=0<(a&1);this.Qa||this.Ea===c||(this.Ea=c,this.v.send("screen-set-mode",this.Ea));(b^a)&64&&Pc(this);Oc(this);Qc(this)}break;case 18:this.Qd!==a&&(this.Qd=a,Qc(this));break;case 19:this.hc!==a&&(this.hc=a&15,Fc(this));break;case 20:this.jd!==a&&(this.jd=a,Qc(this))}this.o=-1}};
q.Lg=function(){return(this.o|this.ic)&255};q.hj=function(){return this.Lg()|this.Mg()<<8&65280};q.Mg=function(){if(16>this.o)return this.oc[this.o]&255;switch(this.o){case 16:return this.Za;case 18:return this.Qd;case 19:return this.hc;case 20:return this.jd}return 255};q.jj=function(a){this.rd=a};q.lj=function(a){this.kc=a};q.kj=function(){return this.kc};q.nj=function(a){switch(this.kc){case 1:var b=this.tb;this.tb=a;(b^a)&32&&Fc(this);break;case 2:this.jc=a;break;case 4:this.mc=a}};
q.mj=function(){switch(this.kc){case 1:return this.tb;case 2:return this.jc;case 4:return this.mc;case 6:return 18}return 0};q.pj=function(a){this.U=a};q.oj=function(){return this.U};q.rj=function(a){this.bc=3*a;this.da&=0};q.qj=function(){return this.da};q.tj=function(a){this.$=3*a;this.da|=3};q.sj=function(){return this.$/3&255};
q.vj=function(a){var b=this.$/3|0,c=this.$%3,e=this.ib[b];if(0===(this.N&32)){a&=63;const d=a&1;a=a<<2|d<<1|d}e=0===c?e&-16711681|a<<16:1===c?e&-65281|a<<8:e&-256|a;this.ib[b]!==e&&(this.ib[b]=e,Qc(this));this.$++};q.uj=function(){var a=this.ib[this.bc/3|0]>>8*(2-this.bc%3)&255;this.bc++;return this.N&32?a:a>>2};q.wj=function(){return this.rd};q.yj=function(a){this.dc=a};q.xj=function(){return this.dc};
q.Aj=function(a){switch(this.dc){case 0:this.$b=a;break;case 1:this.Nc=a;break;case 2:this.P=a;break;case 3:this.Xa=a;break;case 4:this.Oc=a;break;case 5:var b=this.xc;this.xc=a;(b^a)&96&&Pc(this);break;case 6:this.Wa!==a&&(this.Wa=a,Oc(this));break;case 7:this.R=a;break;case 8:this.Mc=a}};q.zj=function(){switch(this.dc){case 0:return this.$b;case 1:return this.Nc;case 2:return this.P;case 3:return this.Xa;case 4:return this.Oc;case 5:return this.xc;case 6:return this.Wa;case 7:return this.R;case 8:return this.Mc}return 0};
q.Cj=function(a){this.G=a};q.Bj=function(){return this.G};
q.Dj=function(a){switch(this.G){case 1:this.fc!==a&&(this.fc=a,Oc(this));break;case 2:this.ec!==a&&(this.ec=a,Oc(this));break;case 7:var b=this.i;this.i&=255;this.i=this.i|a<<3&512|a<<7&256;b!=this.i&&Oc(this);this.j=this.j&767|a<<4&256;b=this.g;this.g=this.g&767|a<<5&256;b!==this.g&&Oc(this);Fc(this);break;case 8:this.Qc=a;Fc(this);break;case 9:this.W=a;this.j=this.j&511|a<<3&512;b=this.g;this.g=this.g&511|a<<4&512;b!==this.g&&Oc(this);Fc(this);break;case 10:this.Ic=a;this.Kd();break;case 11:this.Gc=
a;this.Kd();break;case 12:(this.xa>>8&255)!==a&&(this.xa=this.xa&255|a<<8,Fc(this),~this.Ka&3&&Pc(this));break;case 13:(this.xa&255)!==a&&(this.xa=this.xa&65280|a,Fc(this),~this.Ka&3&&Pc(this));break;case 14:this.u=this.u&255|a<<8;this.Jd();break;case 15:this.u=this.u&65280|a;this.Jd();break;case 18:(this.i&255)!==a&&(this.i=this.i&768|a,Oc(this));break;case 19:this.C!==a&&(this.C=a,Oc(this),~this.Ka&3&&Pc(this));break;case 20:this.O!==a&&(b=this.O,this.O=a,Oc(this),(b^a)&64&&Pc(this));break;case 21:(this.g&
255)!==a&&(this.g=this.g&768|a,Oc(this));break;case 23:this.Ka!==a&&(b=this.Ka,this.Ka=a,Oc(this),(b^a)&67&&Pc(this));break;case 24:this.j=this.j&768|a;Fc(this);break;default:this.G<this.ac.length&&(this.ac[this.G]=a)}};
q.Ng=function(){switch(this.G){case 1:return this.fc;case 2:return this.ec;case 7:return this.i>>7&2|this.g>>5&8|this.j>>4&16|this.i>>3&64;case 8:return this.Qc;case 9:return this.W;case 10:return this.Ic;case 11:return this.Gc;case 12:return this.xa&255;case 13:return this.xa>>8;case 14:return this.u>>8;case 15:return this.u&255;case 18:return this.i&255;case 19:return this.C;case 20:return this.O;case 21:return this.g&255;case 23:return this.Ka;case 24:return this.j&255}return this.G<this.ac.length?
this.ac[this.G]:0};q.Og=function(){var a=this.l;this.Ea?(this.l^=1,this.l&=1):(this.l&1&&(this.l^=8),this.l^=1);this.o=-1;return a};q.Di=function(a){this.cc=a};
q.Fi=function(a){switch(this.cc){case 0:45248<=a&&45253>=a&&(this.De=a);break;case 1:this.Va=a;2560<this.Va&&(this.Va=2560);break;case 2:this.hb=a;1600<this.hb&&(this.hb=1600);break;case 3:this.Yb=a;break;case 4:this.Qa=1===(a&1);this.N=a;break;case 5:this.Ya=a<<16;break;case 9:const b=a*this.Va;this.Wd!==a&&(this.Wd=a,this.ce=b,Qc(this))}!this.Qa||this.Va&&this.hb||(this.Qa=!1);this.Qa&&4===this.cc&&(this.Fd(this.Va,this.hb,this.Yb,this.Va,this.hb),this.v.send("screen-set-mode",!0),this.Kc=this.Ea=
!0);this.Qa||(this.Ya=0);Fc(this)};q.Ei=function(){return Sc(this,this.cc)};function Sc(a,b){switch(b){case 0:return a.De;case 1:return a.N&2?2560:a.Va;case 2:return a.N&2?1600:a.hb;case 3:return a.N&2?32:a.Yb;case 4:return a.N;case 5:return a.Ya>>>16;case 6:return a.Ac?a.Ac:1;case 8:return 0;case 9:return a.Wd;case 10:return a.Y/65536|0}return 255};function Tc(a,b){this.s=a;this.v=b;this.Ld=this.Jc=!1;this.ye=!0;this.ud=this.Ub=this.Tb=0;this.ma=!0;this.P=this.O=this.G=this.N=this.R=this.L=this.se=!1;this.la=new Bb(1024);this.l=0;this.bd=100;this.j=this.i=0;this.C=!1;this.Zb=0;this.Zd=4;this.u=!1;this.g=new Bb(1024);this.D=this.o=!1;this.v.register("keyboard-code",function(c){this.se&&(this.la.push(c),this.Ha())},this);this.v.register("mouse-click",function(c){this.ye&&this.Ld&&(this.ud=c[0]|c[2]<<1|c[1]<<2,this.Jc&&Uc(this,0,0))},this);this.v.register("mouse-delta",
function(c){var e=c[1];if(this.ye&&this.Ld){var d=this.Zd*this.bd/80;this.Tb+=c[0]*d;this.Ub+=e*d;this.Jc&&(c=this.Tb|0,e=this.Ub|0,c||e)&&(this.Tb-=c,this.Ub-=e,Uc(this,c,e))}},this);this.v.register("mouse-wheel",function(c){this.Zb-=c[0];this.Zb-=2*c[1];this.Zb=Math.min(7,Math.max(-8,this.Zb));Uc(this,0,0)},this);this.h=5;this.da=0;this.W=this.U=this.$=!1;M(a.B,96,this,this.Qj);M(a.B,100,this,this.Sj);N(a.B,96,this,this.Rj);N(a.B,100,this,this.Tj)}q=Tc.prototype;
q.ca=function(){var a=[];a[0]=this.Jc;a[1]=this.Ld;a[2]=this.ye;a[3]=this.Tb;a[4]=this.Ub;a[5]=this.ud;a[6]=this.ma;a[7]=this.se;a[8]=this.L;a[9]=this.R;a[10]=this.N;a[11]=this.G;a[12]=this.O;a[13]=this.P;a[15]=this.l;a[16]=this.bd;a[17]=this.Zd;a[18]=this.u;a[20]=this.h;a[21]=this.$;a[22]=this.U;a[23]=this.da;a[24]=this.W;a[25]=this.j;a[26]=this.i;a[27]=this.C;return a};
q.H=function(a){this.Jc=a[0];this.Ld=a[1];this.ye=a[2];this.Tb=a[3];this.Ub=a[4];this.ud=a[5];this.ma=a[6];this.se=a[7];this.L=a[8];this.R=a[9];this.N=a[10];this.G=a[11];this.O=a[12];this.P=a[13];this.l=a[15];this.bd=a[16];this.Zd=a[17];this.u=a[18];this.h=a[20];this.$=a[21];this.U=a[22];this.da=a[23];this.W=a[24];this.j=a[25]||0;this.i=a[26]||0;this.C=a[27]||!1;this.D=this.o=!1;this.la.clear();this.g.clear();this.v.send("mouse-enable",this.Ld)};
q.Ha=function(){this.o||(this.la.length?Vc(this):this.g.length&&Wc(this))};function Wc(a){a.o=!0;a.D=!0;a.h&2&&(P(a.s,12),a.s.La(12))}function Vc(a){a.o=!0;a.D=!1;a.h&1&&(P(a.s,1),a.s.La(1))}function Uc(a,b,c){a.g.push((0>c)<<5|(0>b)<<4|8|a.ud);a.g.push(b);a.g.push(c);4===a.j?(a.g.push(0|a.Zb&15),a.Zb=0):3===a.j&&(a.g.push(a.Zb&255),a.Zb=0);a.Ha()}
q.Qj=function(){this.o=!1;if(!this.la.length&&!this.g.length)return this.l;this.D?(P(this.s,12),this.l=this.g.shift()):(P(this.s,1),this.l=this.la.shift());(this.la.length||this.g.length)&&this.Ha();return this.l};q.Sj=function(){var a=16;this.o&&(a|=1);this.D&&(a|=32);return a};
q.Rj=function(a){if(this.U)this.h=a,this.U=!1;else if(this.$)this.$=!1,this.g.clear(),this.g.push(a),Wc(this);else if(this.R){this.R=!1;this.g.clear();this.g.push(250);this.bd=a;switch(this.i){case -1:60===a?(this.C=!0,this.i=0):(this.C=!1,this.i=200===a?1:0);break;case 0:200===a&&(this.i=1);break;case 1:this.i=100===a?2:200===a?3:0;break;case 2:80===a&&(this.j=3);this.i=-1;break;case 3:80===a&&(this.j=4),this.i=-1}this.bd||(this.bd=100);Wc(this)}else if(this.P)this.P=!1,this.g.clear(),this.g.push(250),
this.Zd=3<a?4:1<<a,Wc(this);else if(this.N)this.N=!1,this.la.push(250),Vc(this);else if(this.G)this.G=!1,this.la.push(250),Vc(this),a||this.la.push(1);else if(this.O)this.O=!1,this.la.push(250),Vc(this);else if(this.L){if(this.L=!1,this.ye){this.la.clear();this.g.clear();this.g.push(250);switch(a){case 230:this.u=!1;break;case 231:this.u=!0;break;case 232:this.P=!0;break;case 233:Uc(this,0,0);break;case 235:Uc(this,0,0);break;case 242:this.g.push(this.j);this.ud=this.Tb=this.Ub=0;this.Ha();break;
case 243:this.R=!0;break;case 244:this.Ld=this.Jc=!0;this.v.send("mouse-enable",!0);this.ud=this.Tb=this.Ub=0;break;case 245:this.Jc=!1;break;case 246:this.Jc=!1;this.bd=100;this.u=!1;this.Zd=4;break;case 255:this.g.push(170),this.g.push(0),this.Ld=!0,this.v.send("mouse-enable",!0),this.Jc=!1,this.bd=100,this.u=!1,this.Zd=4,this.C||(this.j=0),this.ud=this.Tb=this.Ub=0}Wc(this)}}else if(this.W)this.W=!1,this.da=a;else{this.g.clear();this.la.clear();this.la.push(250);switch(a){case 237:this.N=!0;break;
case 240:this.G=!0;break;case 242:this.la.push(171);this.la.push(131);break;case 243:this.O=!0;break;case 244:this.se=!0;break;case 245:this.se=!1;break;case 255:this.la.clear(),this.la.push(250),this.la.push(170),this.la.push(0)}Vc(this)}};
q.Tj=function(a){switch(a){case 32:this.la.clear();this.g.clear();this.la.push(this.h);Vc(this);break;case 96:this.U=!0;break;case 209:this.W=!0;break;case 211:this.$=!0;break;case 212:this.L=!0;break;case 167:this.h|=32;break;case 168:this.h&=-33;break;case 169:this.la.clear();this.g.clear();this.la.push(0);Vc(this);break;case 170:this.la.clear();this.g.clear();this.la.push(85);Vc(this);break;case 171:this.la.clear();this.g.clear();this.la.push(0);Vc(this);break;case 173:this.h|=16;break;case 174:this.h&=
-17;break;case 254:mc(this.s)}};function Xc(a){this.s=a;this.hd=0;this.V=new Uint8Array(128);this.D=this.g=Date.now();this.l=this.j=0;this.u=!1;this.C=.9765625;this.o=38;this.h=2;this.Hf=this.i=0;N(a.B,112,this,function(b){this.hd=b&127;this.Hf=b>>7});N(a.B,113,this,this.Qh);M(a.B,113,this,this.Ph)}q=Xc.prototype;q.ca=function(){var a=[];a[0]=this.hd;a[1]=this.V;a[2]=this.g;a[3]=this.D;a[4]=this.j;a[5]=this.l;a[6]=this.u;a[7]=this.C;a[8]=this.o;a[9]=this.h;a[10]=this.i;a[11]=this.Hf;return a};
q.H=function(a){this.hd=a[0];this.V=a[1];this.g=a[2];this.D=a[3];this.j=a[4];this.l=a[5];this.u=a[6];this.C=a[7];this.o=a[8];this.h=a[9];this.i=a[10];this.Hf=a[11]};q.Fb=function(a){a=Date.now();this.g+=a-this.D;this.D=a;this.u&&this.j<a?(this.s.La(8),this.i|=192,this.j+=this.C*Math.ceil((a-this.j)/this.C)):this.l&&this.l<a&&(this.s.La(8),this.i|=160,this.l=0);let b=100;this.u&&this.j&&(b=Math.min(b,Math.max(0,this.j-a)));this.l&&(b=Math.min(b,Math.max(0,this.l-a)));return b};
function Yc(a,b){if(a.h&4)a=b;else{a=b;for(var c=b=0,e;a;)e=a%10,c|=e<<4*b,b++,a=(a-e)/10;a=c}return a}function Zc(a,b){var c;a.h&4?c=b:c=(b&15)+10*(b>>4&15);return c}
q.Ph=function(){switch(this.hd){case 0:return Yc(this,(new Date(this.g)).getUTCSeconds());case 2:return Yc(this,(new Date(this.g)).getUTCMinutes());case 4:return Yc(this,(new Date(this.g)).getUTCHours());case 7:return Yc(this,(new Date(this.g)).getUTCDate());case 8:return Yc(this,(new Date(this.g)).getUTCMonth()+1);case 9:return Yc(this,(new Date(this.g)).getUTCFullYear()%100);case 10:return 999<=rb()%1E3?this.o|128:this.o;case 11:return this.h;case 12:P(this.s,8);var a=this.i;this.i&=-241;return a;
case 13:return 0;case 50:return Yc(this,(new Date(this.g)).getUTCFullYear()/100|0);default:return this.V[this.hd]}};
q.Qh=function(a){switch(this.hd){case 10:this.o=a&127;this.C=1E3/(32768>>(this.o&15)-1);break;case 11:this.h=a;this.h&64&&(this.j=Date.now());if(this.h&32){a=new Date;const b=Zc(this,this.V[1]),c=Zc(this,this.V[3]),e=Zc(this,this.V[5]);this.l=+new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),e,c,b))}break;case 1:case 3:case 5:this.V[this.hd]=a}this.u=64===(this.h&64)&&0<(this.o&15)};function $c(a,b,c){this.v=c;this.s=a;this.h=4;this.Sc=this.Dc=0;this.td=96;this.uc=this.ue=0;this.vc=1;this.ea=this.qf=this.Fa=this.df=0;this.input=[];switch(b){case 1016:this.g=0;this.ea=4;break;case 760:this.g=1;this.ea=3;break;case 1E3:this.g=2;this.ea=4;break;case 744:this.ea=this.g=3;break;default:this.g=0,this.ea=4}this.v.register("serial"+this.g+"-input",function(e){this.input.push(e);this.td|=1;this.ue&1?ad(this,12):ad(this,4)},this);this.v.register("serial"+this.g+"-modem-status-input",function(e){bd(this,
e)},this);this.v.register("serial"+this.g+"-carrier-detect-input",function(e){bd(this,e?this.Fa|136:this.Fa&-137)},this);this.v.register("serial"+this.g+"-ring-indicator-input",function(e){bd(this,e?this.Fa|68:this.Fa&-69)},this);this.v.register("serial"+this.g+"-data-set-ready-input",function(e){bd(this,e?this.Fa|34:this.Fa&-35)},this);this.v.register("serial"+this.g+"-clear-to-send-input",function(e){bd(this,e?this.Fa|17:this.Fa&-18)},this);a=a.B;N(a,b,this,function(e){cd(this,e)},function(e){cd(this,
e&255);cd(this,e>>8)});N(a,b|1,this,function(e){this.Sc&128?this.Dc=this.Dc&255|e<<8:(0===(this.uc&2)&&e&2&&ad(this,2),this.uc=e&15,dd(this))});M(a,b,this,function(){if(this.Sc&128)return this.Dc&255;let e=0;0!==this.input.length&&(e=this.input.shift());0===this.input.length&&(this.td&=-2,ed(this,12),ed(this,4));return e});M(a,b|1,this,function(){return this.Sc&128?this.Dc>>8:this.uc&15});M(a,b|2,this,function(){var e=this.vc&15;2==this.vc&&ed(this,2);this.ue&1&&(e|=192);return e});N(a,b|2,this,function(e){this.ue=
e});M(a,b|3,this,function(){return this.Sc});N(a,b|3,this,function(e){this.Sc=e});M(a,b|4,this,function(){return this.df});N(a,b|4,this,function(e){this.df=e});M(a,b|5,this,function(){return this.td});N(a,b|5,this,function(){});M(a,b|6,this,function(){return this.Fa&=240});N(a,b|6,this,function(e){bd(this,e)});M(a,b|7,this,function(){return this.qf});N(a,b|7,this,function(e){this.qf=e})}
$c.prototype.ca=function(){var a=[];a[0]=this.h;a[1]=this.Dc;a[2]=this.Sc;a[3]=this.td;a[4]=this.ue;a[5]=this.uc;a[6]=this.vc;a[7]=this.df;a[8]=this.Fa;a[9]=this.qf;a[10]=this.ea;return a};$c.prototype.H=function(a){this.h=a[0];this.Dc=a[1];this.Sc=a[2];this.td=a[3];this.ue=a[4];this.uc=a[5];this.vc=a[6];this.df=a[7];this.Fa=a[8];this.qf=a[9];this.ea=a[10]};
function dd(a){a.h&4096&&a.uc&1?(a.vc=12,a.s.La(a.ea)):a.h&16&&a.uc&1?(a.vc=4,a.s.La(a.ea)):a.h&4&&a.uc&2?(a.vc=2,a.s.La(a.ea)):a.h&1&&a.uc&8?(a.vc=0,a.s.La(a.ea)):(a.vc=1,P(a.s,a.ea))}function ad(a,b){a.h|=1<<b;dd(a)}function ed(a,b){a.h&=~(1<<b);dd(a)}function cd(a,b){a.Sc&128?a.Dc=a.Dc&-256|b:(ad(a,2),a.v.send("serial"+a.g+"-output-byte",b))}function bd(a,b){let c=(a.Fa^b)>>4;c|=a.Fa&15;a.Fa=b;a.Fa|=c};function fd(a){this.s=a;var b=a.B;Ub(a.A.Oa,{Ga:56,K:[134,128,19,113,7,0,128,2,8,0,128,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1,0,0],qb:[],name:"acpi"});this.g=this.h=0;this.status=1;this.Fe=this.yd=0;this.i=gd(this,rb());this.Pb=new Uint8Array(4);M(b,45056,this,void 0,function(){return this.yd});N(b,45056,this,void 0,function(c){this.yd&=~c});M(b,45058,this,void 0,function(){return this.Fe});N(b,45058,this,void 0,function(c){this.Fe=
c});M(b,45060,this,void 0,function(){return this.status});N(b,45060,this,void 0,function(c){this.status=c});M(b,45064,this,void 0,void 0,function(){return gd(this,rb())&16777215});M(b,45024,this,function(){return this.Pb[0]});M(b,45025,this,function(){return this.Pb[1]});M(b,45026,this,function(){return this.Pb[2]});M(b,45027,this,function(){return this.Pb[3]});N(b,45024,this,function(c){this.Pb[0]=c});N(b,45025,this,function(c){this.Pb[1]=c});N(b,45026,this,function(c){this.Pb[2]=c});N(b,45027,this,
function(c){this.Pb[3]=c})}fd.prototype.Fb=function(a){a=gd(this,a);var b=0!==((a^this.i)&8388608);this.Fe&1&&b?(this.yd|=1,this.s.La(9)):P(this.s,9);this.i=a;return 100};function gd(a,b){b=Math.round(3579.545*b);b===a.h?3579.545>a.g&&a.g++:a.h+a.g<=b&&(a.g=0,a.h=b);return a.h+a.g}fd.prototype.ca=function(){var a=[];a[0]=this.status;a[1]=this.yd;a[2]=this.Fe;a[3]=this.Pb;return a};fd.prototype.H=function(a){this.status=a[0];this.yd=a[1];this.Fe=a[2];this.Pb=a[3]};function hd(a){this.s=a;this.da=this.C=0;this.ma=1;this.g=this.l=0;this.j=rb();this.O=this.R=this.P=this.U=this.h=65536;this.L=this.G=this.u=0;this.i=new Int32Array(8);this.Na=new Int32Array(8);this.o=new Int32Array(8);this.$=254;this.D=-1;this.W=this.error=this.N=0;kb(a.B,4276092928,1048576,b=>{var c=b&3;return this.Ie(b&-4)>>8*c&255},()=>{},b=>this.Ie(b),(b,c)=>this.pa(b,c))}q=hd.prototype;
q.Ie=function(a){a=a-4276092928|0;switch(a){case 32:return this.C;case 48:return 327700;case 128:return this.u;case 208:return this.N;case 224:return this.D;case 240:return this.$;case 256:case 272:case 288:case 304:case 320:case 336:case 352:case 368:return this.Na[a-256>>4];case 384:case 400:case 416:case 432:case 448:case 464:case 480:case 496:return this.o[a-384>>4];case 512:case 528:case 544:case 560:case 576:case 592:case 608:case 624:return this.i[a-512>>4];case 640:return this.W;case 768:return this.G;
case 784:return this.L;case 800:return this.h;case 832:return this.U;case 848:return this.P;case 864:return this.R;case 880:return this.O;case 992:return this.da;case 896:return this.l;case 912:return this.g;default:return 0}};
q.pa=function(a,b){switch(a-4276092928|0){case 32:this.C=b;break;case 128:this.u=b&255;id(this);break;case 176:b=jd(this.Na);if(-1!==b){kd(this.Na,b);if(this.o[b>>5]>>(b&31)&1){a=this.s.A.Pc;for(var c=0;24>c;c++){var e=a.g[c];(e&255)===b&&e&16384&&(a.g[c]&=-16385,ld(a,c))}}id(this)}break;case 208:this.N=b&4278190080;break;case 224:this.D=b|16777215;break;case 240:this.$=b;break;case 640:this.W=this.error;this.error=0;break;case 768:a=b&255;c=b>>8&7;e=b>>15&1;var d=b>>18&3;this.G=b&-4097;0===d?md(this,
a,c,e):1===d?md(this,a,0,e):2===d&&md(this,a,c,e);break;case 784:this.L=b;break;case 800:this.h=b;break;case 832:this.U=b;break;case 848:this.P=b;break;case 864:this.R=b;break;case 880:this.O=b;break;case 992:this.da=b;b=b&3|(b&8)>>1;this.ma=7===b?0:b+1;break;case 896:this.l=b>>>0,this.g=b>>>0,this.j=rb()}};
q.Fb=function(a){if(0===this.g)return 100;const b=1E6/(1<<this.ma);a=(a-this.j)*b>>>0;this.j+=a/b;this.g-=a;0>=this.g&&(a=this.h&393216,131072===a?(this.g%=this.l,0>=this.g&&(this.g+=this.l),0===(this.h&65536)&&md(this,this.h&255,0,!1)):0===a&&(this.g=0,0===(this.h&65536)&&md(this,this.h&255,0,!1)));return Math.max(0,this.g/b)};function md(a,b,c,e){5===c||4===c||a.i[b>>5]>>(b&31)&1||(nd(a.i,b),e?nd(a.o,b):kd(a.o,b),id(a))}
function id(a){var b=jd(a.i);-1!==b&&(jd(a.Na)>=b||(b&240)<=(a.u&240)||a.s.qk())}q.ca=function(){var a=[];a[0]=this.C;a[1]=this.da;a[2]=this.ma;a[3]=this.l;a[4]=this.g;a[5]=this.j;a[6]=this.h;a[7]=this.U;a[8]=this.P;a[9]=this.R;a[10]=this.O;a[11]=this.u;a[12]=this.G;a[13]=this.L;a[14]=this.i;a[15]=this.Na;a[16]=this.o;a[17]=this.$;a[18]=this.D;a[19]=this.N;a[20]=this.error;a[21]=this.W;return a};
q.H=function(a){this.C=a[0];this.da=a[1];this.ma=a[2];this.l=a[3];this.g=a[4];this.j=a[5];this.h=a[6];this.U=a[7];this.P=a[8];this.R=a[9];this.O=a[10];this.u=a[11];this.G=a[12];this.L=a[13];this.i=a[14];this.Na=a[15];this.o=a[16];this.$=a[17];this.D=a[18];this.N=a[19];this.error=a[20];this.W=a[21]};function nd(a,b){a[b>>5]|=1<<(b&31)}function kd(a,b){a[b>>5]&=~(1<<(b&31))}function jd(a){for(var b=7;0<=b;b--){var c=a[b];if(c)return sb(c>>>0)|b<<5}return-1};function od(a){this.s=a;this.g=new Int32Array(24);this.o=new Int32Array(24);for(var b=0;b<this.g.length;b++)this.g[b]=65536;this.i=this.h=this.l=this.j=0;kb(a.B,4273995776,131072,c=>{c=c-4273995776|0;return 16<=c&&20>c?(c-=16,this.read(this.j)>>8*c&255):0},()=>{},c=>{c=c-4273995776|0;return 0===c?this.j:16===c?this.read(this.j):0},(c,e)=>{c=c-4273995776|0;0===c?this.j=e:16===c&&this.write(this.j,e)})}
function ld(a,b){var c=1<<b;if(0!==(a.h&c)){var e=a.g[b];if(0===(e&65536)){var d=e>>8&7;if(0===(e&32768))a.h&=~c;else if(a.g[b]|=16384,e&16384)return;0!==d&&1!==d||md(a.s.A.Md,e&255,d,32768===(e&32768));a.g[b]&=-4097}}}od.prototype.read=function(a){if(0===a)return this.l<<24;if(1===a)return 1507345;if(2===a)return this.l<<24;if(16<=a&&64>a){var b=a-16>>1;return a&1?this.o[b]:this.g[b]}return 0};
od.prototype.write=function(a,b){if(0===a)this.l=b>>>24&15;else if(1!==a&&2!==a&&16<=a&&64>a){var c=a-16>>1;a&1?this.o[c]=b&4278190080:(this.g[c]=b&110591|this.g[c]&-110592,ld(this,c))}};od.prototype.ca=function(){var a=[];a[0]=this.g;a[1]=this.o;a[2]=this.j;a[3]=this.l;a[4]=this.h;a[5]=this.i;return a};od.prototype.H=function(a){this.g=a[0];this.o=a[1];this.j=a[2];this.l=a[3];this.h=a[4];this.i=a[5]};function pd(a){this.message=a}pd.prototype=Error();const qd={Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,Float32Array,Float64Array};
function rd(a,b){if("object"!==typeof a||null===a)return a;if(a instanceof Array)return a.map(d=>rd(d,b));a.constructor===Object&&console.log(a);if(a.BYTES_PER_ELEMENT){var c=new Uint8Array(a.buffer,a.byteOffset,a.length*a.BYTES_PER_ELEMENT);return{__state_type__:a.constructor.name.replace("bound ",""),buffer_id:b.push(c)-1}}a=a.ca();c=[];for(var e=0;e<a.length;e++)c[e]=rd(a[e],b);return c}
function sd(a,b){if("object"!==typeof a||null===a)return a;if(a instanceof Array){for(let c=0;c<a.length;c++)a[c]=sd(a[c],b);return a}return new qd[a.__state_type__](b[a.buffer_id])}
nb.prototype.Ke=function(){for(var a=[],b=rd(this,a),c=[],e=0,d=0;d<a.length;d++){var g=a[d].byteLength;c[d]={offset:e,length:g};e+=g;e=e+3&-4}d=JSON.stringify({buffer_infos:c,state:b});d=(new TextEncoder).encode(d);b=16+d.length;b=b+3&-4;g=b+e;e=new ArrayBuffer(g);var f=new Int32Array(e,0,4);(new Uint8Array(e,16,d.length)).set(d);b=new Uint8Array(e,b);f[0]=-2039052682;f[1]=6;f[2]=g;f[3]=d.length;for(d=0;d<a.length;d++)b.set(a[d],c[d].offset);return e};
nb.prototype.$d=function(a){function b(t,r){const n=t.length;if(16>n)throw new pd("Invalid length: "+n);t=new Int32Array(t.buffer,t.byteOffset,4);if(-2039052682!==t[0])throw new pd("Invalid header: "+zb(t[0]>>>0));if(6!==t[1])throw new pd("Version mismatch: dump="+t[1]+" we=6");if(r&&t[2]!==n)throw new pd("Length doesn't match header: real="+n+" header="+t[2]);return t[3]}function c(t){t=(new TextDecoder).decode(t);return JSON.parse(t)}a=new Uint8Array(a);if(4247762216===(new Uint32Array(a.buffer,
0,1))[0]){var e=this.eh(a.length);(new Uint8Array(this.ya.buffer,this.hh(e),a.length)).set(a);var d=this.he(e,16),g=new Uint8Array(this.ya.buffer,d,16),f=b(g,!1);this.ie(d,16);d=this.he(e,f);g=new Uint8Array(this.ya.buffer,d,f);g=c(g);this.ie(d,f);d=g.state;var h=g.buffer_infos;g=[];f=16+f;for(var k of h){h=(f+3&-4)-f;if(1048576<k.length){var l=this.he(e,h);this.ie(l,h);l=new Uint8Array(k.length);g.push(l.buffer);for(var m=0;m<k.length;){const t=Math.min(k.length-m,1048576),r=this.he(e,t);l.set(new Uint8Array(this.ya.buffer,
r,t),m);this.ie(r,t);m+=t}}else l=this.he(e,h+k.length),m=l+h,g.push(this.ya.buffer.slice(m,m+k.length)),this.ie(l,h+k.length);f+=h+k.length}d=sd(d,g);this.H(d);this.gh(e)}else{k=b(a,!0);if(0>k||k+12>=a.length)throw new pd("Invalid info block length: "+k);d=c(a.subarray(16,16+k));e=d.state;d=d.buffer_infos;let t=16+k;t=t+3&-4;k=d.map(r=>{const n=t+r.offset;return a.buffer.slice(n,n+r.length)});e=sd(e,k);this.H(e)}};function td(a,b,c){a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5]);a[6]===b[0]&&a[7]===b[1]&&a[8]===b[2]&&a[9]===b[3]&&a[10]===b[4]&&a[11]===b[5]&&(a[6]=c[0],a[7]=c[1],a[8]=c[2],a[9]=c[3],a[10]=c[4],a[11]=c[5]);var e=a[12]<<8|a[13];if(2048===e){if(a=a.subarray(14),4===a[0]>>4&&17===a[9]&&(a=a.subarray(20),e=a[2]<<8|a[3],67===(a[0]<<8|a[1])||67===e)){const d=a.subarray(8);if(1669485411===(d[236]<<24|d[237]<<
16|d[238]<<8|d[239]))for(d[28]===b[0]&&d[29]===b[1]&&d[30]===b[2]&&d[31]===b[3]&&d[32]===b[4]&&d[33]===b[5]&&(d[28]=c[0],d[29]=c[1],d[30]=c[2],d[31]=c[3],d[32]=c[4],d[33]=c[5],a[6]=a[7]=0),e=240;e<d.length;){const g=d[e++];if(255===g)break;const f=d[e++];61===g&&1===d[e+0]&&d[e+1]===b[0]&&d[e+2]===b[1]&&d[e+3]===b[2]&&d[e+4]===b[3]&&d[e+5]===b[4]&&d[e+6]===b[5]&&(d[e+1]=c[0],d[e+2]=c[1],d[e+3]=c[2],d[e+4]=c[3],d[e+5]=c[4],d[e+6]=c[5],a[6]=a[7]=0);e+=f}}}else 2054===e&&(a=a.subarray(14),a[8]===b[0]&&
a[9]===b[1]&&a[10]===b[2]&&a[11]===b[3]&&a[12]===b[4]&&a[13]===b[5]&&(a[8]=c[0],a[9]=c[1],a[10]=c[2],a[11]=c[3],a[12]=c[4],a[13]=c[5]))}
function ud(a,b,c,e){this.s=a;this.Oa=a.A.Oa;this.nf=c;this.pb=e;this.v=b;this.v.register("net0-receive",function(d){if(!(this.Ta&1)&&(this.v.send("eth-receive-end",[d.length]),this.ae&16||this.ae&4&&255===d[0]&&255===d[1]&&255===d[2]&&255===d[3]&&255===d[4]&&255===d[5]||!(this.ae&8&&1===(d[0]&1)||d[0]!==this.ta[0]||d[1]!==this.ta[1]||d[2]!==this.ta[2]||d[3]!==this.ta[3]||d[4]!==this.ta[4]||d[5]!==this.ta[5]))){this.Ce&&(d=new Uint8Array(d),td(d,this.ta,this.Ce));var g=this.Hb<<8,f=Math.max(60,d.length)+
4,h=g+4,k=this.Hb+1+(f>>8);if(!((this.Ec>this.Hb?this.Ec-this.Hb:this.bb-this.Hb+this.Ec-this.Wb)<1+(f>>8)&&0!==this.Ec)){if(g+f>this.bb<<8){var l=(this.bb<<8)-h;this.memory.set(d.subarray(0,l),h);this.memory.set(d.subarray(l),this.Wb<<8)}else this.memory.set(d,h),60>d.length&&this.memory.fill(0,h+d.length,h+60);k>=this.bb&&(k+=this.Wb-this.bb);this.memory[g]=1;this.memory[g+1]=k;this.memory[g+2]=f;this.memory[g+3]=f>>8;this.Hb=k;vd(this,1)}}},this);this.port=768;this.name="ne2k";this.K=[236,16,41,
128,3,1,0,0,0,0,0,2,0,0,0,0,this.port&255|1,this.port>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,184,254,0,0,0,0,0,0,0,0,0,1,0,0];this.Ga=40;this.qb=[{size:32}];this.Ye=this.Na=0;this.Ta=1;this.sf=this.Id=this.Db=this.ke=0;this.memory=new Uint8Array(32768);this.Wf=this.ae=0;this.Vf=1;this.ta=new Uint8Array([0,34,21,255*Math.random()|0,255*Math.random()|0,255*Math.random()|0]);this.Tc=Uint8Array.of(255,255,255,255,255,255,255,255);this.Ce=null;for(b=0;6>b;b++)this.memory[b<<
1]=this.memory[b<<1|1]=this.ta[b];this.memory[28]=this.memory[29]=87;this.memory[30]=this.memory[31]=87;this.wa=0;this.Wb=64;this.bb=128;this.Ec=this.Hb=76;b=a.B;M(b,this.port|0,this,function(){return this.Ta});N(b,this.port|0,this,function(d){this.Ta=d;this.Ta&1||(d&24&&0===this.Db&&vd(this,64),d&4&&(d=this.sf<<8,d=this.memory.subarray(d,d+this.Id),this.Ce&&(d=new Uint8Array(d),td(d,this.Ce,this.ta)),this.v.send("net0-send",d),this.v.send("eth-transmit-end",[d.length]),this.Ta&=-5,vd(this,2)))});
M(b,this.port|13,this,function(){return 1===S(this)?this.Tc[5]:0});M(b,this.port|14,this,function(){return 1===S(this)?this.Tc[6]:0},function(){return 0});M(b,this.port|15,this,function(){return 1===S(this)?this.Tc[7]:0});M(b,this.port|31,this,function(){vd(this,128);return 0});N(b,this.port|31,this,function(){});M(b,this.port|1,this,function(){var d=S(this);return 0===d?this.Wb:1===d?this.ta[0]:2===d?this.Wb:0});N(b,this.port|1,this,function(d){var g=S(this);0===g?this.Wb=d:1===g&&(this.ta[0]=d)});
M(b,this.port|2,this,function(){var d=S(this);return 0===d?this.bb:1===d?this.ta[1]:2===d?this.bb:0});N(b,this.port|2,this,function(d){var g=S(this);0===g?(d>this.memory.length>>8&&(d=this.memory.length>>8),this.bb=d):1===g&&(this.ta[1]=d)});M(b,this.port|7,this,function(){var d=S(this);return 0===d?this.Na:1===d?this.Hb:0});N(b,this.port|7,this,function(d){var g=S(this);0===g?(this.Na&=~d,wd(this)):1===g&&(this.Hb=d)});N(b,this.port|13,this,function(d){0===S(this)&&(this.Wf=d)});N(b,this.port|14,
this,function(d){0===S(this)&&(this.ke=d)});M(b,this.port|10,this,function(){var d=S(this);return 0===d?80:1===d?this.Tc[2]:0});N(b,this.port|10,this,function(d){0===S(this)&&(this.Db=this.Db&65280|d&255)});M(b,this.port|11,this,function(){var d=S(this);return 0===d?67:1===d?this.Tc[3]:0});N(b,this.port|11,this,function(d){0===S(this)&&(this.Db=this.Db&255|d<<8&65280)});M(b,this.port|8,this,function(){var d=S(this);return 0===d?this.wa&255:1===d?this.Tc[0]:0});N(b,this.port|8,this,function(d){0===
S(this)&&(this.wa=this.wa&65280|d&255)});M(b,this.port|9,this,function(){var d=S(this);return 0===d?this.wa>>8&255:1===d?this.Tc[1]:0});N(b,this.port|9,this,function(d){0===S(this)&&(this.wa=this.wa&255|d<<8&65280)});N(b,this.port|15,this,function(d){0===S(this)&&(this.Ye=d,wd(this))});M(b,this.port|3,this,function(){var d=S(this);return 0===d?this.Ec:1===d?this.ta[2]:0});N(b,this.port|3,this,function(d){var g=S(this);0===g?this.Ec=d:1===g&&(this.ta[2]=d)});M(b,this.port|4,this,function(){var d=S(this);
return 0===d?this.Vf:1===d?this.ta[3]:0});N(b,this.port|4,this,function(d){var g=S(this);0===g?this.sf=d:1===g&&(this.ta[3]=d)});M(b,this.port|5,this,function(){var d=S(this);return 0===d?0:1===d?this.ta[4]:0});N(b,this.port|5,this,function(d){var g=S(this);0===g?this.Id=this.Id&-256|d:1===g&&(this.ta[4]=d)});M(b,this.port|6,this,function(){var d=S(this);return 0===d?0:1===d?this.ta[5]:0});N(b,this.port|6,this,function(d){var g=S(this);0===g?this.Id=this.Id&255|d<<8:1===g&&(this.ta[5]=d)});M(b,this.port|
12,this,function(){var d=S(this);return 0===d?9:1===d?this.Tc[4]:0});N(b,this.port|12,this,function(d){0===S(this)&&(this.ae=d)});M(b,this.port|16,this,this.Uh,this.fg,this.Th);N(b,this.port|16,this,this.gg,this.gg,this.Vh);Ub(a.A.Oa,this)}q=ud.prototype;
q.ca=function(){var a=[];a[0]=this.Na;a[1]=this.Ye;a[2]=this.Ta;a[3]=this.ke;a[4]=this.Db;a[5]=this.Id;a[6]=this.sf;a[7]=this.wa;a[8]=this.Wb;a[9]=this.Hb;a[10]=this.Ec;a[11]=this.bb;a[12]=this.ae;a[13]=this.Wf;a[14]=this.Vf;a[15]=this.ta;a[16]=this.memory;return a};
q.H=function(a){this.Na=a[0];this.Ye=a[1];this.Ta=a[2];this.ke=a[3];this.Db=a[4];this.Id=a[5];this.sf=a[6];this.wa=a[7];this.Wb=a[8];this.Hb=a[9];this.Ec=a[10];this.bb=a[11];this.ae=a[12];this.Wf=a[13];this.Vf=a[14];this.nf?(this.ta=a[15],this.memory=a[16]):this.pb&&(this.Ce=a[15],this.memory=a[16])};function vd(a,b){a.Na|=b;wd(a)}function wd(a){a.Ye&a.Na?a.Oa.Ha(a.Ga):nc(a.Oa,a.Ga)}
function xd(a,b){if(16>=a.wa||16384<=a.wa&&32768>a.wa)a.memory[a.wa]=b;a.wa++;a.Db--;a.wa>=a.bb<<8&&(a.wa+=a.Wb-a.bb<<8);0===a.Db&&vd(a,64)}q.gg=function(a){xd(this,a);this.ke&1&&xd(this,a>>8)};q.Vh=function(a){xd(this,a);xd(this,a>>8);xd(this,a>>16);xd(this,a>>24)};function yd(a){let b=0;32768>a.wa&&(b=a.memory[a.wa]);a.wa++;a.Db--;a.wa>=a.bb<<8&&(a.wa+=a.Wb-a.bb<<8);0===a.Db&&vd(a,64);return b}q.Uh=function(){return this.fg()&255};q.fg=function(){return this.ke&1?yd(this)|yd(this)<<8:yd(this)};
q.Th=function(){return yd(this)|yd(this)<<8|yd(this)<<16|yd(this)<<24};function S(a){return a.Ta>>6&3};var zd=new Uint8Array(256),Ad=[],Bd=[],Cd=[],Dd=new Uint8Array(256),Ed=[];
function Fd(a,b){this.s=a;this.v=b;this.Da=new Bb(64);this.ia=new Bb(64);this.i=this.o=this.ub=this.L=0;this.M=new Uint8Array(256);Gd(this);this.Sd=!1;this.Ne=0;this.xb=this.wb=this.md=this.rc=!1;this.Ib=[new Cb,new Cb];this.kb=a.A.kb;this.lb=this.qc=this.j=this.Lb=this.l=this.D=0;this.Mb=1;this.ld=5;this.Kb=!1;this.g=new ArrayBuffer(65536);this.$=new Int8Array(this.g);this.C=new Uint8Array(this.g);this.W=new Int16Array(this.g);this.da=new Uint16Array(this.g);this.Wa=new tb(this.g);this.Nb=this.u=
!1;this.gb=22050;b.send("dac-tell-sampling-rate",this.gb);this.h=1;this.O=170;this.N=0;this.ed=new Uint8Array(256);this.G=new Bb(64);this.R=this.P=this.Ya=0;this.ji=!1;this.ea=5;this.pd=new Uint8Array(16);a.B.Ed(544,this,this.Hg,this.Jg,this.Gi,this.Ii);a.B.Ed(904,this,this.Hg,this.Jg);a.B.Ed(548,this,this.Ki,this.Mi);M(a.B,550,this,this.Oi);M(a.B,551,this,this.Qi);M(a.B,552,this,this.Si);M(a.B,553,this,this.Ui);M(a.B,554,this,this.Wi);M(a.B,555,this,this.Yi);M(a.B,556,this,this.$i);M(a.B,557,this,
this.bj);a.B.Ed(558,this,this.dj,this.fj);a.B.Xb(544,this,this.Ig,this.Kg,this.Hi,this.Ji);a.B.Xb(904,this,this.Ig,this.Kg);a.B.Xb(548,this,this.Li,this.Ni);N(a.B,550,this,this.Pi);N(a.B,551,this,this.Ri);a.B.Xb(552,this,this.Ti,this.Vi);N(a.B,554,this,this.Xi);N(a.B,555,this,this.Zi);N(a.B,556,this,this.aj);N(a.B,557,this,this.cj);N(a.B,558,this,this.ej);N(a.B,559,this,this.gj);a.B.Ed(816,this,this.Mj,this.Oj);a.B.Xb(816,this,this.Nj,this.Pj);this.kb.tf.push({Xe:this.ma,Uf:this});b.register("dac-request-data",
function(){!this.Lb||this.Nb?Hd(this):Id(this)},this);b.register("speaker-has-initialized",function(){Gd(this)},this);b.send("speaker-confirm-initialized");Jd(this)}function Jd(a){a.Da.clear();a.ia.clear();a.ub=0;a.o=0;a.Sd=!1;a.Ne=0;a.rc=!1;a.md=!1;a.wb=!1;a.xb=!1;a.Ib[0].clear();a.Ib[1].clear();a.D=0;a.l=0;a.Lb=0;a.j=0;a.qc=0;a.lb=0;a.Kb=!1;a.C.fill(0);a.u=!1;a.Nb=!1;a.O=170;a.N=0;a.gb=22050;a.h=1;Kd(a,1);a.pd.fill(0);a.ed.fill(0);a.ed[5]=1;a.ed[9]=248}q=Fd.prototype;
q.ca=function(){var a=[];a[2]=this.L;a[3]=this.ub;a[4]=this.o;a[5]=this.i;a[6]=this.M;a[7]=this.Sd;a[8]=this.Ne;a[9]=this.rc;a[10]=this.md;a[11]=this.wb;a[12]=this.xb;a[15]=this.D;a[16]=this.l;a[17]=this.Lb;a[18]=this.j;a[19]=this.qc;a[20]=this.lb;a[21]=this.Mb;a[22]=this.ld;a[23]=this.Kb;a[24]=this.C;a[25]=this.u;a[26]=this.Nb;a[27]=this.gb;a[28]=this.h;a[29]=this.O;a[30]=this.N;a[31]=this.ed;a[33]=this.tb;a[34]=this.ea;a[35]=this.pd;return a};
q.H=function(a){this.L=a[2];this.ub=a[3];this.o=a[4];this.i=a[5];this.M=a[6];Ld(this);this.Sd=a[7];this.Ne=a[8];this.rc=a[9];this.md=a[10];this.wb=a[11];this.xb=a[12];this.D=a[15];this.l=a[16];this.Lb=a[17];this.j=a[18];this.qc=a[19];this.lb=a[20];this.Mb=a[21];this.ld=a[22];this.Kb=a[23];this.C=a[24];this.u=a[25];this.Nb=a[26];this.gb=a[27];this.h=a[28];this.O=a[29];this.N=a[30];this.ed=a[31];this.tb=a[33];this.ea=a[34];this.pd=a[35];this.g=this.C.buffer;this.$=new Int8Array(this.g);this.W=new Int16Array(this.g);
this.da=new Uint16Array(this.g);this.Wa=new tb(this.g);this.Nb?this.v.send("dac-disable"):this.v.send("dac-enable")};q.Hg=function(){return 255};q.Jg=function(){return 255};q.Gi=function(){return 255};q.Ii=function(){return 255};q.Ki=function(){return this.i};q.Mi=function(){var a=this.i,b=Bd[a];return b?b.call(this):this.M[a]};q.Oi=function(){return 255};q.Qi=function(){return 255};q.Si=function(){return 255};q.Ui=function(){return 255};q.Wi=function(){this.ia.length&&(this.L=this.ia.shift());return this.L};
q.Yi=function(){return 255};q.$i=function(){return 127};q.bj=function(){return 255};q.dj=function(){this.pd[1]&&Kd(this,1);return(this.ia.length&&!this.rc)<<7|127};q.fj=function(){Kd(this,2);return 0};q.Ig=function(){this.P=0};q.Kg=function(a){var b=Ed[this.P];b||(b=this.U);b.call(this,a,0,this.P)};q.Hi=function(){this.R=0};q.Ji=function(a){var b=Ed[this.R];b||(b=this.U);b.call(this,a,1,this.R)};q.Li=function(a){this.i=a};q.Ni=function(a){Md(this,this.i,a)};
q.Pi=function(a){this.rc?this.rc=!1:a&&Jd(this);this.ia.clear();this.ia.push(170)};q.Ri=function(){};q.Ti=function(){};q.Vi=function(){};q.Xi=function(){};q.Zi=function(){};q.aj=function(a){0===this.ub?(this.ub=a,this.Da.clear(),this.o=zd[a]):this.Da.push(a);this.Da.length>=this.o&&(a=Ad[this.ub],a||(a=this.jg),a.call(this),this.o=this.ub=0,this.Da.clear())};q.cj=function(){};q.ej=function(){};q.gj=function(){};q.Mj=function(){this.G.length&&(this.Ya=this.G.shift());return this.Ya};q.Nj=function(){};
q.Oj=function(){return 0|128*!this.G.length};q.Pj=function(a){255==a&&(this.G.clear(),this.G.push(254))};q.jg=function(){};function U(a,b,c){c||(c=Fd.prototype.jg);for(var e=0;e<a.length;e++)zd[a[e]]=b,Ad[a[e]]=c}function Nd(a){for(var b=[],c=0;16>c;c++)b.push(a+c);return b}U([14],2,function(){this.ed[this.Da.shift()]=this.Da.shift()});U([15],1,function(){this.ia.clear();this.ia.push(this.ed[this.Da.shift()])});
U([16],1,function(){var a=this.Da.shift();a=Od(a/127.5+-1);this.Ib[0].push(a);this.Ib[1].push(a);this.v.send("dac-enable")});U([20,21],2,function(){this.qc=1;this.lb=this.Mb;this.rc=this.wb=this.xb=this.Kb=!1;Pd(this);Qd(this)});U([22],2);U([23],2);U([28],0,function(){this.qc=1;this.lb=this.Mb;this.Kb=!0;this.rc=this.wb=this.xb=!1;Qd(this)});U([31],0);U([32],0,function(){this.ia.clear();this.ia.push(127)});U([36],2);U([44],0);U([48],0);U([49],0);U([52],0);U([53],0);U([54],0);U([55],0);U([56],0);
U([64],1,function(){Rd(this,1E6/(256-this.Da.shift())/(this.md?2:1))});U([65,66],2,function(){Rd(this,this.Da.shift()<<8|this.Da.shift())});U([72],2,function(){Pd(this)});U([116],2);U([117],2);U([118],2);U([119],2);U([125],0);U([127],0);U([128],2);U([144],0,function(){this.qc=1;this.lb=this.Mb;this.Kb=!0;this.xb=!1;this.rc=!0;this.wb=!1;Qd(this)});U([145],0);U([152],0);U([153],0);U([160],0);U([168],0);
U(Nd(176),3,function(){if(!(this.ub&8)){var a=this.Da.shift();this.qc=2;this.lb=this.ld;this.Kb=!!(this.ub&4);this.xb=!!(a&16);this.md=!!(a&32);this.wb=!0;Pd(this);Qd(this)}});U(Nd(192),3,function(){if(!(this.ub&8)){var a=this.Da.shift();this.qc=1;this.lb=this.Mb;this.Kb=!!(this.ub&4);this.xb=!!(a&16);this.md=!!(a&32);this.wb=!1;Pd(this);Qd(this)}});U([208],0,function(){this.Nb=!0;this.v.send("dac-disable")});U([209],0,function(){this.Sd=!0});U([211],0,function(){this.Sd=!1});
U([212],0,function(){this.Nb=!1;this.v.send("dac-enable")});U([213],0,function(){this.Nb=!0;this.v.send("dac-disable")});U([214],0,function(){this.Nb=!1;this.v.send("dac-enable")});U([216],0,function(){this.ia.clear();this.ia.push(255*this.Sd)});U([217,218],0,function(){this.Kb=!1});U([224],1,function(){this.ia.clear();this.ia.push(~this.Da.shift())});U([225],0,function(){this.ia.clear();this.ia.push(4);this.ia.push(5)});U([226],1);
U([227],0,function(){this.ia.clear();for(var a=0;44>a;a++)this.ia.push("COPYRIGHT (C) CREATIVE TECHNOLOGY LTD, 1992.".charCodeAt(a));this.ia.push(0)});U([228],1,function(){this.Ne=this.Da.shift()});U([232],0,function(){this.ia.clear();this.ia.push(this.Ne)});U([242,243],0,function(){this.Ha()});var Sd=new Uint8Array(256);Sd[14]=255;Sd[15]=7;Sd[55]=56;U([249],1,function(){var a=this.Da.shift();this.ia.clear();this.ia.push(Sd[a])});function Md(a,b,c){(b=Cd[b])&&b.call(a,c)}Fd.prototype.Xa=function(){return this.M[this.i]};
Fd.prototype.jb=function(a){this.M[this.i]=a};function Gd(a){a.M[4]=204;a.M[34]=204;a.M[38]=204;a.M[40]=0;a.M[46]=0;a.M[10]=0;a.M[48]=192;a.M[49]=192;a.M[50]=192;a.M[51]=192;a.M[52]=192;a.M[53]=192;a.M[54]=0;a.M[55]=0;a.M[56]=0;a.M[57]=0;a.M[59]=0;a.M[60]=31;a.M[61]=21;a.M[62]=11;a.M[63]=0;a.M[64]=0;a.M[65]=0;a.M[66]=0;a.M[67]=0;a.M[68]=128;a.M[69]=128;a.M[70]=128;a.M[71]=128;Ld(a)}function Ld(a){for(var b=1;b<a.M.length;b++)Dd[b]||Md(a,b,a.M[b])}function Td(a,b){b||(b=Fd.prototype.Xa);Bd[a]=b}
function Ud(a,b){b||(b=Fd.prototype.jb);Cd[a]=b}function Vd(a,b,c){Dd[a]=1;Bd[a]=function(){return this.M[b]&240|this.M[c]>>>4};Cd[a]=function(e){this.M[a]=e;var d=e<<4&240|this.M[c]&15;Md(this,b,e&240|this.M[b]&15);Md(this,c,d)}}function Wd(a,b,c){Bd[a]=Fd.prototype.Xa;Cd[a]=function(e){this.M[a]=e;this.v.send("mixer-volume",[b,c,(e>>>2)-62])}}Td(0,function(){Gd(this);return 0});Ud(0);Vd(4,50,51);Vd(34,48,49);Vd(38,52,53);Vd(40,54,55);Vd(46,56,57);Wd(48,0,0);Wd(49,0,1);Wd(50,2,0);Wd(51,2,1);Td(59);
Ud(59,function(a){this.M[59]=a;this.v.send("mixer-volume",[1,2,6*(a>>>6)-18])});Td(65);Ud(65,function(a){this.M[65]=a;this.v.send("mixer-gain-left",6*(a>>>6))});Td(66);Ud(66,function(a){this.M[66]=a;this.v.send("mixer-gain-right",6*(a>>>6))});Td(68);Ud(68,function(a){this.M[68]=a;a>>>=3;this.v.send("mixer-treble-left",a-(16>a?14:16))});Td(69);Ud(69,function(a){this.M[69]=a;a>>>=3;this.v.send("mixer-treble-right",a-(16>a?14:16))});Td(70);
Ud(70,function(a){this.M[70]=a;a>>>=3;this.v.send("mixer-bass-right",a-(16>a?14:16))});Td(71);Ud(71,function(a){this.M[71]=a;a>>>=3;this.v.send("mixer-bass-right",a-(16>a?14:16))});Td(128,function(){switch(this.ea){case 2:return 1;case 5:return 2;case 7:return 4;case 10:return 8;default:return 0}});Ud(128,function(a){a&1&&(this.ea=2);a&2&&(this.ea=5);a&4&&(this.ea=7);a&8&&(this.ea=10)});
Td(129,function(){var a=0;switch(this.Mb){case 0:a|=1;break;case 1:a|=2;break;case 3:a|=8}switch(this.ld){case 5:a|=32;break;case 6:a|=64;break;case 7:a|=128}return a});Ud(129,function(a){a&1&&(this.Mb=0);a&2&&(this.Mb=1);a&8&&(this.Mb=3);a&32&&(this.ld=5);a&64&&(this.ld=6);a&128&&(this.ld=7)});Td(130,function(){for(var a=32,b=0;16>b;b++)a|=b*this.pd[b];return a});Fd.prototype.U=function(){};function Xd(a,b){b||(b=Fd.prototype.U);for(var c=0;c<a.length;c++)Ed[a[c]]=b}
function Yd(a,b){for(var c=[];a<=b;a++)c.push(a);return c}var W=new Uint8Array(32);W[0]=0;W[1]=1;W[2]=2;W[3]=3;W[4]=4;W[5]=5;W[8]=6;W[9]=7;W[10]=8;W[11]=9;W[12]=10;W[13]=11;W[16]=12;W[17]=13;W[18]=14;W[19]=15;W[20]=16;W[21]=17;Xd([1],function(a,b){this.ji[b]=a&1});Xd([2]);Xd([3]);Xd([4],function(){});Xd([5],function(){});Xd([8],function(){});Xd(Yd(32,53),function(){});Xd(Yd(64,85),function(){});Xd(Yd(96,117),function(){});Xd(Yd(128,149),function(){});Xd(Yd(160,168),function(){});Xd(Yd(176,184),function(){});
Xd([189],function(){});Xd(Yd(192,200),function(){});Xd(Yd(224,245),function(){});function Rd(a,b){a.gb=b;a.v.send("dac-tell-sampling-rate",b)}function Pd(a){a.D=1+(a.Da.shift()<<0)+(a.Da.shift()<<8)}function Qd(a){a.h=1;a.wb&&(a.h*=2);a.l=a.D*a.h;a.j=1024*a.h;a.j=Math.min(Math.max(a.l>>2&-4,32),a.j);a.u=!0;a.kb.nc[a.lb]||a.ma(a.lb)}Fd.prototype.ma=function(a){a===this.lb&&this.u&&(this.u=!1,this.Lb=this.l,this.Nb=!1,this.v.send("dac-enable"))};
function Id(a){var b=Math.min(a.Lb,a.j),c=Math.floor(b/a.h);a.kb.re(a.Wa,0,b,a.lb,e=>{if(!e){e=a.wb?32767.5:127.5;var d=a.xb?0:-1,g=a.md?1:2,f;a.wb?f=a.xb?a.W:a.da:f=a.xb?a.$:a.C;for(var h=0,k=0;k<c;k++)for(var l=Od(f[k]/e+d),m=0;m<g;m++)a.Ib[h].push(l),h^=1;Hd(a);a.Lb-=b;a.Lb||(a.Ha(a.qc),a.Kb&&(a.Lb=a.l))}})}function Hd(a){if(a.Ib[0].length){var b=Db(a.Ib[0],a.Ib[0].length),c=Db(a.Ib[1],a.Ib[1].length);a.v.send("dac-send-data",[b,c],[b.buffer,c.buffer])}}
Fd.prototype.Ha=function(a){this.pd[a]=1;this.s.La(this.ea)};function Kd(a,b){a.pd[b]=0;P(a.s,a.ea)}function Od(a){return-1*(-1>a)+1*(1<a)+(-1<=a&&1>=a)*a};function ba(a,b){this.s=a;this.Oa=a.A.Oa;this.le=b.le;this.K=[244,26,b.le&255,b.le>>8,7,5,16,0,1,0,2,0,0,0,0,0,1,168,0,0,0,16,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,b.Sf&255,b.Sf>>8,0,0,0,0,64,0,0,0,0,0,0,0,0,1,0,0];this.K=this.K.concat(Array(256-this.K.length).fill(0));this.Ga=b.Ga;this.qb=[];this.name=b.name;this.i=this.u=0;this.o=new Uint32Array(4);this.h=new Uint32Array(4);for(var c of b.je.features)this.o[c>>>5]|=1<<(c&31),this.h[c>>>5]|=1<<(c&31);b.je.features.includes(32);this.C=
!0;this.j=0;this.G=!1;this.D=0;this.ha=[];for(var e of b.je.ha)this.ha.push(new Zd(a,this,e));this.l=0;this.g=this.ha[0];this.Sb=0;c=[];c.push($d(this,b.je));c.push(ae(b.notification));c.push(be(this,b.Sb));b.zf&&(e=c.push,b=b.zf,b={type:4,Od:3,port:b.zb,Oe:!1,offset:0,te:new Uint8Array(0),cd:b.cd},e.call(c,b));ce(this,c);Ub(a.A.Oa,this);this.reset()}
function $d(a,b){return{type:1,Od:0,port:b.zb,Oe:!1,offset:0,te:new Uint8Array(0),cd:[{bytes:4,name:"device_feature_select",read:()=>a.u,write:c=>{a.u=c}},{bytes:4,name:"device_feature",read:()=>a.o[a.u]||0,write:()=>{}},{bytes:4,name:"driver_feature_select",read:()=>a.i,write:c=>{a.i=c}},{bytes:4,name:"driver_feature",read:()=>a.h[a.i]||0,write:c=>{const e=a.o[a.i];a.i<a.h.length&&(a.h[a.i]=c&e);a.C=a.C&&!(c&~e)}},{bytes:2,name:"msix_config",read:()=>65535,write:()=>{}},{bytes:2,name:"num_queues",
read:()=>a.ha.length,write:()=>{}},{bytes:1,name:"device_status",read:()=>a.j,write:c=>{0===c&&a.reset();c&~a.j&4&&a.j&64&&(a.G=!0,a.j&4&&a.Ha(2));a.C||(c&=-9);a.j=c}},{bytes:1,name:"config_generation",read:()=>a.D,write:()=>{}},{bytes:2,name:"queue_select",read:()=>a.l,write:c=>{a.l=c;a.l<a.ha.length?a.g=a.ha[a.l]:a.g=null}},{bytes:2,name:"queue_size",read:()=>a.g?a.g.size:0,write:c=>{if(a.g){c&c-1&&(c=1<<sb(c-1)+1);c>a.g.cb&&(c=a.g.cb);var e=a.g;e.size=c;e.o=c-1}}},{bytes:2,name:"queue_msix_vector",
read:()=>65535,write:()=>{}},{bytes:2,name:"queue_enable",read:()=>a.g?a.g.enabled|0:0,write:c=>{a.g&&1===c&&de(a.g)&&(a.g.enabled=!0)}},{bytes:2,name:"queue_notify_off",read:()=>a.g?a.g.Bb:0,write:()=>{}},{bytes:4,name:"queue_desc (low dword)",read:()=>a.g?a.g.l:0,write:c=>{a.g&&(a.g.l=c)}},{bytes:4,name:"queue_desc (high dword)",read:()=>0,write:()=>{}},{bytes:4,name:"queue_avail (low dword)",read:()=>a.g?a.g.g:0,write:c=>{a.g&&(a.g.g=c)}},{bytes:4,name:"queue_avail (high dword)",read:()=>0,write:()=>
{}},{bytes:4,name:"queue_used (low dword)",read:()=>a.g?a.g.h:0,write:c=>{a.g&&(a.g.h=c)}},{bytes:4,name:"queue_used (high dword)",read:()=>0,write:()=>{}}]}}function ae(a){const b=[];let c;c=a.bh?0:2;for(const [e,d]of a.tg.entries())b.push({bytes:2,name:"notify"+e,read:()=>65535,write:d||(()=>{})});return{type:2,Od:1,port:a.zb,Oe:!1,offset:0,te:new Uint8Array([c&255,c>>8&255,c>>16&255,c>>24]),cd:b}}
function be(a,b){return{type:3,Od:2,port:b.zb,Oe:!1,offset:0,te:new Uint8Array(0),cd:[{bytes:1,name:"isr_status",read:()=>{const c=a.Sb;a.Sb=0;nc(a.Oa,a.Ga);return c},write:()=>{}}]}}
function ce(a,b){let c=a.K[52]=64;var e=c;for(const g of b){b=16+g.te.length;e=c;c=e+b;var d=g.cd.reduce((f,h)=>f+h.bytes,0);d+=g.offset;d=16>d?16:1<<sb(d-1)+1;a.qb[g.Od]={size:d};a.K[e]=9;a.K[e+1]=c;a.K[e+2]=b;a.K[e+3]=g.type;a.K[e+4]=g.Od;a.K[e+5]=0;a.K[e+6]=0;a.K[e+7]=0;a.K[e+8]=g.offset&255;a.K[e+9]=g.offset>>>8&255;a.K[e+10]=g.offset>>>16&255;a.K[e+11]=g.offset>>>24;a.K[e+12]=d&255;a.K[e+13]=d>>>8&255;a.K[e+14]=d>>>16&255;a.K[e+15]=d>>>24;for(const [f,h]of g.te.entries())a.K[e+16+f]=h;e=16+4*
g.Od;a.K[e]=g.port&254|!g.Oe;a.K[e+1]=g.port>>>8&255;a.K[e+2]=g.port>>>16&255;a.K[e+3]=g.port>>>24&255;e=g.port+g.offset;for(const f of g.cd){let h=f.read;b=f.write;if(!g.Oe){d=function(l){return h(l&-2)>>((l&1)<<3)&255};const k=function(l){return h(l&-4)>>((l&3)<<3)&255};switch(f.bytes){case 4:M(a.s.B,e,a,k,void 0,h);N(a.s.B,e,a,void 0,void 0,b);break;case 2:M(a.s.B,e,a,d,h);N(a.s.B,e,a,void 0,b);break;case 1:M(a.s.B,e,a,h),N(a.s.B,e,a,b)}}e+=f.bytes}}a.K[c]=9;a.K[c+1]=0;a.K[c+2]=20;a.K[c+3]=5;a.K[c+
4]=0;a.K[c+5]=0;a.K[c+6]=0;a.K[c+7]=0;a.K[c+8]=0;a.K[c+9]=0;a.K[c+10]=0;a.K[c+11]=0;a.K[c+12]=0;a.K[c+13]=0;a.K[c+14]=0;a.K[c+15]=0;a.K[c+16]=0;a.K[c+17]=0;a.K[c+18]=0;a.K[c+19]=0}ba.prototype.ca=function(){let a=[];a[0]=this.u;a[1]=this.i;a[2]=this.o;a[3]=this.h;a[4]=this.C;a[5]=this.j;a[6]=this.G;a[7]=this.D;a[8]=this.Sb;a[9]=this.l;return a=a.concat(this.ha)};
ba.prototype.H=function(a){this.u=a[0];this.i=a[1];this.o=a[2];this.h=a[3];this.C=a[4];this.j=a[5];this.G=a[6];this.D=a[7];this.Sb=a[8];this.l=a[9];let b=0;for(let c of a.slice(10))this.ha[b].H(c),b++;this.g=this.ha[this.l]||null};ba.prototype.reset=function(){this.i=this.u=0;this.h.set(this.o);this.C=!0;this.l=this.j=0;this.g=this.ha[0];for(const a of this.ha)a.reset();this.G=!1;this.Sb=this.D=0;nc(this.Oa,this.Ga)};ba.prototype.Ha=function(a){this.Sb|=a;this.Oa.Ha(this.Ga)};
function Zd(a,b,c){this.s=a;this.ja=b;this.cb=this.size=c.cb;this.o=this.size-1;this.enabled=!1;this.Bb=c.Bb;this.j=this.h=this.i=this.g=this.l=0;this.reset()}Zd.prototype.ca=function(){const a=[];a[0]=this.size;a[1]=this.cb;a[2]=this.enabled;a[3]=this.Bb;a[4]=this.l;a[5]=this.g;a[6]=this.i;a[7]=this.h;a[8]=this.j;return a};Zd.prototype.H=function(a){this.size=a[0];this.cb=a[1];this.enabled=a[2];this.Bb=a[3];this.l=a[4];this.g=a[5];this.i=a[6];this.h=a[7];this.j=a[8];this.o=this.size-1};
Zd.prototype.reset=function(){this.enabled=!1;this.j=this.h=this.i=this.g=this.l=0;var a=this.cb;this.size=a;this.o=a-1};function de(a){return a.l&&a.g&&a.h}function ee(a){return a.s.Pa(a.g+2)-a.i&a.o}function ca(a){return(a.s.Pa(a.g+2)&a.o)!==a.i}function ia(a){ca(a);var b=a.s.Pa(a.g+4+2*a.i);b=new fe(a,b);a.i=a.i+1&a.o;return b}function ma(a,b){const c=a.s.Pa(a.h+2)+a.j&a.o;var e=b.i;a.s.pa(a.h+4+8*c,b.C);a.s.pa(a.h+8+8*c,e);a.j++}
function qa(a){if(0!==a.j){var b=a.s.Pa(a.h+2)+a.j&65535;a.s.Re(a.h+2,b);a.j=0;0<(a.ja.h[0]&536870912)?(a.s.Pa(a.g+4+2*a.size),a.ja.Ha(1)):~a.s.Pa(a.g)&1&&a.ja.Ha(1)}}
function fe(a,b){this.s=a.s;this.ja=a.ja;this.C=b;this.l=[];this.ze=this.g=this.j=0;this.u=[];this.i=this.h=this.o=0;let c=a.l;var e=b;b=0;let d=a.size,g=!1;const f=0<(this.ja.h[0]&268435456);do{var h=a,k=c;h={vf:h.s.h(k+16*e),uk:h.s.h(k+16*e+4),$e:h.s.h(k+16*e+8),flags:h.s.Pa(k+16*e+12),next:h.s.Pa(k+16*e+14)};if(f&&h.flags&4)c=h.vf,b=e=0,d=h.$e/16;else{if(h.flags&2)g=!0,this.u.push(h);else{if(g)break;this.l.push(h);this.ze+=h.$e}b++;if(b>d)break;if(h.flags&1)e=h.next;else break}}while(1)}
function ra(a,b){let c=0,e=b.length;for(;e&&a.j!==a.l.length;){var d=a.l[a.j],g=d.vf+a.g;let l=d.$e-a.g;l>e?(l=e,a.g+=e):(a.j++,a.g=0);d=b;var f=d.set,h=a.s,k=l;k&&(h.Ze(g),h.Ze(g+k-1));f.call(d,h.Ua.subarray(g,g+k),c);c+=l;e-=l}}function la(a,b){let c=0,e=b.length;for(;e&&a.o!==a.u.length;){var d=a.u[a.o];const g=d.vf+a.h;d=d.$e-a.h;d>e?(d=e,a.h+=e):(a.o++,a.h=0);ec(a.s,b.subarray(c,c+d),g);c+=d;e-=d}a.i+=c};function ge(a,b){this.v=b;this.rows=25;this.cols=80;this.ports=4;b=[{cb:16,Bb:0},{cb:16,Bb:1},{cb:16,Bb:2},{cb:16,Bb:3}];for(let c=1;c<this.ports;++c)b.push({cb:16,Bb:0}),b.push({cb:8,Bb:1});this.ja=new ba(a,{name:"virtio-console",Ga:56,le:4163,Sf:3,je:{zb:47104,ha:b,features:[0,1,32],zi:()=>{}},notification:{zb:47360,bh:!1,tg:[c=>{for(c=this.ja.ha[c];ee(c)>c.size-2;)ia(c)},c=>{let e=this.ja.ha[c],d=3<c?c-3>>1:0;for(;ca(e);){const g=ia(e),f=new Uint8Array(g.ze);ra(g,f);this.v.send("virtio-console"+
d+"-output-bytes",f);he(this,c,g)}},c=>{if(2==c)for(c=this.ja.ha[c];ee(c)>c.size-2;)ia(c)},c=>{if(3==c)for(var e=this.ja.ha[c];ca(e);){var d=ia(e),g=new Uint8Array(d.ze);ra(d,g);var f=E(["w","h","h"],g,{offset:0});g=f[0];f=f[1];he(this,c,d);switch(f){case 0:for(g=0;g<this.ports;++g)ie(this,g,1,0);break;case 3:he(this,c,d);ie(this,g,4,1);f=g;var h="virtio-"+g;d=ia(this.ja.ha[2]);h=(new TextEncoder).encode(h);let k=new Uint8Array(h.length+9);w(["w","h","h"],[f,7,1],k,0);for(f=0;f<h.length;++f)k[f+8]=
h[f];k[8+h.length]=0;je(this,2,d,k);ie(this,g,6,1);break;case 6:he(this,c,d);0==g&&ke(this,g);break;default:return}}}]},Sb:{zb:46848},zf:{zb:46592,cd:[{bytes:2,name:"cols",read:()=>this.cols,write:()=>{}},{bytes:2,name:"rows",read:()=>this.rows,write:()=>{}},{bytes:4,name:"max_nr_ports",read:()=>this.ports,write:()=>{}},{bytes:4,name:"emerg_wr",read:()=>0,write:()=>{}}]}});for(let c=0;c<this.ports;++c){let e=0==c?0:2*c+2;this.v.register("virtio-console"+c+"-input-bytes",function(d){var g=this.ja.ha[e];
ca(g)&&(g=ia(g),je(this,e,g,new Uint8Array(d)))},this);this.v.register("virtio-console"+c+"-resize",function(d){this.cols=d[0];this.rows=d[1];de(this.ja.ha[2])&&ca(this.ja.ha[2])&&ke(this,c)},this)}}function ke(a,b){const c=ia(a.ja.ha[2]);let e=new Uint8Array(12);w(["w","h","h","h","h"],[b,5,0,a.rows,a.cols],e,0);je(a,2,c,e)}ge.prototype.ca=function(){let a=[];a[0]=this.ja;a[1]=this.rows;a[2]=this.cols;a[3]=this.ports;return a};
ge.prototype.H=function(a){this.ja.H(a[0]);this.rows=a[1];this.cols=a[2];this.ports=a[3]};function ie(a,b,c,e){const d=ia(a.ja.ha[2]);let g=new Uint8Array(8);w(["w","h","h"],[b,c,e],g,0);je(a,2,d,g)}function je(a,b,c,e){la(c,e);ma(a.ja.ha[b],c);qa(a.ja.ha[b])}function he(a,b,c){la(c,new Uint8Array(0));ma(a.ja.ha[b],c);qa(a.ja.ha[b])};function le(){this.Ae={};this.g=void 0}le.prototype.register=function(a,b,c){var e=this.Ae[a];void 0===e&&(e=this.Ae[a]=[]);e.push({Xe:b,Uf:c})};le.prototype.unregister=function(a,b){var c=this.Ae[a];void 0!==c&&(this.Ae[a]=c.filter(function(e){return e.Xe!==b}))};le.prototype.send=function(a,b){if(this.g&&(a=this.g.Ae[a],void 0!==a))for(var c=0;c<a.length;c++){var e=a[c];e.Xe.call(e.Uf,b)}};function me(){var a=new le,b=new le;a.g=b;b.g=a;return[a,b]};function ne(){};function nb(a,b,c){this.Ch=c;this.za=b;oe(this);b=Object.create(null);b.m=this.za.exports.memory;for(var e of Object.keys(this.za.exports))e.startsWith("_")||e.startsWith("zstd")||e.endsWith("_js")||(b[e]=this.za.exports[e]);this.kh=b;this.ya=e=this.za.exports.memory;this.F=O(Uint32Array,e,812,1);this.Ua=new Uint8Array(0);this.Mc=new Int32Array(this.Ua.buffer);this.u=O(Uint8Array,e,724,8);this.Xa=O(Int32Array,e,736,8);this.Wa=O(Uint32Array,e,768,8);this.o=O(Uint8Array,e,512,8);this.da=O(Int32Array,
e,800,1);this.kc=O(Int32Array,e,564,1);this.jc=O(Int32Array,e,568,1);this.hc=O(Int32Array,e,572,1);this.fc=O(Int32Array,e,576,1);this.Vg=O(Int32Array,e,1128,1);this.Nc=O(Uint32Array,e,540,8);this.Ta=O(Int32Array,e,580,8);this.ac=O(Uint8Array,e,612,1);this.W=O(Int32Array,e,804,1);this.jb=O(Int32Array,e,808,1);this.mc=O(Uint8Array,e,616,1);this.Kc=O(Int32Array,e,620,1);this.cc=O(Int32Array,e,624,1);this.zg=O(Int32Array,e,636,1);this.Ug=O(Int32Array,e,640,1);this.Bg=O(Int32Array,e,644,1);this.Oc=O(Int32Array,
e,648,1);this.flags=O(Int32Array,e,120,1);this.dc=O(Int32Array,e,100,1);this.Ic=O(Int32Array,e,96,1);this.Gc=O(Int32Array,e,104,1);O(Int32Array,e,112,1);this.hk=O(Uint32Array,e,960,2);this.A={};this.U=O(Int32Array,e,556,1);this.Qc=O(Int32Array,e,560,1);O(Uint8Array,e,548,1);this.tb=O(Uint8Array,e,552,1);this.g=[];this.j=[];this.$=[];this.i=[];this.Ra={Ef:null,ge:null};this.ri=O(Uint32Array,e,664,1);this.l=O(Int32Array,e,64,8);this.ec=O(Int32Array,e,1152,32);this.P=O(Uint8Array,e,816,1);this.P[0]=
255;this.R=O(Uint8Array,e,1032,1);this.R[0]=0;this.C=O(Uint16Array,e,1036,1);this.C[0]=895;this.kk=O(Uint16Array,e,1040,1);this.kk[0]=0;this.L=O(Int32Array,e,1048,1);this.L[0]=0;this.N=O(Int32Array,e,1052,1);this.N[0]=0;this.O=O(Int32Array,e,1044,1);this.O[0]=0;this.D=O(Int32Array,e,1056,1);this.D[0]=0;this.G=O(Int32Array,e,1060,1);this.G[0]=0;this.rd=O(Int32Array,e,832,32);O(Int32Array,e,824,1);this.Ya=O(Uint16Array,e,668,8);this.bc=O(Int32Array,e,684,8);this.Rc=O(Int32Array,e,968,8);this.Hh=O(Uint32Array,
e,716,1);this.Gh=O(Uint32Array,e,720,1);this.fb=[];this.Cf=0;this.Uc=[];this.B=void 0;this.v=a;this.Wd(0,0);pe(this)}
function oe(a){const b=c=>{const e=a.za.exports[c];console.assert(e,"Missing import: "+c);return e};a.ma=b("reset_cpu");b("getiopl");b("get_eflags");a.qk=b("handle_irqs");a.lh=b("main_loop");a.Bh=b("set_jit_config");a.Dd=b("read8");a.Pa=b("read16");a.h=b("read32s");a.uf=b("write8");a.Re=b("write16");a.pa=b("write32");a.Ze=b("in_mapped_range");b("fpu_load_tag_word");b("fpu_load_status_word");b("fpu_get_sti_f64");b("translate_address_system_read_js");a.pk=b("get_seg_cs");b("get_real_eip");b("clear_tlb");
a.nk=b("full_clear_tlb");a.Xg=b("update_state_flags");a.Wd=b("set_tsc");a.Dh=b("store_current_tsc");a.Ah=b("set_cpuid_level");a.nh=b("pic_set_irq");a.mh=b("pic_clear_irq");a.jh=b("jit_clear_cache_js");a.si=b("jit_dirty_cache");a.fk=b("codegen_finalize_finished");a.ek=b("allocate_memory");a.Jh=b("zero_memory");a.Fh=b("svga_allocate_memory");a.Eh=b("svga_allocate_dest_buffer");a.Ih=b("svga_fill_pixel_buffer");a.De=b("svga_mark_dirty");a.ic=b("get_pic_addr_master");a.$b=b("get_pic_addr_slave");a.eh=
b("zstd_create_ctx");a.hh=b("zstd_get_src_ptr");a.gh=b("zstd_free_ctx");a.he=b("zstd_read");a.ie=b("zstd_read_free");a.oh=b("port20_read");a.qh=b("port21_read");a.wh=b("portA0_read");a.yh=b("portA1_read");a.ph=b("port20_write");a.rh=b("port21_write");a.xh=b("portA0_write");a.zh=b("portA1_write");a.sh=b("port4D0_read");a.uh=b("port4D1_read");a.th=b("port4D0_write");a.vh=b("port4D1_write")}
nb.prototype.ca=function(){var a=[];a[0]=this.F[0];a[1]=new Uint8Array([...this.u,...this.o]);a[2]=this.Xa;a[3]=this.Wa;a[4]=this.da[0];a[5]=this.jc[0];a[6]=this.kc[0];a[7]=this.fc[0];a[8]=this.hc[0];a[9]=this.Nc[0];a[10]=this.Ta;a[11]=this.ac[0];a[13]=this.W[0];a[16]=this.jb[0];a[17]=this.mc[0];a[18]=this.Kc[0];a[19]=this.cc[0];a[22]=this.zg[0];a[23]=this.Bg[0];a[24]=this.Ug[0];a[25]=this.Oc[0];a[26]=this.flags[0];a[27]=this.dc[0];a[28]=this.Gc[0];a[30]=this.Ic[0];a[37]=this.U[0];a[38]=this.Qc[0];
a[39]=this.l;a[40]=this.Ya;a[41]=this.bc;a[42]=this.Rc;this.Dh();a[43]=this.hk;a[45]=this.A.Pe;a[46]=this.A.Md;a[47]=this.A.ad;a[48]=this.A.Oa;a[49]=this.A.kb;a[50]=this.A.ua;a[52]=this.A.ge;a[53]=this.A.Jf;a[54]=this.A.Xf;a[55]=this.A.od;a[56]=this.A.X;a[57]=this.A.I;a[58]=this.A.hf;a[59]=this.A.Gf;var b=new Uint8Array(this.ya.buffer,this.ic(),13),c=new Uint8Array(this.ya.buffer,this.$b(),13),e=[],d=[];e[0]=b[0];e[1]=b[1];e[2]=b[2];e[3]=b[3];e[4]=b[4];e[5]=d;e[6]=b[6];e[7]=b[7];e[8]=b[8];e[9]=b[9];
e[10]=b[10];e[11]=b[11];e[12]=b[12];d[0]=c[0];d[1]=c[1];d[2]=c[2];d[3]=c[3];d[4]=c[4];d[5]=null;d[6]=c[6];d[7]=c[7];d[8]=c[8];d[9]=c[9];d[10]=c[10];d[11]=c[11];d[12]=c[12];a[60]=e;a[61]=this.A.Nf;a[62]=this.fb;a[63]=this.A.Pc;a[64]=this.Vg[0];a[66]=this.rd;a[67]=this.ec;a[68]=this.P[0];a[69]=this.R[0];a[70]=this.C[0];a[71]=this.L[0];a[72]=this.N[0];a[73]=this.D[0];a[74]=this.G[0];a[75]=this.O[0];c=this.Ua.length>>12;b=[];for(e=0;e<c;e++){d=e<<12;d=this.Mc.subarray(d>>2,d+4096>>2);let h=!0;for(let k=
0;k<d.length;k++)if(0!==d[k]){h=!1;break}h||b.push(e)}c=new Eb(c);e=new Uint8Array(b.length<<12);for(let [h,k]of b.entries())c.set(k,1),b=k<<12,e.set(this.Ua.subarray(b,b+4096),h<<12);const {Ai:g,Kh:f}={Kh:c,Ai:e};a[77]=g;a[78]=new Uint8Array(f.yb());a[79]=this.A.de;a[80]=this.A.ee;a[81]=this.A.fe;a[82]=this.A.dd;return a};
nb.prototype.H=function(a){this.F[0]=a[0];this.Ua.length!==this.F[0]&&console.warn("Note: Memory size mismatch. we="+this.Ua.length+" state="+this.F[0]);8===a[1].length?(this.u.set(a[1]),this.o.fill(242),this.o[1]=250):16===a[1].length&&(this.u.set(a[1].subarray(0,8)),this.o.set(a[1].subarray(8,16)));this.Xa.set(a[2]);this.Wa.set(a[3]);this.da[0]=a[4];this.jc[0]=a[5];this.kc[0]=a[6];this.fc[0]=a[7];this.hc[0]=a[8];this.Nc[0]=a[9];this.Ta.set(a[10]);this.ac[0]=a[11];this.W[0]=a[13];this.jb[0]=a[16];
this.mc[0]=a[17];this.Kc[0]=a[18];this.cc[0]=a[19];this.zg[0]=a[22];this.Bg[0]=a[23];this.Ug[0]=a[24];this.Oc[0]=a[25];this.flags[0]=a[26];this.dc[0]=a[27];this.Gc[0]=a[28];this.Ic[0]=a[30];this.U[0]=a[37];this.Qc[0]=a[38];this.l.set(a[39]);this.Ya.set(a[40]);this.bc.set(a[41]);a[42]&&this.Rc.set(a[42]);this.Wd(a[43][0],a[43][1]);this.A.Pe&&this.A.Pe.H(a[45]);this.A.Md&&this.A.Md.H(a[46]);this.A.ad&&this.A.ad.H(a[47]);this.A.Oa&&this.A.Oa.H(a[48]);this.A.kb&&this.A.kb.H(a[49]);this.A.ua&&this.A.ua.H(a[50]);
this.A.ge&&this.A.ge.H(a[52]);this.A.Jf&&this.A.Jf.H(a[53]);this.A.Xf&&this.A.Xf.H(a[54]);this.A.od&&this.A.od.H(a[55]);this.A.X&&this.A.X.H(a[56]);this.A.I&&this.A.I.H(a[57]);this.A.hf&&this.A.hf.H(a[58]);this.A.Gf&&this.A.Gf.H(a[59]);var b=a[60],c=new Uint8Array(this.ya.buffer,this.ic(),13),e=new Uint8Array(this.ya.buffer,this.$b(),13);c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];var d=b[5];c[6]=b[6];c[7]=b[7];c[8]=b[8];c[9]=b[9];c[10]=b[10];c[11]=b[11];c[12]=b[12];e[0]=d[0];e[1]=d[1];e[2]=
d[2];e[3]=d[3];e[4]=d[4];e[6]=d[6];e[7]=d[7];e[8]=d[8];e[9]=d[9];e[10]=d[10];e[11]=d[11];e[12]=d[12];this.A.Nf&&this.A.Nf.H(a[61]);this.A.de&&this.A.de.H(a[79]);this.A.ee&&this.A.ee.H(a[80]);this.A.fe&&this.A.fe.H(a[81]);this.A.dd&&this.A.dd.H(a[82]);this.fb=a[62];this.A.Pc&&this.A.Pc.H(a[63]);this.Vg[0]=a[64];this.rd.set(a[66]);this.ec.set(a[67]);this.P[0]=a[68];this.R[0]=a[69];this.C[0]=a[70];this.L[0]=a[71];this.N[0]=a[72];this.D[0]=a[73];this.G[0]=a[74];this.O[0]=a[75];b=new Eb(a[78].buffer);
a=a[77];this.Jh(this.F[0]);c=this.F[0]>>12;e=0;for(d=0;d<c;d++)if(b.get(d)){let g=e<<12;this.Ua.set(a.subarray(g,g+4096),d<<12);e++}this.Xg();this.nk();this.jh()};function mc(a){a.ma();a.fb=[];a.A.Pe&&a.A.Pe.reset();a.A.dd&&a.A.dd.reset();qb(a)}function qe(a,b){1048576>b?b=1048576:0>(b|0)&&(b=Math.pow(2,31)-131072);b=(b-1|131071)+1|0;console.assert(0===a.F[0],"Expected uninitialised memory");a.F[0]=b;const c=a.ek(b);a.Ua=O(Uint8Array,a.ya,c,b);a.Mc=O(Uint32Array,a.ya,c,b>>2)}
nb.prototype.nb=function(a,b){qe(this,"number"===typeof a.F?a.F:67108864);a.qe&&this.Bh(0,1);a.Fc&&this.Ah(a.Fc);this.tb[0]=+a.ua;this.ma();var c=new gb(this);this.B=c;this.Ra.Ef=a.Ra;this.Ra.ge=a.Bc;qb(this);if(a.eb){const d=re(this.Ua,a.eb,a.ob,a.Sa||"");d&&this.Uc.push(d)}M(c,179,this,function(){return 0});var e=0;M(c,146,this,function(){return e});N(c,146,this,function(d){e=d});M(c,1297,this,function(){return this.Cf<this.fb.length?this.fb[this.Cf++]:0});N(c,1296,this,void 0,function(d){function g(k){return new Uint8Array(Int32Array.of(k).buffer)}
function f(k){return k>>8|k<<8&65280}function h(k){return k<<24|k<<8&16711680|k>>8&65280|k>>>24}this.Cf=0;if(0===d)this.fb=g(1431127377);else if(1===d)this.fb=g(0);else if(3===d)this.fb=g(this.F[0]);else if(5===d)this.fb=g(1);else if(15===d)this.fb=g(1);else if(13===d)this.fb=new Uint8Array(16);else if(25===d){d=new Int32Array(4+64*this.Uc.length);const k=new Uint8Array(d.buffer);d[0]=h(this.Uc.length);for(let l=0;l<this.Uc.length;l++){const {name:m,data:t}=this.Uc[l],r=4+64*l;d[r>>2]=h(t.length);
d[r+4>>2]=f(49152+l);for(let n=0;n<m.length;n++)k[r+8+n]=m.charCodeAt(n)}this.fb=k}else this.fb=32768<=d&&49152>d?g(0):49152<=d&&d-49152<this.Uc.length?this.Uc[d-49152].data:g(0)});M(c,32,this,this.oh);M(c,33,this,this.qh);M(c,160,this,this.wh);M(c,161,this,this.yh);N(c,32,this,this.ph);N(c,33,this,this.rh);N(c,160,this,this.xh);N(c,161,this,this.zh);M(c,1232,this,this.sh);M(c,1233,this,this.uh);N(c,1232,this,this.th);N(c,1233,this,this.vh);this.A={};a.ti&&(this.A.Oa=new ic(this),this.tb[0]&&(this.A.Pc=
new od(this),this.A.Md=new hd(this),this.A.ua=new fd(this)),this.A.ad=new Xc(this),se(this,this.A.ad,a),this.A.kb=new sc(this),this.A.ge=new Ec(this,b,a.Y||8388608),this.A.Jf=new Tc(this,b),this.A.Xf=new $c(this,1016,b),a.de&&(this.A.de=new $c(this,760,b)),a.ee&&(this.A.ee=new $c(this,1E3,b)),a.fe&&(this.A.fe=new $c(this,744,b)),this.A.od=new oc(this,a.aa),c=0,a.I&&(this.A.I=new Ib(this,a.I,a.tc,!1,c++,b)),a.X&&(this.A.X=new Ib(this,a.X,void 0,!0,c++,b)),this.A.hf=new xc(this,b),a.hi&&(this.A.Gf=
new ud(this,b,a.nf,a.pb)),a.Ob&&(this.A.Pe=new aa(a.Ob,this,b)),a.dd&&(this.A.dd=new ge(this,b)),this.A.Nf=new Fd(this,b));a.Ab&&(a=te(this,a.Ab,a.ob,a.Sa))&&(this.Ra.Ef?this.Uc.push(a):this.l[0]=lb(this.B,244))};
function te(a,b,c,e){if(8192>b.byteLength){var d=new Int32Array(2048);(new Uint8Array(d.buffer)).set(new Uint8Array(b))}else d=new Int32Array(b,0,2048);for(var g=0;8192>g;g+=4){if(464367618===d[g>>2]){var f=d[g+4>>2];if(464367618+f+d[g+8>>2]|0)continue}else continue;var h=a;M(a.B,244,a,function(){return 0},function(){return 0},function(){var m=31860,t=0;if(e){t|=4;h.pa(31760,m);e+="\x00";var r=(new TextEncoder).encode(e);ec(h,r,m);m+=r.length}if(f&2){t|=64;r=0;h.pa(31788,0);h.pa(31792,m);var n=0;
var u=!1;for(let p=0;4294967296>p;p+=131072)u&&void 0!==h.g[p>>>17]?(h.pa(m,20),h.pa(m+4,n),h.pa(m+8,0),h.pa(m+12,p-n),h.pa(m+16,0),h.pa(m+20,1),m+=24,r+=24,u=!1):u||void 0!==h.g[p>>>17]||(n=p,u=!0);h.pa(31788,r)}h.pa(31744,t);r=t=0;if(f&65536){t=d[g+16>>2];var x=d[g+20>>2];r=d[g+24>>2];n=d[g+28>>2];u=new Uint8Array(b,g-(d[g+12>>2]-t),0===x?void 0:x-t);ec(h,u,t);t=n|0;r=Math.max(x,r)}else if(1179403647===d[0]){n=new DataView(b);let [p,C]=ue(n,ve);console.assert(52===C);console.assert(1179403647===
p.vi,"Bad magic");console.assert(1===p.Oh,"Unimplemented: 64 bit elf");console.assert(1===p.data,"Unimplemented: big endian");console.assert(1===p.ik,"Bad version0");console.assert(2===p.type,"Unimplemented type");console.assert(1===p.jk,"Bad version1");console.assert(52===p.di,"Bad header size");console.assert(32===p.Fg,"Bad program header size");console.assert(40===p.$g,"Bad section header size");[t]=we(new DataView(n.buffer,n.byteOffset+p.Ci,p.Fg*p.Gg),xe,p.Gg);we(new DataView(n.buffer,n.byteOffset+
p.ak,p.$g*p.ah),ye,p.ah);n=p;u=t;t=n.kg;for(x of u)0!==x.type&&1===x.type&&x.gf+x.Ff<h.F[0]&&(x.mg&&(u=new Uint8Array(b,x.offset,x.mg),ec(h,u,x.gf)),r=Math.max(r,x.gf+x.Ff),t===n.kg&&x.Zf<=t&&x.Zf+x.Ff>t&&(t=t-x.Zf+x.gf))}c&&(h.pa(31764,1),h.pa(31768,m),x=r,0!==(x&4095)&&(x=(x&-4096)+4096),r=x+c.byteLength,h.pa(m,x),h.pa(m+4,r),h.pa(m+8,0),h.pa(m+12,0),ec(h,new Uint8Array(c),x));h.l[3]=31744;h.Ta[0]=1;h.da[0]=1;h.flags[0]=2;h.W[0]=1;h.jb[0]=1;for(m=0;6>m;m++)h.u[m]=0,h.Xa[m]=0,h.Wa[m]=4294967295,
h.Ya[m]=45058;h.U[0]=h.pk()+t|0;h.Xg();return 732803074});a.B.Xb(244,a,function(m){console.log("Test exited with code "+zb(m,2));throw"HALT";},function(){},function(){},function(){});for(let m=0;15>=m;m++){function t(r){r?this.La(m):P(this,m)}N(a.B,8192+m,a,t,t,t)}a=new Uint8Array(512);(new Uint16Array(a.buffer))[0]=43605;a[2]=1;var k=3;a[k++]=102;a[k++]=229;a[k++]=244;let l=a[k]=0;for(let m=0;m<a.length;m++)l+=a[m];a[k]=-l;return{name:"genroms/multiboot.bin",data:a}}}
function se(a,b,c){var e=c.lc||291;b.V[56]=1|e>>4&240;b.V[61]=e&255;b.V[21]=128;b.V[22]=2;e=0;1048576<=a.F[0]&&(e=a.F[0]-1048576>>10,e=Math.min(e,65535));b.V[23]=e&255;b.V[24]=e>>8&255;b.V[48]=e&255;b.V[49]=e>>8&255;e=0;16777216<=a.F[0]&&(e=a.F[0]-16777216>>16,e=Math.min(e,65535));b.V[52]=e&255;b.V[53]=e>>8&255;b.V[91]=0;b.V[92]=0;b.V[93]=0;b.V[20]=47;b.V[95]=0;c.lg&&(b.V[63]=1)}
function qb(a){var b=a.Ra.Ef,c=a.Ra.ge;if(b){var e=new Uint8Array(b);ec(a,e,1048576-b.byteLength);if(c){var d=new Uint8Array(c);ec(a,d,786432);kb(a.B,4272947200,1048576,function(g){g=g-4272947200|0;return g<d.length?d[g]:0},function(){})}kb(a.B,4293918720,1048576,function(g){return this.Ua[g&1048575]}.bind(a),function(g,f){this.Ua[g&1048575]=f}.bind(a))}}
function ze(a,b,c,e,d,g){const f=new Uint8Array(a.ya.buffer,d>>>0,g>>>0);WebAssembly.instantiate(f,{e:a.kh}).then(h=>{a.za.$f.set(b+1024,h.instance.exports.f);a.fk(b,c,e);a.ih&&a.ih(f)})}nb.prototype.La=function(a){this.nh(a);if(this.A.Pc){var b=this.A.Pc;if(!(24<=a)){var c=1<<a;0===(b.i&c)&&(b.i|=c,65536!==(b.g[a]&98304)&&(b.h|=c,ld(b,a)))}}};function P(a,b){a.mh(b);if(a.A.Pc&&(a=a.A.Pc,!(24<=b))){var c=1<<b;(a.i&c)===c&&(a.i&=~c,a.g[b]&32768&&(a.h&=~c))}}
"undefined"!==typeof window?window.CPU=nb:"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports.CPU=nb:"function"===typeof importScripts&&(self.CPU=nb);function pe(a){var b={};a.debug=b;b.nb=function(){};b.Mk=function(){};b.Ek=function(){};b.ca=function(){};b.Gk=function(){};b.Fk=function(){};b.Dk=function(){if(a.Ta[4]&32)for(var g=0;4>g;g++)a.h(a.Ta[3]+8*g)};b.Bk=function(){};b.Ck=function(){};b.Lk=function(){};b.Pk=function(){};b.Wk=function(){};b.xk=function(){};let c,e;b.Ak=function(g,f,h){if(!e){if(void 0===c&&(c="function"===typeof require?require("./capstone-x86.min.js"):window.cs,void 0===c))return;e=[new c.Capstone(c.ARCH_X86,c.MODE_16),
new c.Capstone(c.ARCH_X86,c.MODE_32)]}try{e[g].disasm(f,h).forEach(function(k){ne(zb(k.wk>>>0)+": "+yb(k.bytes.map(l=>zb(l,2).slice(-2)).join(" "),20)+" "+k.mnemonic+" "+k.op_str)})}catch(k){ne("Could not disassemble: "+Array.from(f).map(l=>zb(l,2)).join(" "))}};let d;b.Hk=function(g){if(void 0===d&&(d="function"===typeof require?require("./libwabt.js"):new window.WabtModule,void 0===d))return;g=g.slice();try{var f=d.readWasm(g,{Tk:!1});f.generateNames();f.applyNames();f.toText({Kk:!0,Nk:!0})}catch(l){var h=
new Blob([g]),k=document.createElement("a");k.download="failed.wasm";k.href=window.URL.createObjectURL(h);k.dataset.downloadurl=["application/octet-stream",k.download,k.href].join(":");k.click();window.URL.revokeObjectURL(k.src);console.log(l.toString())}finally{f&&f.ra()}}};let Ae=DataView.prototype,Be={size:1,get:Ae.getUint8,set:Ae.setUint8},Ce={size:2,get:Ae.getUint16,set:Ae.setUint16},X={size:4,get:Ae.getUint32,set:Ae.setUint32},ve=De([{vi:X},{Oh:Be},{data:Be},{ik:Be},{Qk:Be},{sk:Be},{Rk:function(a){return{size:a,get:()=>-1}}(7)},{type:Ce},{Ok:Ce},{jk:X},{kg:X},{Ci:X},{ak:X},{flags:X},{di:Ce},{Fg:Ce},{Gg:Ce},{$g:Ce},{ah:Ce},{Vk:Ce}]);console.assert(52===ve.reduce((a,b)=>a+b.size,0));let xe=De([{type:X},{offset:X},{Zf:X},{gf:X},{mg:X},{Ff:X},{flags:X},{align:X}]);
console.assert(32===xe.reduce((a,b)=>a+b.size,0));let ye=De([{name:X},{type:X},{flags:X},{tk:X},{offset:X},{size:X},{link:X},{info:X},{vk:X},{Jk:X}]);console.assert(40===ye.reduce((a,b)=>a+b.size,0));function De(a){return a.map(function(b){var c=Object.keys(b);console.assert(1===c.length);c=c[0];b=b[c];console.assert(0<b.size);return{name:c,type:b,size:b.size,get:b.get,set:b.set}})}
function ue(a,b){let c={},e=0;for(let d of b)b=d.get.call(a,e,!0),console.assert(void 0===c[d.name]),c[d.name]=b,e+=d.size;return[c,e]}function we(a,b,c){let e=[],d=0;for(var g=0;g<c;g++){let [f,h]=ue(new DataView(a.buffer,a.byteOffset+d,void 0),b);e.push(f);d+=h}return[e,d]};function re(a,b,c,e){var d=new Uint8Array(b);const g=new Uint16Array(b);var f=new Uint32Array(b),h=d[497]||4;if(43605===g[255]&&1400005704===(g[257]|g[258]<<16)){var k=d[529];d[528]=255;d[529]=k&-97|128;g[274]=56832;g[253]=65535;e+="\x00";f[138]=581632;for(d=0;d<e.length;d++)a[581632+d]=e.charCodeAt(d);h=512*(h+1);e=new Uint8Array(b,0,h);b=new Uint8Array(b,h);d=h=0;c&&(h=67108864,d=c.byteLength,a.set(new Uint8Array(c),h));f[134]=h;f[135]=d;a.set(e,524288);a.set(b,1048576);a=new Uint8Array(512);(new Uint16Array(a.buffer))[0]=
43605;a[2]=1;c=3;a[c++]=250;a[c++]=184;a[c++]=32768;a[c++]=128;a[c++]=142;a[c++]=192;a[c++]=142;a[c++]=216;a[c++]=142;a[c++]=224;a[c++]=142;a[c++]=232;a[c++]=142;a[c++]=208;a[c++]=188;a[c++]=57344;a[c++]=224;a[c++]=234;a[c++]=0;a[c++]=0;a[c++]=32800;a[c++]=128;f=a[c]=0;for(b=0;b<a.length;b++)f+=a[b];a[c]=-f;return{name:"genroms/kernel.bin",data:a}}};var Ia=32768,Ga=16384,Na=4;function Ee(a){this.g=[];this.C=[];this.j=a;this.u={Df:0};this.h={};this.l=274877906944;this.o=0;this.i=[];Ea(this,"",-1)}Ee.prototype.ca=function(){let a=[];a[0]=this.g;a[1]=this.u.Df;a[2]=[];for(const [b,c]of Object.entries(this.h))0===(this.g[b].mode&Ga)&&a[2].push([b,c]);a[3]=this.l;a[4]=this.o;return a=a.concat(this.i)};
Ee.prototype.H=function(a){this.g=a[0].map(b=>{const c=new Fe(0);c.H(b);return c});this.u.Df=a[1];this.h={};for(let [b,c]of a[2])c.buffer.byteLength!==c.byteLength&&(c=c.slice()),this.h[b]=c;this.l=a[3];this.o=a[4];this.i=a.slice(5)};function za(a,b,c){var e=a.g[b];0==e.status||2==e.status?c():5===e.status?za(Z(a,e),e.g,c):a.C.push({id:b,rk:c})}
function Ge(a,b,c){var e=He(a);const d=b[0];e.size=b[1];e.wc=b[2];e.Rd=e.wc;e.fd=e.wc;e.mode=b[3];e.uid=b[4];e.Ma=b[5];var g=e.mode&61440;if(g===Ga)for(Ie(a,e,c,d),c=a.g.length-1,b=b[6],e=0;e<b.length;e++)Ge(a,b[e],c);else g===Ia?(e.status=2,e.Hd=b[6],Ie(a,e,c,d)):40960===g&&(e.Me=b[6],Ie(a,e,c,d))}function Je(a,b,c,e){const d=a.g[c],g=a.g[b];Ke(a,b);g.ka.has(e);g.ka.set(e,c);d.ab++;Ke(a,c)&&(d.ka.has(".."),d.ka.has(".")||d.ab++,d.ka.set(".",c),d.ka.set("..",b),g.ab++)}
function Le(a,b,c){const e=Ta(a,b,c),d=a.g[e],g=a.g[b];Ke(a,b);g.ka.delete(c)&&(d.ab--,Ke(a,e)&&(d.ka.get(".."),d.ka.delete(".."),g.ab--))}function Ie(a,b,c,e){-1!=c?(a.g.push(b),b.sc=a.g.length-1,Je(a,c,b.sc,e)):0==a.g.length&&(a.g.push(b),b.ka.set(".",0),b.ka.set("..",0),b.ab=2)}
function Fe(a){this.ka=new Map;this.bf=this.af=this.wc=this.fd=this.Rd=this.sc=this.Ma=this.uid=this.size=this.status=0;this.Me="";this.mode=493;this.Ca={type:0,version:0,path:a};this.ab=0;this.Hd="";this.h=[];this.g=this.i=-1}
Fe.prototype.ca=function(){const a=[];a[0]=this.mode;a[1]=(this.mode&61440)===Ga?[...this.ka]:(this.mode&61440)===Ia?this.Hd:40960===(this.mode&61440)?this.Me:49152===(this.mode&61440)?[this.bf,this.af]:null;a[2]=this.h;a[3]=this.status;a[4]=this.size;a[5]=this.uid;a[6]=this.Ma;a[7]=this.sc;a[8]=this.Rd;a[9]=this.fd;a[10]=this.wc;a[11]=this.Ca.version;a[12]=this.Ca.path;a[13]=this.ab;return a};
Fe.prototype.H=function(a){this.mode=a[0];if((this.mode&61440)===Ga){this.ka=new Map;for(const [b,c]of a[1])this.ka.set(b,c)}else(this.mode&61440)===Ia?this.Hd=a[1]:40960===(this.mode&61440)?this.Me=a[1]:49152===(this.mode&61440)&&([this.bf,this.af]=a[1]);this.h=[];for(const b of a[2]){const c=new Me;c.H(b);this.h.push(c)}this.status=a[3];this.size=a[4];this.uid=a[5];this.Ma=a[6];this.sc=a[7];this.Rd=a[8];this.fd=a[9];this.wc=a[10];this.Ca.type=(this.mode&61440)>>8;this.Ca.version=a[11];this.Ca.path=
a[12];this.ab=a[13]};function Ne(a,b){Object.assign(b,a,{sc:b.sc,ka:b.ka,ab:b.ab})}function He(a){const b=Math.round(Date.now()/1E3);a=new Fe(++a.u.Df);a.fd=a.Rd=a.wc=b;return a}function Ea(a,b,c){var e=a.g[c];if(0<=c&&5===e.status)return c=e.g,b=Ea(Z(a,e),b,c),Oe(a,e.i,b);e=He(a);e.mode=511|Ga;0<=c&&(e.uid=a.g[c].uid,e.Ma=a.g[c].Ma,e.mode=a.g[c].mode&511|Ga);e.Ca.type=Ga>>8;Ie(a,e,c,b);return a.g.length-1}
function Ha(a,b,c){var e=a.g[c];if(5===e.status)return c=e.g,b=Ha(Z(a,e),b,c),Oe(a,e.i,b);e=He(a);e.uid=a.g[c].uid;e.Ma=a.g[c].Ma;e.Ca.type=Ia>>8;e.mode=a.g[c].mode&438|Ia;Ie(a,e,c,b);return a.g.length-1}function Da(a,b,c,e,d){var g=a.g[c];if(5===g.status)return c=g.g,b=Da(Z(a,g),b,c,e,d),Oe(a,g.i,b);g=He(a);g.af=e;g.bf=d;g.uid=a.g[c].uid;g.Ma=a.g[c].Ma;g.Ca.type=192;g.mode=a.g[c].mode&438;Ie(a,g,c,b);return a.g.length-1}
function Ca(a,b,c,e){var d=a.g[c];if(5===d.status)return c=d.g,b=Ca(Z(a,d),b,c,e),Oe(a,d.i,b);d=He(a);d.uid=a.g[c].uid;d.Ma=a.g[c].Ma;d.Ca.type=160;d.Me=e;d.mode=40960;Ie(a,d,c,b);return a.g.length-1}async function Pe(a,b,c,e){var d=a.g[c];if(5===d.status)return c=d.g,e=await Pe(Z(a,d),b,c,e),Oe(a,d.i,e);d=Ha(a,b,c);b=a.g[d];c=new Uint8Array(e.length);c.set(e);await Qe(a,d,c);b.size=e.length;return d}
function ya(a,b,c){var e=a.g[b];if(5===e.status)return ya(Z(a,e),e.g,c);(e.mode&61440)==Ga&&Re(a,b);return!0}async function Va(a,b){var c=a.g[b];if(5===c.status)return await Va(Z(a,c),c.g);2===c.status&&a.j.g(c.Hd);c.status==Na&&(c.status=-1,await Se(a,b))}
async function Sa(a,b,c,e,d){if(b==e&&c==d)return 0;var g=Ta(a,b,c);if(-1===g)return-2;var f=b;Ke(a,f);for(var h="";0!=f;)h="/"+Te(a,f)+h,f=Ue(a,f);if(-1!=Ta(a,e,d)&&(f=Ua(a,e,d),0>f))return f;h=a.g[g];var k=a.g[b];f=a.g[e];if(5===k.status||5===f.status)if(5===k.status&&k.i===f.i){if(a=await Sa(Z(a,k),k.g,c,f.g,d),0>a)return a}else{if(0===J(a,g).sc||!Ke(a,g)&&1<J(a,g).ab)return-1;k=Ta(a,b,c);var l=a.g[k],m=new Fe(-1);Ke(a,k);Object.assign(m,l);const t=a.g.length;a.g.push(m);m.sc=t;5===l.status&&a.i[l.i].g.set(l.g,
t);if(5!==l.status||0===l.g)Le(a,b,c),Je(a,b,t,c);if(Ke(a,k)&&5!==l.status)for(const [r,n]of m.ka)"."!==r&&".."!==r&&Ke(a,n)&&a.g[n].ka.set("..",t);a.h[t]=a.h[k];delete a.h[k];l.ka=new Map;l.ab=0;k=t;l=J(a,g);m=await Qa(a,k,0,l.size);5===f.status?(e=Z(a,f),d=Ke(a,k)?Ea(e,d,f.g):Ha(e,d,f.g),e=J(e,d),Ne(l,e),Ve(a,g,f.i,d)):(h.status=-1,a.i[h.i].g.delete(h.g),Ne(l,h),Je(a,e,g,d));await Oa(a,g,l.size);m&&m.length&&await Ra(a,g,0,m.length,m);if(Ke(a,g))for(const r of We(a,k))if(d=await Sa(a,k,r,g,r),0>
d)return d;await Se(a,k);a=Ua(a,b,c);if(0>a)return a}else Le(a,b,c),Je(a,e,g,d),h.Ca.version++;return 0}async function Ra(a,b,c,e,d){var g=a.g[b];if(5===g.status)b=g.g,await Ra(Z(a,g),b,c,e,d);else{var f=await a.yb(b);!f||f.length<c+e?(await Oa(a,b,Math.floor(3*(c+e)/2)),g.size=c+e,f=await a.yb(b)):g.size<c+e&&(g.size=c+e);d&&f.set(d.subarray(0,e),c);await Qe(a,b,f)}}async function Qa(a,b,c,e){const d=a.g[b];return 5===d.status?(b=d.g,await Qa(Z(a,d),b,c,e)):await Xe(a,b,c,e)}
function Ta(a,b,c){b=a.g[b];if(5===b.status){const e=b.g;c=Ta(Z(a,b),e,c);return-1===c?-1:Ye(a,b.i,c)}a=b.ka.get(c);return void 0===a?-1:a}function wa(a){let b=a.g.length;for(const {h:c,g:e}of a.i)b+=wa(c),b-=e.size;return b}function xa(a){let b=1048576;for(const {h:c}of a.i)b+=xa(c);return b}function ua(a){let b=a.o;for(const {h:c}of a.i)b+=ua(c);return b}function va(a){let b=a.l;for(const {h:c}of a.i)b+=va(c);return a.l}
function Te(a,b){const c=a.g[Ue(a,b)];if(5===c.status)return Te(Z(a,c),a.g[b].g);if(!c)return"";for(const [e,d]of c.ka)if(d===b)return e;return""}function Ba(a,b,c,e){if(Ke(a,c))return-1;const d=a.g[b],g=a.g[c];if(5===d.status)return 5!==g.status||g.i!==d.i?-1:Ba(Z(a,d),d.g,g.g,e);if(5===g.status)return-1;Je(a,b,c,e);return 0}
function Ua(a,b,c){if("."===c||".."===c)return-1;var e=Ta(a,b,c);const d=a.g[e];var g=a.g[b];if(5===g.status)return b=g.g,Ua(Z(a,g),b,c);if(g=Ke(a,e)){a:if(e=a.g[e],5===e.status)var f=Ke(Z(a,e),e.g);else{for(f of e.ka.keys())if("."!==f&&".."!==f){f=!1;break a}f=!0}g=!f}if(g)return-39;Le(a,b,c);0===d.ab&&(d.status=Na);return 0}async function Se(a,b){const c=a.g[b];5===c.status?await Se(Z(a,c),c.g):(c.size=0,delete a.h[b])}
Ee.prototype.yb=async function(a){const b=this.g[a];return this.h[a]?this.h[a]:2===b.status?await this.j.read(b.Hd,0,b.size):null};async function Xe(a,b,c,e){const d=a.g[b];return a.h[b]?a.h[b].subarray(c,c+e):2===d.status?await a.j.read(d.Hd,c,e):null}async function Qe(a,b,c){a.h[b]=c;2===a.g[b].status&&(a.g[b].status=0,a.j.g(a.g[b].Hd))}function J(a,b){b=a.g[b];return 5===b.status?J(Z(a,b),b.g):b}
async function Oa(a,b,c){var e=J(a,b),d=await Xe(a,b,0,e.size);if(c!=e.size){var g=new Uint8Array(c);e.size=c;d&&g.set(d.subarray(0,Math.min(d.length,e.size)),0);await Qe(a,b,g)}}
function Ze(a,b){b=b.replace("//","/");b=b.split("/");0<b.length&&0===b[b.length-1].length&&b.pop();0<b.length&&0===b[0].length&&b.shift();const c=b.length;var e=-1,d=0;let g=null;for(var f=0;f<c;f++)if(e=d,d=Ta(a,e,b[f]),!g&&5===a.g[e].status&&(g="/"+b.slice(f).join("/")),-1==d)return f<c-1?{id:-1,If:-1,name:b[f],og:g}:{id:-1,If:e,name:b[f],og:g};return{id:d,If:e,name:b[f],og:g}}
function Re(a,b){var c=a.g[b];if(5===c.status)Re(Z(a,c),c.g);else{var e=0;for(const d of c.ka.keys())e+=24+$e(d);b=a.h[b]=new Uint8Array(e);c.size=e;e=0;for(const [d,g]of c.ka)c=J(a,g),e+=w(["Q","d","b","s"],[c.Ca,e+13+8+1+2+$e(d),c.mode>>12,d],b,e)}}function Pa(a,b,c){a=a.h[b];if(c>=a.length)return a.length;for(b=0;;){const e=E(["Q","d"],a,{offset:b})[1];if(e>c)break;b=e}return b}function Ke(a,b){b=a.g[b];return 5===b.status?Ke(Z(a,b),b.g):(b.mode&61440)===Ga}
function We(a,b){Ke(a,b);b=a.g[b];if(5===b.status)return We(Z(a,b),b.g);a=[];for(const c of b.ka.keys())"."!==c&&".."!==c&&a.push(c);return a}function Ue(a,b){Ke(a,b);b=a.g[b];if(5!==b.status||0===b.g)return b.ka.get("..");const c=Ue(Z(a,b),b.g);return Ye(a,b.i,c)}function Ve(a,b,c,e){const d=a.g[b];5===d.status&&a.i[d.i].g.delete(d.g);d.status=5;d.i=c;d.g=e;a.i[c].g.set(e,b)}function Oe(a,b,c){const e=He(a),d=a.g.length;a.g.push(e);e.sc=d;Ve(a,d,b,c);return d}
function Ye(a,b,c){const e=a.i[b].g.get(c);return void 0===e?Oe(a,b,c):e}function Z(a,b){return a.i[b.i].h}function Me(){this.type=2;this.start=0;this.length=Infinity;this.h=-1;this.g=""}Me.prototype.ca=function(){const a=[];a[0]=this.type;a[1]=this.start;a[2]=Infinity===this.length?0:this.length;a[3]=this.h;a[4]=this.g;return a};Me.prototype.H=function(a){this.type=a[0];this.start=a[1];this.length=0===a[2]?Infinity:a[2];this.h=a[3];this.g=a[4]};
function af(a){const b=new Me;b.H(a.ca());return b}function bf(a,b){return b.h===a.h&&b.g===a.g&&b.type===a.type}function cf(a,b){return bf(a,b)&&b.start+b.length===a.start}function Ja(a,b,c,e,d){const g=new Me;g.type=a;g.start=b;g.length=c;g.h=e;g.g=d;return g}
function La(a,b,c){b=a.g[b];if(5===b.status){var e=b.g;return La(Z(a,b),e,c)}for(e of b.h)if(!(c.h===e.h&&c.g===e.g||2===c.type||2===e.type||1!==c.type&&1!==e.type||c.start+c.length<=e.start||e.start+e.length<=c.start))return af(e);return null}
function Ka(a,b,c,e){const d=a.g[b];if(5===d.status)return b=d.g,Ka(Z(a,d),b,c,e);c=af(c);if(2!==c.type&&La(a,b,c))return 1;for(a=0;a<d.h.length;a++){e=d.h[a];if(e.start+e.length<=c.start)continue;if(c.start+c.length<=e.start)break;if(e.h!==c.h||e.g!==c.g)continue;b=c.start+c.length;const g=c.start-e.start,f=e.start+e.length-b;if(0<g&&0<f&&e.type===c.type)return 0;0<g&&(e.length=g);if(0>=g&&0<f)e.start=b,e.length=f;else if(0<f){for(;a<d.h.length&&d.h[a].start<b;)a++;d.h.splice(a,0,Ja(e.type,b,f,e.h,
e.g))}else 0>=g&&(d.h.splice(a,1),a--)}if(2!==c.type){a=c;e=!1;for(b=0;b<d.h.length&&!(cf(a,d.h[b])&&(d.h[b].length+=c.length,a=d.h[b],e=!0),c.start<=d.h[b].start);b++);e||(d.h.splice(b,0,a),b++);for(;b<d.h.length;b++)if(bf(d.h[b],a)){cf(d.h[b],a)&&(a.length+=d.h[b].length,d.h.splice(b,1));break}}return 0}function df(a,b){b=Ze(a,b);if(-1!==b.id)return a=J(a,b.id),Array.from(a.ka.keys()).filter(c=>"."!==c&&".."!==c)}
Ee.prototype.Je=function(a){a=Ze(this,a);if(-1===a.id)return Promise.resolve(null);const b=J(this,a.id);return Qa(this,a.id,0,b.size)};function w(a,b,c,e){for(var d,g=0,f=0;f<a.length;f++)switch(d=b[f],a[f]){case "w":c[e++]=d&255;c[e++]=d>>8&255;c[e++]=d>>16&255;c[e++]=d>>24&255;g+=4;break;case "d":c[e++]=d&255;c[e++]=d>>8&255;c[e++]=d>>16&255;c[e++]=d>>24&255;c[e++]=0;c[e++]=0;c[e++]=0;c[e++]=0;g+=8;break;case "h":c[e++]=d&255;c[e++]=d>>8;g+=2;break;case "b":c[e++]=d;g+=1;break;case "s":var h=e,k=0;c[e++]=0;c[e++]=0;g+=2;for(var l of d)ef(l.charCodeAt(0)).forEach(function(m){c[e++]=m;g+=1;k++});c[h+0]=k&255;c[h+1]=k>>8&255;break;
case "Q":w(["b","w","d"],[d.type,d.version,d.path],c,e),e+=13,g+=13}return g}
function E(a,b,c){let e=c.offset;for(var d=[],g=0;g<a.length;g++)switch(a[g]){case "w":var f=b[e++];f+=b[e++]<<8;f+=b[e++]<<16;f+=b[e++]<<24>>>0;d.push(f);break;case "d":f=b[e++];f+=b[e++]<<8;f+=b[e++]<<16;f+=b[e++]<<24>>>0;e+=4;d.push(f);break;case "h":f=b[e++];d.push(f+(b[e++]<<8));break;case "b":d.push(b[e++]);break;case "s":f=b[e++];f+=b[e++]<<8;for(var h="",k=new ff,l=0;l<f;l++){var m=k.i(b[e++]);-1!=m&&(h+=String.fromCharCode(m))}d.push(h);break;case "Q":c.offset=e,f=E(["b","w","d"],b,c),e=
c.offset,d.push({type:f[0],version:f[1],path:f[2]})}c.offset=e;return d};function ff(){this.g=new Uint8Array(5);this.h=0;this.i=function(a){this.g[this.h]=a;this.h++;switch(this.h){case 1:if(128>this.g[0])return this.h=0,this.g[0];break;case 2:if(192==(this.g[0]&224)&&128==(this.g[1]&192))return this.h=0,(this.g[0]&31)<<6|this.g[1]&63}return-1}}function ef(a){if(128>a)return[a];if(2048>a)return[192|a>>6&31,128|a&63]}function $e(a){for(var b=0,c=0;c<a.length;c++)b+=128>a.charCodeAt(c)?1:2;return b};function gf(a){function b(n){!n.altKey&&h[56]&&g(56,!1);return d(n,!1)}function c(n){!n.altKey&&h[56]&&g(56,!1);return d(n,!0)}function e(){for(var n=Object.keys(h),u,x=0;x<n.length;x++)u=+n[x],h[u]&&g(u,!1);h={}}function d(n,u){if(k.v&&(n.shiftKey&&n.ctrlKey&&(73===n.keyCode||74===n.keyCode||75===n.keyCode)||!k.We?0:n.target?n.target.classList.contains("phone_keyboard")||"INPUT"!==n.target.nodeName&&"TEXTAREA"!==n.target.nodeName:1)){a:{if(void 0!==n.code){var x=r[n.code];if(void 0!==x)break a}x=
l[n.keyCode]}if(x)return g(x,u,n.repeat),n.preventDefault&&n.preventDefault(),!1;console.log("Missing char in map: keyCode="+(n.keyCode||-1).toString(16)+" code="+n.code)}}function g(n,u,x){if(u)h[n]&&!x&&g(n,!1);else if(!h[n])return;(h[n]=u)||(n|=128);255<n?(f(n>>8),f(n&255)):f(n)}function f(n){k.v.send("keyboard-code",n)}var h={},k=this;this.We=!0;var l=new Uint16Array([0,0,0,0,0,0,0,0,14,15,0,0,0,28,0,0,42,29,56,0,58,0,0,0,0,0,0,1,0,0,0,0,57,57417,57425,57423,57415,57419,57416,57421,80,0,0,0,0,
82,83,0,11,2,3,4,5,6,7,8,9,10,0,39,0,13,0,0,0,30,48,46,32,18,33,34,35,23,36,37,38,50,49,24,25,16,19,31,20,22,47,17,45,21,44,57435,57436,57437,0,0,82,79,80,81,75,76,77,71,72,73,0,0,0,0,0,0,59,60,61,62,63,64,65,66,67,68,87,88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,39,13,51,12,52,53,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,43,27,40,0,57435,57400,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),m={8:8,10:13,32:32,39:222,
44:188,45:189,46:190,47:191,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,59:186,61:187,91:219,92:220,93:221,96:192,97:65,98:66,99:67,100:68,101:69,102:70,103:71,104:72,105:73,106:74,107:75,108:76,109:77,110:78,111:79,112:80,113:81,114:82,115:83,116:84,117:85,118:86,119:87,120:88,121:89,122:90},t={33:49,34:222,35:51,36:52,37:53,38:55,40:57,41:48,42:56,43:187,58:186,60:188,62:190,63:191,64:50,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,
81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,94:54,95:189,123:219,124:220,125:221,126:192},r={Escape:1,Digit1:2,Digit2:3,Digit3:4,Digit4:5,Digit5:6,Digit6:7,Digit7:8,Digit8:9,Digit9:10,Digit0:11,Minus:12,Equal:13,Backspace:14,Tab:15,KeyQ:16,KeyW:17,KeyE:18,KeyR:19,KeyT:20,KeyY:21,KeyU:22,KeyI:23,KeyO:24,KeyP:25,BracketLeft:26,BracketRight:27,Enter:28,ControlLeft:29,KeyA:30,KeyS:31,KeyD:32,KeyF:33,KeyG:34,KeyH:35,KeyJ:36,KeyK:37,KeyL:38,Semicolon:39,Quote:40,Backquote:41,ShiftLeft:42,
Backslash:43,KeyZ:44,KeyX:45,KeyC:46,KeyV:47,KeyB:48,KeyN:49,KeyM:50,Comma:51,Period:52,Slash:53,IntlRo:53,ShiftRight:54,NumpadMultiply:55,AltLeft:56,Space:57,CapsLock:58,F1:59,F2:60,F3:61,F4:62,F5:63,F6:64,F7:65,F8:66,F9:67,F10:68,NumLock:69,ScrollLock:70,Numpad7:71,Numpad8:72,Numpad9:73,NumpadSubtract:74,Numpad4:75,Numpad5:76,Numpad6:77,NumpadAdd:78,Numpad1:79,Numpad2:80,Numpad3:81,Numpad0:82,NumpadDecimal:83,IntlBackslash:86,F11:87,F12:88,NumpadEnter:57372,ControlRight:57373,NumpadDivide:57397,
AltRight:57400,Home:57415,ArrowUp:57416,PageUp:57417,ArrowLeft:57419,ArrowRight:57421,End:57423,ArrowDown:57424,PageDown:57425,Insert:57426,Delete:57427,OSLeft:57435,OSRight:57436,ContextMenu:57437};this.v=a;this.ra=function(){"undefined"!==typeof window&&(window.removeEventListener("keyup",b,!1),window.removeEventListener("keydown",c,!1),window.removeEventListener("blur",e,!1))};this.nb=function(){"undefined"!==typeof window&&(this.ra(),window.addEventListener("keyup",b,!1),window.addEventListener("keydown",
c,!1),window.addEventListener("blur",e,!1))};this.nb();this.g=function(n){n={keyCode:n};d(n,!0);d(n,!1)};this.ck=function(n){var u=n.charCodeAt(0);u in m?this.g(m[u]):u in t?(f(42),this.g(t[u]),f(170)):console.log("ascii -> keyCode not found: ",u,n)}};function hf(a,b){function c(p){if(!x.enabled||!x.We)return!1;var C=b||document.body,G;if(!(G=document.pointerLockElement))a:{for(p=p.target;p.parentNode;){if(p===C){G=!0;break a}p=p.parentNode}G=!1}return G}function e(p){c(p)&&(p=p.changedTouches)&&p.length&&(p=p[p.length-1],n=p.clientX,u=p.clientY)}function d(){if(m||r||t)x.v.send("mouse-click",[!1,!1,!1]),m=r=t=!1}function g(p){if(x.v&&c(p)&&x.qd){var C=0,G=0,T=p.changedTouches;T?T.length&&(T=T[T.length-1],C=T.clientX-n,G=T.clientY-u,n=T.clientX,
u=T.clientY,p.preventDefault()):"number"===typeof p.movementX?(C=p.movementX,G=p.movementY):"number"===typeof p.webkitMovementX?(C=p.webkitMovementX,G=p.webkitMovementY):"number"===typeof p.mozMovementX?(C=p.mozMovementX,G=p.mozMovementY):(C=p.clientX-n,G=p.clientY-u,n=p.clientX,u=p.clientY);x.v.send("mouse-delta",[.15*C,-(.15*G)]);b&&x.v.send("mouse-absolute",[p.pageX-b.offsetLeft,p.pageY-b.offsetTop,b.offsetWidth,b.offsetHeight])}}function f(p){c(p)&&k(p,!0)}function h(p){c(p)&&k(p,!1)}function k(p,
C){x.v&&(1===p.which?m=C:2===p.which?r=C:3===p.which&&(t=C),x.v.send("mouse-click",[m,r,t]),p.preventDefault())}function l(p){if(c(p)){var C=p.wheelDelta||-p.detail;0>C?C=-1:0<C&&(C=1);x.v.send("mouse-wheel",[C,0]);p.preventDefault()}}var m=!1,t=!1,r=!1,n=0,u=0,x=this;this.enabled=!1;this.We=!0;this.v=a;this.v.register("mouse-enable",function(p){this.enabled=p},this);this.qd=!1;this.v.register("emulator-stopped",function(){this.qd=!1},this);this.v.register("emulator-started",function(){this.qd=!0},
this);this.ra=function(){"undefined"!==typeof window&&(window.removeEventListener("touchstart",e,!1),window.removeEventListener("touchend",d,!1),window.removeEventListener("touchmove",g,!1),window.removeEventListener("mousemove",g,!1),window.removeEventListener("mousedown",f,!1),window.removeEventListener("mouseup",h,!1),window.removeEventListener("wheel",l,{passive:!1}))};this.nb=function(){"undefined"!==typeof window&&(this.ra(),window.addEventListener("touchstart",e,!1),window.addEventListener("touchend",
d,!1),window.addEventListener("touchmove",g,!1),window.addEventListener("mousemove",g,!1),window.addEventListener("mousedown",f,!1),window.addEventListener("mouseup",h,!1),window.addEventListener("wheel",l,{passive:!1}))};this.nb()};function jf(a){if("undefined"!==typeof window)if(window.AudioContext||window.webkitAudioContext){var b=window.AudioWorklet?kf:lf;this.v=a;this.S=window.AudioContext?new AudioContext:new webkitAudioContext;this.cf=new mf(a,this.S);this.h=new nf(a,this.S,this.cf);this.g=new b(a,this.S,this.cf);this.h.start();a.register("emulator-stopped",function(){this.S.suspend()},this);a.register("emulator-started",function(){this.S.resume()},this);a.register("speaker-confirm-initialized",function(){a.send("speaker-has-initialized")},
this);a.send("speaker-has-initialized")}else console.warn("Web browser doesn't support Web Audio API")}jf.prototype.ra=function(){this.S&&this.S.close();this.S=null;this.g&&this.g.Vb&&this.g.Vb.port.close();this.g=null};
function mf(a,b){function c(e){return function(d){e.gain.setValueAtTime(d,this.S.currentTime)}}this.S=b;this.sources=new Map;this.rg=this.qg=this.G=this.D=this.u=1;this.i=this.S.createBiquadFilter();this.j=this.S.createBiquadFilter();this.i.type="highshelf";this.j.type="highshelf";this.i.frequency.setValueAtTime(2E3,this.S.currentTime);this.j.frequency.setValueAtTime(2E3,this.S.currentTime);this.g=this.S.createBiquadFilter();this.h=this.S.createBiquadFilter();this.g.type="lowshelf";this.h.type="lowshelf";
this.g.frequency.setValueAtTime(200,this.S.currentTime);this.h.frequency.setValueAtTime(200,this.S.currentTime);this.l=this.S.createGain();this.o=this.S.createGain();this.C=this.S.createChannelMerger(2);this.L=this.i;this.N=this.j;this.i.connect(this.g);this.g.connect(this.l);this.l.connect(this.C,0,0);this.j.connect(this.h);this.h.connect(this.o);this.o.connect(this.C,0,1);this.C.connect(this.S.destination);a.register("mixer-connect",function(e){var d=e[1];e=this.sources.get(e[0]);void 0===e||e.connect(d)},
this);a.register("mixer-disconnect",function(e){var d=e[1];e=this.sources.get(e[0]);void 0===e||e.disconnect(d)},this);a.register("mixer-volume",function(e){var d=e[0],g=e[1];e=Math.pow(10,e[2]/20);d=0===d?this:this.sources.get(d);void 0===d||d.rf(e,g)},this);a.register("mixer-gain-left",function(e){this.qg=Math.pow(10,e/20);this.update()},this);a.register("mixer-gain-right",function(e){this.rg=Math.pow(10,e/20);this.update()},this);a.register("mixer-treble-left",c(this.i),this);a.register("mixer-treble-right",
c(this.j),this);a.register("mixer-bass-left",c(this.g),this);a.register("mixer-bass-right",c(this.h),this)}function of(a,b,c){b=new pf(a.S,b,a.L,a.N);a.sources.has(c);a.sources.set(c,b);return b}mf.prototype.rf=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.D=a;break;case 1:this.G=a;break;case 2:this.u=a;break;default:return}this.update()};
mf.prototype.update=function(){var a=this.u*this.G*this.rg;this.l.gain.setValueAtTime(this.u*this.D*this.qg,this.S.currentTime);this.o.gain.setValueAtTime(a,this.S.currentTime)};function pf(a,b,c,e){this.S=a;this.o=this.l=!0;this.D=this.C=this.j=this.g=1;this.u=a.createChannelSplitter(2);this.h=a.createGain();this.i=a.createGain();b.connect(this.u);this.u.connect(this.h,0);this.h.connect(c);this.u.connect(this.i,1);this.i.connect(e)}
pf.prototype.update=function(){var a=this.o*this.g*this.j*this.D;this.h.gain.setValueAtTime(this.l*this.g*this.j*this.C,this.S.currentTime);this.i.gain.setValueAtTime(a,this.S.currentTime)};pf.prototype.connect=function(a){var b=!a||2===a;if(b||0===a)this.l=!0;if(b||1===a)this.o=!0;this.update()};pf.prototype.disconnect=function(a){var b=!a||2===a;if(b||0===a)this.l=!1;if(b||1===a)this.o=!1;this.update()};
pf.prototype.rf=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.C=a;break;case 1:this.D=a;break;case 2:this.j=a;break;default:return}this.update()};
function nf(a,b,c){this.Xd=b.createOscillator();this.Xd.type="square";this.Xd.frequency.setValueAtTime(440,b.currentTime);this.g=of(c,this.Xd,1);this.g.disconnect();a.register("pcspeaker-enable",function(){var e=c.sources.get(1);void 0===e||e.connect(void 0)},this);a.register("pcspeaker-disable",function(){var e=c.sources.get(1);void 0===e||e.disconnect(void 0)},this);a.register("pcspeaker-update",function(e){var d=e[1],g=0;3===e[0]&&(g=Math.min(1193181.6665999999/d,this.Xd.frequency.maxValue),g=
Math.max(g,0));this.Xd.frequency.setValueAtTime(g,b.currentTime)},this)}nf.prototype.start=function(){this.Xd.start()};
function kf(a,b,c){this.v=a;this.S=b;this.enabled=!1;this.gb=48E3;b=function(){function d(h){if(0===h)return 1;h*=Math.PI;return Math.sin(h)/h}function g(){var h=Reflect.construct(AudioWorkletProcessor,[],g);h.D=3;h.l=Array(1024);h.u=0;h.L=0;h.o=0;h.G=h.l.length;h.C=0;h.N=f;h.g=f;h.O=1;h.j=0;h.i=0;h.h=0;h.port.onmessage=k=>{switch(k.data.type){case "queue":h.da(k.data.value);break;case "sampling-rate":h.O=k.data.value/sampleRate}};return h}var f=[new Float32Array(256),new Float32Array(256)];Reflect.setPrototypeOf(g.prototype,
AudioWorkletProcessor.prototype);Reflect.setPrototypeOf(g,AudioWorkletProcessor);g.prototype.process=g.prototype.process=function(h,k){for(h=0;h<k[0][0].length;h++){for(var l=0,m=0,t=this.h+this.D,r=this.h-this.D+1;r<=t;r++){var n=this.j+r;l+=this.P(n,0)*this.R(this.i-r);m+=this.P(n,1)*this.R(this.i-r)}if(isNaN(l)||isNaN(m))l=m=0;k[0][0][h]=l;k[0][1][h]=m;this.i+=this.O;this.h=Math.floor(this.i)}k=this.h;k+=this.D+2;this.i-=this.h;this.j+=this.h;this.h=0;this.W(k);return!0};g.prototype.R=function(h){return d(h)*
d(h/this.D)};g.prototype.P=function(h,k){return 0>h?(h+=this.N[0].length,this.N[k][h]):this.g[k][h]};g.prototype.W=function(h){var k=this.g[0].length;k-this.j<h&&(this.$(),this.j-=k)};g.prototype.$=function(){this.N=this.g;this.g=this.U();var h=this.g[0].length;if(256>h){for(var k=this.u,l=0;256>h&&l<this.o;)h+=this.l[k][0].length,k=k+1&this.G-1,l++;h=Math.max(h,256);h=[new Float32Array(h),new Float32Array(h)];h[0].set(this.g[0]);h[1].set(this.g[1]);k=this.g[0].length;for(var m=0;m<l;m++){var t=this.U();
h[0].set(t[0],k);h[1].set(t[1],k);k+=t[0].length}this.g=h}this.yc()};g.prototype.yc=function(){1024>this.C/this.O&&this.port.postMessage({type:"pump"})};g.prototype.da=function(h){this.o<this.G&&(this.l[this.L]=h,this.L=this.L+1&this.G-1,this.o++,this.C+=h[0].length,this.yc())};g.prototype.U=function(){if(!this.o)return f;var h=this.l[this.u];this.l[this.u]=null;this.u=this.u+1&this.G-1;this.o--;this.C-=h[0].length;return h};registerProcessor("dac-processor",g)}.toString();var e=URL.createObjectURL(new Blob([b.substring(b.indexOf("{")+
1,b.lastIndexOf("}"))],{type:"application/javascript"}));this.Vb=null;this.g=this.S.createGain();this.S.audioWorklet.addModule(e).then(()=>{URL.revokeObjectURL(e);this.Vb=new AudioWorkletNode(this.S,"dac-processor",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[2],parameterData:{},processorOptions:{}});this.Vb.port.postMessage({type:"sampling-rate",value:this.gb});this.Vb.port.onmessage=d=>{switch(d.data.type){case "pump":this.yc()}};this.Vb.connect(this.g)});this.h=of(c,this.g,2);this.h.g=
3;a.register("dac-send-data",function(d){this.Lf(d)},this);a.register("dac-enable",function(){this.enabled=!0},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(d){this.gb=d;this.Vb&&this.Vb.port.postMessage({type:"sampling-rate",value:d})},this)}kf.prototype.Lf=function(a){this.Vb&&this.Vb.port.postMessage({type:"queue",value:a},[a[0].buffer,a[1].buffer])};kf.prototype.yc=function(){this.enabled&&this.v.send("dac-request-data")};
function lf(a,b,c){this.v=a;this.S=b;this.enabled=!1;this.gb=22050;this.g=0;this.He=1;this.ef=this.S.createBiquadFilter();this.ef.type="lowpass";this.i=this.ef;this.h=of(c,this.i,2);this.h.g=3;a.register("dac-send-data",function(e){this.Lf(e)},this);a.register("dac-enable",function(){this.enabled=!0;this.yc()},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(e){this.gb=e;this.He=Math.ceil(8E3/e);this.ef.frequency.setValueAtTime(e/2,this.S.currentTime)},
this)}
lf.prototype.Lf=function(a){var b=a[0].length,c=b/this.gb;if(1<this.He){var e=this.S.createBuffer(2,b*this.He,this.gb*this.He);for(var d=e.getChannelData(0),g=e.getChannelData(1),f=0,h=0;h<b;h++)for(var k=0;k<this.He;k++,f++)d[f]=a[0][h],g[f]=a[1][h]}else e=this.S.createBuffer(2,b,this.gb),e.copyToChannel?(e.copyToChannel(a[0],0),e.copyToChannel(a[1],1)):(e.getChannelData(0).set(a[0]),e.getChannelData(1).set(a[1]));a=this.S.createBufferSource();a.buffer=e;a.connect(this.ef);a.addEventListener("ended",this.yc.bind(this));
e=this.S.currentTime;if(this.g<e)for(this.g=e,e=.2-c,b=0;b<=e;)b+=c,this.g+=c,setTimeout(()=>this.yc(),1E3*b);a.start(this.g);this.g+=c;setTimeout(()=>this.yc(),0)};lf.prototype.yc=function(){this.enabled&&(.2<this.g-this.S.currentTime||this.v.send("dac-request-data"))};function qf(a,b){function c(h){f.v&&f.enabled&&(f.h(h.which),h.preventDefault())}function e(h){var k=h.which;8===k?(f.h(127),h.preventDefault()):9===k&&(f.h(9),h.preventDefault())}function d(h){if(f.enabled){for(var k=h.clipboardData.getData("text/plain"),l=0;l<k.length;l++)f.h(k.charCodeAt(l));h.preventDefault()}}function g(h){h.target!==a&&a.blur()}var f=this;this.enabled=!0;this.v=b;this.text="";this.j=!1;this.i=0;this.v.register("serial0-output-byte",function(h){this.bk(String.fromCharCode(h))},
this);this.ra=function(){a.removeEventListener("keypress",c,!1);a.removeEventListener("keydown",e,!1);a.removeEventListener("paste",d,!1);window.removeEventListener("mousedown",g,!1)};this.nb=function(){this.ra();a.style.display="block";a.addEventListener("keypress",c,!1);a.addEventListener("keydown",e,!1);a.addEventListener("paste",d,!1);window.addEventListener("mousedown",g,!1)};this.nb();this.bk=function(h){"\b"===h?(this.text=this.text.slice(0,-1),this.update()):"\r"!==h&&(this.text+=h,"\n"===
h&&(this.j=!0),this.update())};this.update=function(){var h=Date.now(),k=h-this.i;16>k?void 0===this.g&&(this.g=setTimeout(()=>{this.g=void 0;this.i=Date.now();this.l()},16-k)):(void 0!==this.g&&(clearTimeout(this.g),this.g=void 0),this.i=h,this.l())};this.l=function(){a.value=this.text;this.j&&(this.j=!1,a.scrollTop=1E9)};this.h=function(h){f.v&&f.v.send("serial0-input",h)}}
function eb(a,b){this.element=a;if(window.Terminal){var c=this.g=new window.Terminal({logLevel:"off"});c.write("This is the serial console. Whatever you type or paste here will be sent to COM1");var e=c.onData(function(d){for(let g=0;g<d.length;g++)b.send("serial0-input",d.charCodeAt(g))});b.register("serial0-output-byte",function(d){c.write(Uint8Array.of(d))},this);this.ra=function(){e.dispose();c.dispose()}}}eb.prototype.show=function(){this.g&&this.g.open(this.element)};function rf(a,b){this.v=b;this.g=void 0;this.h=[];this.url=a;this.i=Date.now()-1E4;this.v.register("net0-send",function(c){this.send(c)},this)}q=rf.prototype;q.mi=function(a){this.v&&this.v.send("net0-receive",new Uint8Array(a.data))};q.ki=function(){this.connect();setTimeout(this.connect.bind(this),1E4)};q.ni=function(){for(var a=0;a<this.h.length;a++)this.send(this.h[a]);this.h=[]};q.li=function(){};q.ra=function(){this.g&&this.g.close()};
q.connect=function(){if("undefined"!==typeof WebSocket){if(this.g){var a=this.g.readyState;if(0===a||1===a)return}if(!(this.i+1E4>Date.now())){this.i=Date.now();try{this.g=new WebSocket(this.url)}catch(b){console.error(b);return}this.g.binaryType="arraybuffer";this.g.onopen=this.ni.bind(this);this.g.onmessage=this.mi.bind(this);this.g.onclose=this.ki.bind(this);this.g.onerror=this.li.bind(this)}}};
q.send=function(a){this.g&&1===this.g.readyState?this.g.send(a):(this.h.push(a),128<this.h.length&&(this.h=this.h.slice(-64)),this.connect())};function Ya(a){this.Ue=!1;this.D=function(){};var b=me();this.v=b[0];this.nd=b[1];var c,e;const d=new WebAssembly.Table({element:"anyfunc",initial:1924});b={cpu_exception_hook:()=>this.D(),run_hardware_timers:function(f,h){var k=c;const l=k.A.hf.Fb(h,!1),m=k.A.ad.Fb(h,!1);let t=100,r=100;f&&(t=k.A.ua.Fb(h),r=k.A.Md.Fb(h));return Math.min(l,m,t,r)},cpu_event_halt:()=>{this.nd.send("cpu-event-halt")},abort:function(){},microtick:rb,get_rand_int:function(){return Ab()},apic_acknowledge_irq:function(){var f=
c.A.Md;var h=jd(f.i);-1===h||jd(f.Na)>=h||(h&240)<=(f.u&240)?f=-1:(kd(f.i,h),nd(f.Na,h),id(f),f=h);return f},stop_idling:function(){return c.Ch()},io_port_read8:function(f){f=c.B.ports[f];return f.Dd.call(f.oa)},io_port_read16:function(f){f=c.B.ports[f];return f.Pa.call(f.oa)},io_port_read32:function(f){return lb(c.B,f)},io_port_write8:function(f,h){f=c.B.ports[f];f.uf.call(f.oa,h)},io_port_write16:function(f,h){f=c.B.ports[f];f.Re.call(f.oa,h)},io_port_write32:function(f,h){f=c.B.ports[f];f.pa.call(f.oa,
h)},mmap_read8:function(f){return c.g[f>>>17](f)},mmap_read16:function(f){var h=c.g[f>>>17];return h(f)|h(f+1|0)<<8},mmap_read32:function(f){return c.$[f>>>17](f)},mmap_write8:function(f,h){c.j[f>>>17](f,h)},mmap_write16:function(f,h){var k=c.j[f>>>17];k(f,h&255);k(f+1|0,h>>8)},mmap_write32:function(f,h){c.i[f>>>17](f,h)},mmap_write64:function(f,h,k){var l=c.i[f>>>17];l(f,h);l(f+4,k)},mmap_write128:function(f,h,k,l,m){var t=c.i[f>>>17];t(f,h);t(f+4,k);t(f+8,l);t(f+12,m)},log_from_wasm:function(f,
h){[...(new Uint8Array(e.buffer,f>>>0,h>>>0))]},console_log_from_wasm:function(f,h){f=String.fromCharCode(...(new Uint8Array(e.buffer,f>>>0,h>>>0)));console.error(f)},dbg_trace_from_wasm:function(){},codegen_finalize:(f,h,k,l,m)=>{ze(c,f,h,k,l,m)},jit_clear_func:f=>{c.za.$f.set(f+1024,null)},jit_clear_all_funcs:()=>{const f=c.za.$f;for(let h=0;900>h;h++)f.set(1024+h,null)},__indirect_function_table:d};let g=a.Xk;g||(g=f=>new Promise(h=>{let k="v86.wasm",l="v86-fallback.wasm";if(a.lk){k=a.lk;const m=
k.lastIndexOf("/");l=(-1===m?"":k.substr(0,m))+"/"+l}else"undefined"===typeof window&&"string"===typeof __dirname?(k=__dirname+"/"+k,l=__dirname+"/"+l):(k="build/"+k,l="build/"+l);Hb(k,{done:async m=>{try{const {instance:t}=await WebAssembly.instantiate(m,f);this.C=m;h(t.exports)}catch(t){Hb(l,{done:async r=>{const {instance:n}=await WebAssembly.instantiate(r,f);this.C=r;h(n.exports)}})}},progress:m=>{this.nd.send("download-progress",{we:0,ve:1,xe:k,lengthComputable:m.lengthComputable,total:m.total,
loaded:m.loaded})}})}));g({env:b}).then(f=>{e=f.memory;f.rust_init();f=this.g=new mb(this.nd,{exports:f,$f:d});c=f.s;sf(this,f,a)});this.i=null;this.G=0}
async function sf(a,b,c){function e(r,n){switch(r){case "hda":g.I=this.$a.I=n;break;case "hdb":g.tc=this.$a.tc=n;break;case "cdrom":g.X=this.$a.X=n;break;case "fda":g.aa=this.$a.aa=n;break;case "fdb":g.Td=this.$a.Td=n;break;case "multiboot":g.Ab=this.$a.Ab=n.buffer;break;case "bzimage":g.eb=this.$a.eb=n.buffer;break;case "initrd":g.ob=this.$a.ob=n.buffer;break;case "bios":g.Ra=n.buffer;break;case "vga_bios":g.Bc=n.buffer;break;case "initial_state":g.Rb=n.buffer;break;case "fs9p_json":g.pg=n}}async function d(){if(g.Ob&&
g.pg&&!g.Rb){var r=g.Ob,n=g.pg;if(3!==n.version)throw"The filesystem JSON format has changed. Please update your fs2json (https://github.com/copy/fs2json) and recreate the filesystem JSON.";var u=n.fsroot;r.o=n.size;for(n=0;n<u.length;n++)Ge(r,u[n],0);if(c.Gb){const {Lh:x,pi:p}=tf(g.Ob),[C,G]=await Promise.all([g.Ob.Je(p),g.Ob.Je(x)]);e.call(this,"initrd",new tb(C.buffer));e.call(this,"bzimage",new tb(G.buffer))}}this.Eb&&this.Eb.show&&this.Eb.show();this.v.send("cpu-init",g);g.Rb&&(b.$d(g.Rb),g.Rb=
void 0);c.gd&&this.v.send("cpu-run");this.nd.send("emulator-loaded")}a.v.register("emulator-stopped",function(){this.Ue=!1},a);a.v.register("emulator-started",function(){this.Ue=!0},a);var g={};a.$a={aa:void 0,Td:void 0,I:void 0,tc:void 0,X:void 0};var f=c.lc?c.lc:c.aa?801:c.I?786:291;g.ua=c.ua;g.qe=c.qe;g.ti=!0;g.ui=c.ui;g.F=c.F||67108864;g.Y=c.Y||8388608;g.lc=f;g.lg=c.lg||!1;g.aa=void 0;g.Td=void 0;g.de=c.de;g.ee=c.ee;g.fe=c.fe;g.Sa=c.Sa;g.nf=c.nf;g.pb=c.pb;g.Fc=c.Fc;g.dd=c.dd;c.Ee?a.Ee=c.Ee(a.v):
c.xg&&(a.Ee=new rf(c.xg,a.v));g.hi=!0;c.yk||(a.u=new gf(a.v));c.zk||(a.l=new hf(a.v,c.zc));c.zc?a.h=new Wa(c.zc,a.v):c.Uk&&(a.h=new uf(a.v));c.Zj&&(a.Eb=new qf(c.Zj,a.v));c.$j&&(a.Eb=new eb(c.$j,a.v));c.Xh||(a.j=new jf(a.v));var h=[];f=(r,n)=>{if(n)if(n.get&&n.set&&n.load)h.push({name:r,Be:n});else{if("bios"===r||"vga_bios"===r||"initial_state"===r||"multiboot"===r||"bzimage"===r||"initrd"===r)n.async=!1;n.url&&!n.async?h.push({name:r,url:n.url,size:n.size}):h.push({name:r,Be:xb(n,a.fh.bind(a))})}};
c.state&&console.warn("Warning: Unknown option 'state'. Did you mean 'initial_state'?");f("bios",c.Ra);f("vga_bios",c.Bc);f("cdrom",c.X);f("hda",c.I);f("hdb",c.tc);f("fda",c.aa);f("fdb",c.Td);f("initial_state",c.Rb);f("multiboot",c.Ab);f("bzimage",c.eb);f("initrd",c.ob);if(c.filesystem){f=c.filesystem.Pd;var k=c.filesystem.Cc;let r=new vf;k&&(r=new wf(r,k));g.Ob=a.Ob=new Ee(r);if(f){if("object"===typeof f){var l=f.size;f=f.url}h.push({name:"fs9p_json",url:f,size:l,Nd:!0})}}var m=h.length,t=function(r){if(r===
m)setTimeout(d.bind(this),0);else{var n=h[r];n.Be?(n.Be.onload=function(){e.call(this,n.name,n.Be);t(r+1)}.bind(this),n.Be.load()):Hb(n.url,{done:function(u){if(n.url.endsWith(".zst")&&"initial_state"!==n.name){var x=n.size,p=new Uint8Array(u);u=this.g.s;this.o=u.eh(p.length);(new Uint8Array(u.ya.buffer)).set(p,u.hh(this.o));p=u.he(this.o,x);const C=u.ya.buffer.slice(p,p+x);u.ie(p,x);u.gh(this.o);this.o=null;u=C}e.call(this,n.name,n.Nd?u:new tb(u));t(r+1)}.bind(this),progress:function(u){200===u.target.status?
a.nd.send("download-progress",{we:r,ve:m,xe:n.url,lengthComputable:u.lengthComputable,total:u.total||n.size,loaded:u.loaded}):a.nd.send("download-error",{we:r,ve:m,xe:n.url,request:u.target})},Nd:n.Nd})}}.bind(a);t(0)}q=Ya.prototype;
q.fh=async function(a,b){if(!this.i){const c=URL.createObjectURL(new Blob(["("+function(){let e;globalThis.onmessage=function(d){if(e){var g=d.data.src,f=d.data.Wh;d=d.data.id;var h=e.exports,k=h.zstd_create_ctx(g.length);(new Uint8Array(h.memory.buffer)).set(g,h.zstd_get_src_ptr(k));g=h.zstd_read(k,f);var l=h.memory.buffer.slice(g,g+f);h.zstd_read_free(g,f);h.zstd_free_ctx(k);postMessage({result:l,id:d},[l])}else f=Object.fromEntries("cpu_exception_hook run_hardware_timers cpu_event_halt microtick get_rand_int apic_acknowledge_irq stop_idling io_port_read8 io_port_read16 io_port_read32 io_port_write8 io_port_write16 io_port_write32 mmap_read8 mmap_read16 mmap_read32 mmap_write8 mmap_write16 mmap_write32 mmap_write64 mmap_write128 codegen_finalize jit_clear_func jit_clear_all_funcs".split(" ").map(m=>
[m,()=>console.error("zstd worker unexpectedly called "+m)])),f.__indirect_function_table=new WebAssembly.Table({element:"anyfunc",initial:1024}),f.abort=()=>{throw Error("zstd worker aborted");},f.log_from_wasm=f.console_log_from_wasm=(m,t)=>{console.log(String.fromCharCode(...(new Uint8Array(e.exports.memory.buffer,m,t))))},f.dbg_trace_from_wasm=()=>console.trace(),e=new WebAssembly.Instance(new WebAssembly.Module(d.data),{env:f})}}.toString()+")()"],{type:"text/javascript"}));this.i=new Worker(c);
URL.revokeObjectURL(c);this.i.postMessage(this.C,[this.C])}return new Promise(c=>{const e=this.G++,d=async g=>{g.data.id===e&&(this.i.removeEventListener("message",d),c(g.data.result))};this.i.addEventListener("message",d);this.i.postMessage({src:b,Wh:a,id:e},[b.buffer])})};
function tf(a){const b=(df(a,"/")||[]).map(d=>"/"+d);a=(df(a,"/boot/")||[]).map(d=>"/boot/"+d);let c,e;for(let d of[].concat(b,a)){const g=/old/i.test(d)||/fallback/i.test(d),f=/initrd/i.test(d)||/initramfs/i.test(d);!/vmlinuz/i.test(d)&&!/bzimage/i.test(d)||e&&g||(e=d);!f||c&&g||(c=d)}c&&e||(console.log("Failed to find bzimage or initrd in filesystem. Files:"),console.log(b.join(" ")),console.log(a.join(" ")));return{pi:c,Lh:e}}q.pf=async function(){this.v.send("cpu-run")};
q.stop=async function(){this.Ue&&await new Promise(a=>{const b=()=>{this.v.unregister("emulator-stopped",b);a()};K(this,"emulator-stopped",b);this.v.send("cpu-stop")})};q.ra=async function(){await this.stop();this.g.ra();this.u&&this.u.ra();this.Ee&&this.Ee.ra();this.l&&this.l.ra();this.h&&this.h.ra();this.Eb&&this.Eb.ra();this.j&&this.j.ra()};q.Mf=function(){this.v.send("cpu-restart")};function K(a,b,c){a.v.register(b,c,a)}q.$d=async function(a){this.g.$d(a)};q.Ke=async function(){return this.g.Ke()};
q.qd=function(){return this.Ue};q.Le=async function(a){if(a.url&&!a.async)Hb(a.url,{done:b=>{this.g.s.A.od.Le(new tb(b))}});else{const b=xb(a,this.fh.bind(this));b.onload=()=>{this.g.s.A.od.Le(b)};await b.load()}};q.Ve=function(){this.g.s.A.od.Ve()};function db(a,b){for(var c=0;c<b.length;c++)a.v.send("keyboard-code",b[c])}function Xa(a,b){for(var c=0;c<b.length;c++)a.u.ck(b[c])}
function cb(){var a=document.body,b=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock;b&&b.call(a)}q.Sh=async function(a,b){var c=this.Ob;if(c){var e=a.split("/");e=e[e.length-1];a=Ze(c,a).If;if(""!==e&&-1!==a)await Pe(c,e,a,b);else return Promise.reject(new xf)}};q.Je=async function(a){var b=this.Ob;if(b)return(a=await b.Je(a))?a:Promise.reject(new xf)};function xf(){this.message="File not found"}xf.prototype=Error.prototype;
"undefined"!==typeof window?(window.V86Starter=Ya,window.V86=Ya):"undefined"!==typeof module&&"undefined"!==typeof module.exports?(module.exports.V86Starter=Ya,module.exports.V86=Ya):"function"===typeof importScripts&&(self.V86Starter=Ya,self.V86=Ya);function uf(a){var b,c,e,d,g;this.v=a;a.register("screen-set-mode",function(f){this.Qf(f)},this);a.register("screen-fill-buffer-end",function(f){this.Yf(f[0])},this);a.register("screen-put-char",function(f){this.Kf(f[0],f[1],f[2],f[3],f[4])},this);a.register("screen-text-scroll",function(f){console.log("scroll",f)},this);a.register("screen-update-cursor",function(f){this.Jd(f[0],f[1])},this);a.register("screen-update-cursor-scanline",function(f){this.Kd(f[0],f[1])},this);a.register("screen-set-size-text",
function(f){this.Gd(f[0],f[1])},this);a.register("screen-set-size-graphical",function(f){this.Fd(f[0],f[1])},this);this.Kf=function(f,h,k,l,m){f<g&&h<d&&(f=3*(f*d+h),e[f]=k,e[f+1]=l,e[f+2]=m)};this.ra=function(){};this.Qf=function(){};this.eg=function(){};this.Gd=function(f,h){if(f!==d||h!==g)e=new Int32Array(f*h*3),d=f,g=h};this.Fd=function(){};this.Rf=function(){};this.Kd=function(){};this.Jd=function(f,h){if(f!==b||h!==c)b=f,c=h};this.Yf=function(){}};const Za={dk:function(a){return Za.Vj(a)+Za.Uj(a)},Vj:function(a){let b="";var c="COMPILE COMPILE_SKIPPED_NO_NEW_ENTRY_POINTS COMPILE_WRONG_ADDRESS_SPACE COMPILE_CUT_OFF_AT_END_OF_PAGE COMPILE_WITH_LOOP_SAFETY COMPILE_PAGE COMPILE_PAGE/COMPILE COMPILE_BASIC_BLOCK COMPILE_DUPLICATED_BASIC_BLOCK COMPILE_WASM_BLOCK COMPILE_WASM_LOOP COMPILE_DISPATCHER COMPILE_ENTRY_POINT COMPILE_WASM_TOTAL_BYTES COMPILE_WASM_TOTAL_BYTES/COMPILE_PAGE RUN_INTERPRETED RUN_INTERPRETED_NEW_PAGE RUN_INTERPRETED_PAGE_HAS_CODE RUN_INTERPRETED_PAGE_HAS_ENTRY_AFTER_PAGE_WALK RUN_INTERPRETED_NEAR_END_OF_PAGE RUN_INTERPRETED_DIFFERENT_STATE RUN_INTERPRETED_DIFFERENT_STATE_CPL3 RUN_INTERPRETED_DIFFERENT_STATE_FLAT RUN_INTERPRETED_DIFFERENT_STATE_IS32 RUN_INTERPRETED_DIFFERENT_STATE_SS32 RUN_INTERPRETED_MISSED_COMPILED_ENTRY_RUN_INTERPRETED RUN_INTERPRETED_STEPS RUN_FROM_CACHE RUN_FROM_CACHE_STEPS RUN_FROM_CACHE_STEPS/RUN_FROM_CACHE RUN_FROM_CACHE_STEPS/RUN_INTERPRETED_STEPS DIRECT_EXIT INDIRECT_JUMP INDIRECT_JUMP_NO_ENTRY NORMAL_PAGE_CHANGE NORMAL_FALLTHRU NORMAL_FALLTHRU_WITH_TARGET_BLOCK NORMAL_BRANCH NORMAL_BRANCH_WITH_TARGET_BLOCK CONDITIONAL_JUMP CONDITIONAL_JUMP_PAGE_CHANGE CONDITIONAL_JUMP_EXIT CONDITIONAL_JUMP_FALLTHRU CONDITIONAL_JUMP_FALLTHRU_WITH_TARGET_BLOCK CONDITIONAL_JUMP_BRANCH CONDITIONAL_JUMP_BRANCH_WITH_TARGET_BLOCK DISPATCHER_SMALL DISPATCHER_LARGE LOOP LOOP_SAFETY CONDITION_OPTIMISED CONDITION_UNOPTIMISED CONDITION_UNOPTIMISED_PF CONDITION_UNOPTIMISED_UNHANDLED_L CONDITION_UNOPTIMISED_UNHANDLED_LE FAILED_PAGE_CHANGE SAFE_READ_FAST SAFE_READ_SLOW_PAGE_CROSSED SAFE_READ_SLOW_NOT_VALID SAFE_READ_SLOW_NOT_USER SAFE_READ_SLOW_IN_MAPPED_RANGE SAFE_WRITE_FAST SAFE_WRITE_SLOW_PAGE_CROSSED SAFE_WRITE_SLOW_NOT_VALID SAFE_WRITE_SLOW_NOT_USER SAFE_WRITE_SLOW_IN_MAPPED_RANGE SAFE_WRITE_SLOW_READ_ONLY SAFE_WRITE_SLOW_HAS_CODE SAFE_READ_WRITE_FAST SAFE_READ_WRITE_SLOW_PAGE_CROSSED SAFE_READ_WRITE_SLOW_NOT_VALID SAFE_READ_WRITE_SLOW_NOT_USER SAFE_READ_WRITE_SLOW_IN_MAPPED_RANGE SAFE_READ_WRITE_SLOW_READ_ONLY SAFE_READ_WRITE_SLOW_HAS_CODE PAGE_FAULT TLB_MISS MAIN_LOOP MAIN_LOOP_IDLE DO_MANY_CYCLES CYCLE_INTERNAL INVALIDATE_ALL_MODULES_NO_FREE_WASM_INDICES INVALIDATE_MODULE_WRITTEN_WHILE_COMPILED INVALIDATE_MODULE_UNUSED_AFTER_OVERWRITE INVALIDATE_MODULE_DIRTY_PAGE INVALIDATE_PAGE_HAD_CODE INVALIDATE_PAGE_HAD_ENTRY_POINTS DIRTY_PAGE_DID_NOT_HAVE_CODE RUN_FROM_CACHE_EXIT_SAME_PAGE RUN_FROM_CACHE_EXIT_NEAR_END_OF_PAGE RUN_FROM_CACHE_EXIT_DIFFERENT_PAGE CLEAR_TLB FULL_CLEAR_TLB TLB_FULL TLB_GLOBAL_FULL MODRM_SIMPLE_REG MODRM_SIMPLE_REG_WITH_OFFSET MODRM_SIMPLE_CONST_OFFSET MODRM_COMPLEX SEG_OFFSET_OPTIMISED SEG_OFFSET_NOT_OPTIMISED SEG_OFFSET_NOT_OPTIMISED_ES SEG_OFFSET_NOT_OPTIMISED_FS SEG_OFFSET_NOT_OPTIMISED_GS SEG_OFFSET_NOT_OPTIMISED_NOT_FLAT".split(" "),
e=0;const d={};for(let f=0;f<c.length;f++){const h=c[f];var g=void 0;if(h.includes("/")){e++;const [k,l]=h.split("/");g=d[k]/d[l]}else g=d[h]=a.za.exports.profiler_stat_get(f-e),g=1E8<=g?Math.round(g/1E6)+"m":1E5<=g?Math.round(g/1E3)+"k":g;b+=h+"="+g+"\n"}b+="\n";c=a.za.exports.get_valid_tlb_entries_count();e=a.za.exports.get_valid_global_tlb_entries_count();b=b+("TLB_ENTRIES="+c+" ("+e+" global, "+(c-e)+" non-global)\nWASM_TABLE_FREE=")+(a.za.exports.jit_get_wasm_table_index_free_list_count()+"\n");
b+="JIT_CACHE_SIZE="+a.za.exports.jit_get_cache_size()+"\n";b+="FLAT_SEGMENTS="+a.za.exports.has_flat_segmentation()+"\n";b+="wasm memory size: "+(a.ya.buffer.byteLength>>20)+"m\n";b=b+"Config:\nJIT_DISABLED="+(a.za.exports.get_jit_config(0)+"\n");b+="MAX_PAGES="+a.za.exports.get_jit_config(1)+"\n";b+="JIT_USE_LOOP_SAFETY="+!!a.za.exports.get_jit_config(2)+"\n";return b+="MAX_EXTRA_BASIC_BLOCKS="+a.za.exports.get_jit_config(3)+"\n"},Uj:function(a){return[Za.Ge(a,!1,!1,!1,!1),Za.Ge(a,!0,!1,!1,!1),
Za.Ge(a,!1,!0,!1,!1),Za.Ge(a,!1,!1,!0,!1),Za.Ge(a,!1,!1,!1,!0)].join("\n\n")},Ge:function(a,b,c,e,d){let g="";var f=[],h=b?"compiled":c?"jit exit":e?"unguarded register":d?"wasm size":"executed";for(let m=0;256>m;m++)for(let t=0;8>t;t++)for(let r of[!1,!0]){var k=a.za.exports.get_opstats_buffer(b,c,e,d,m,!1,r,t);f.push({ff:m,count:k,vg:r,ng:t});k=a.za.exports.get_opstats_buffer(b,c,e,d,m,!0,r,t);f.push({ff:3840|m,count:k,vg:r,ng:t})}a=0;b=new Set([38,46,54,62,100,101,102,103,240,242,243]);for(let {count:m,
ff:t}of f)b.has(t)||(a+=m);if(0===a)return"";c=new Uint32Array(256);b=new Uint32Array(256);for(let {ff:m,count:t}of f)3840==(m&65280)?b[m&255]+=t:c[m&255]+=t;g=g+"------------------\nTotal: "+(a+"\n");const l=1E7<a?1E3:1;e=Math.max.apply(Math,f.map(({count:m})=>Math.round(m/l)));e=String(e).length;g+=`Instruction counts ${h} (in ${l}):\n`;for(d=0;256>d;d++)g+=d.toString(16).padStart(2,"0")+":"+yb(Math.round(c[d]/l),e),g=15==d%16?g+"\n":g+" ";g=g+"\n"+`Instruction counts ${h} (0f, in ${l}):\n`;for(h=
0;256>h;h++)g+=(h&255).toString(16).padStart(2,"0")+":"+yb(Math.round(b[h]/l),e),g=15==h%16?g+"\n":g+" ";g+="\n";f=f.filter(({count:m})=>m).sort(({count:m},{count:t})=>t-m);for(let {ff:m,vg:t,ng:r,count:n}of f.slice(0,200))g+=m.toString(16)+"_"+r+(t?"_m":"_r")+":"+(n/a*100).toFixed(2)+" ";return g+"\n"}};"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports.print_stats=Za);function vf(){this.h=new Map}vf.prototype.read=async function(a,b,c){return(a=this.h.get(a))?a.subarray(b,b+c):null};vf.prototype.cache=async function(a,b){this.h.set(a,b)};vf.prototype.g=function(a){this.h.delete(a)};function wf(a,b){b.endsWith("/")||(b+="/");this.h=a;this.Cc=b}function yf(a,b){return new Promise(c=>{Hb(a.Cc+b,{done:async e=>{e=new Uint8Array(e);await a.cache(b,e);c(e)}})})}
wf.prototype.read=async function(a,b,c){const e=await this.h.read(a,b,c);return e?e:(await yf(this,a)).subarray(b,b+c)};wf.prototype.cache=async function(a,b){return await this.h.cache(a,b)};wf.prototype.g=function(a){this.h.g(a)};
"undefined"!==typeof window?(window.MemoryFileStorage=vf,window.ServerFileStorageWrapper=wf):"undefined"!==typeof module&&"undefined"!==typeof module.exports?(module.exports.MemoryFileStorage=vf,module.exports.ServerFileStorageWrapper=wf):"function"===typeof importScripts&&(self.MemoryFileStorage=vf,self.ServerFileStorageWrapper=wf);
